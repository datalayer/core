diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/AutoIndentEngine.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/AutoIndentEngine.d.ts
new file mode 100644
index 0000000..8853eaf
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/AutoIndentEngine.d.ts
@@ -0,0 +1,111 @@
+/**
+ * AutoIndent Engine
+ *
+ * Core logic for calculating language-aware code indentation.
+ * Processes indent/dedent rules and applies them based on line content.
+ *
+ * @module autoindent/AutoIndentEngine
+ */
+import type { IndentContext, IndentResult } from './types';
+import { LanguageIndentRegistry } from './LanguageIndentRegistry';
+/**
+ * Engine for calculating intelligent code indentation
+ *
+ * Uses language-specific rules to determine appropriate indentation
+ * based on line content and context.
+ *
+ * @example
+ * ```typescript
+ * const registry = new LanguageIndentRegistry();
+ * const engine = new AutoIndentEngine(registry);
+ *
+ * const result = engine.calculateIndent({
+ *   currentLine: 'if x > 0:',
+ *   language: 'python',
+ *   currentIndent: 0,
+ * });
+ *
+ * console.log(result.spaces); // 4
+ * console.log(result.shouldIndent); // true
+ * ```
+ */
+export declare class AutoIndentEngine {
+    private registry;
+    private debug;
+    /**
+     * Create a new autoindent engine
+     *
+     * @param registry - Language configuration registry
+     * @param debug - Enable debug logging
+     */
+    constructor(registry: LanguageIndentRegistry, debug?: boolean);
+    /**
+     * Calculate indentation for a new line based on current line context
+     *
+     * @param context - Indentation context
+     * @returns Indent result with spaces and indent/dedent flags
+     */
+    calculateIndent(context: IndentContext): IndentResult;
+    /**
+     * Get tab string for a language (either spaces or actual tab character)
+     *
+     * @param language - Language identifier
+     * @returns String to insert for one tab press
+     */
+    getTabString(language: string | null | undefined): string;
+    /**
+     * Get tab size (number of spaces) for a language
+     *
+     * @param language - Language identifier
+     * @returns Number of spaces per indentation level
+     */
+    getTabSize(language: string | null | undefined): number;
+    /**
+     * Calculate indentation for outdenting (Shift+Tab or dedent)
+     *
+     * @param currentIndent - Current indentation in spaces
+     * @param language - Language identifier
+     * @returns New indentation level after outdent
+     */
+    calculateOutdent(currentIndent: number, language: string | null | undefined): number;
+    /**
+     * Get leading whitespace count from a line
+     *
+     * @param line - Line of text
+     * @returns Number of leading whitespace characters (spaces and tabs)
+     */
+    private getLeadingWhitespaceCount;
+    /**
+     * Get leading whitespace string from a line
+     *
+     * @param line - Line of text
+     * @returns Leading whitespace characters
+     */
+    getLeadingWhitespace(line: string): string;
+    /**
+     * Check if a line matches an indent rule
+     *
+     * @param line - Line of text
+     * @param rule - Indent rule to check
+     * @returns True if line matches the rule
+     */
+    private matchesIndentRule;
+    /**
+     * Check if a line matches a dedent rule
+     *
+     * @param line - Line of text
+     * @param rule - Dedent rule to check
+     * @returns True if line matches the rule
+     */
+    private matchesDedentRule;
+    /**
+     * Normalize indentation to use consistent spacing
+     * Converts tabs to spaces based on language config
+     *
+     * @param line - Line of text
+     * @param language - Language identifier
+     * @returns Line with normalized indentation
+     */
+    normalizeIndentation(line: string, language: string | null | undefined): string;
+}
+export default AutoIndentEngine;
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/AutoIndentEngine.js b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/AutoIndentEngine.js
new file mode 100644
index 0000000..1f42b6b
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/AutoIndentEngine.js
@@ -0,0 +1,250 @@
+/*
+ * Copyright (c) 2021-2023 Datalayer, Inc.
+ *
+ * MIT License
+ */
+/**
+ * Engine for calculating intelligent code indentation
+ *
+ * Uses language-specific rules to determine appropriate indentation
+ * based on line content and context.
+ *
+ * @example
+ * ```typescript
+ * const registry = new LanguageIndentRegistry();
+ * const engine = new AutoIndentEngine(registry);
+ *
+ * const result = engine.calculateIndent({
+ *   currentLine: 'if x > 0:',
+ *   language: 'python',
+ *   currentIndent: 0,
+ * });
+ *
+ * console.log(result.spaces); // 4
+ * console.log(result.shouldIndent); // true
+ * ```
+ */
+export class AutoIndentEngine {
+    registry;
+    debug;
+    /**
+     * Create a new autoindent engine
+     *
+     * @param registry - Language configuration registry
+     * @param debug - Enable debug logging
+     */
+    constructor(registry, debug = false) {
+        this.registry = registry;
+        this.debug = debug;
+    }
+    /**
+     * Calculate indentation for a new line based on current line context
+     *
+     * @param context - Indentation context
+     * @returns Indent result with spaces and indent/dedent flags
+     */
+    calculateIndent(context) {
+        const config = this.registry.getConfigOrDefault(context.language);
+        // Get base indentation from current line
+        const currentLineIndent = this.getLeadingWhitespaceCount(context.currentLine);
+        // Start with current indentation
+        let resultSpaces = currentLineIndent;
+        let shouldIndent = false;
+        let shouldDedent = false;
+        let triggeredRule;
+        // Check indent triggers
+        for (const rule of config.indentTriggers) {
+            if (this.matchesIndentRule(context.currentLine, rule)) {
+                resultSpaces = currentLineIndent + rule.indentAmount;
+                shouldIndent = true;
+                triggeredRule = rule.name;
+                if (this.debug) {
+                    console.log(`[AutoIndentEngine] Indent triggered by rule: ${rule.name}`);
+                }
+                break; // Use first matching rule
+            }
+        }
+        // Check dedent triggers (only if no indent trigger matched)
+        if (!shouldIndent) {
+            for (const rule of config.dedentTriggers) {
+                if (this.matchesDedentRule(context.currentLine, rule)) {
+                    // Note: Dedent triggers indicate that the NEXT line after the current
+                    // line should be dedented. The current line maintains its indent.
+                    shouldDedent = true;
+                    triggeredRule = rule.name;
+                    if (this.debug) {
+                        console.log(`[AutoIndentEngine] Dedent triggered by rule: ${rule.name}`);
+                    }
+                    break;
+                }
+            }
+        }
+        // Apply custom rules
+        if (config.customRules) {
+            for (const customRule of config.customRules) {
+                if (customRule.condition(context.currentLine, context)) {
+                    resultSpaces = customRule.apply(resultSpaces, context);
+                    if (this.debug) {
+                        console.log(`[AutoIndentEngine] Custom rule applied: ${customRule.name}`);
+                    }
+                    break; // Use first matching custom rule
+                }
+            }
+        }
+        // Ensure we never go negative
+        resultSpaces = Math.max(0, resultSpaces);
+        const result = {
+            spaces: resultSpaces,
+            shouldIndent,
+            shouldDedent,
+            triggeredRule,
+        };
+        if (this.debug) {
+            console.log('[AutoIndentEngine] Indent calculation:', {
+                input: context.currentLine,
+                language: context.language,
+                currentIndent: currentLineIndent,
+                result,
+            });
+        }
+        return result;
+    }
+    /**
+     * Get tab string for a language (either spaces or actual tab character)
+     *
+     * @param language - Language identifier
+     * @returns String to insert for one tab press
+     */
+    getTabString(language) {
+        const config = this.registry.getConfigOrDefault(language);
+        if (config.useTabs) {
+            return '\t';
+        }
+        return ' '.repeat(config.tabSize);
+    }
+    /**
+     * Get tab size (number of spaces) for a language
+     *
+     * @param language - Language identifier
+     * @returns Number of spaces per indentation level
+     */
+    getTabSize(language) {
+        const config = this.registry.getConfigOrDefault(language);
+        return config.tabSize;
+    }
+    /**
+     * Calculate indentation for outdenting (Shift+Tab or dedent)
+     *
+     * @param currentIndent - Current indentation in spaces
+     * @param language - Language identifier
+     * @returns New indentation level after outdent
+     */
+    calculateOutdent(currentIndent, language) {
+        const config = this.registry.getConfigOrDefault(language);
+        const newIndent = currentIndent - config.tabSize;
+        return Math.max(0, newIndent);
+    }
+    /**
+     * Get leading whitespace count from a line
+     *
+     * @param line - Line of text
+     * @returns Number of leading whitespace characters (spaces and tabs)
+     */
+    getLeadingWhitespaceCount(line) {
+        const match = line.match(/^[\t ]*/);
+        if (!match) {
+            return 0;
+        }
+        const whitespace = match[0];
+        let count = 0;
+        for (const char of whitespace) {
+            if (char === '\t') {
+                // Count tab as 4 spaces (or configured tab size)
+                // Note: This is a simplification; actual tab width depends on config
+                count += 4;
+            }
+            else {
+                count += 1;
+            }
+        }
+        return count;
+    }
+    /**
+     * Get leading whitespace string from a line
+     *
+     * @param line - Line of text
+     * @returns Leading whitespace characters
+     */
+    getLeadingWhitespace(line) {
+        const match = line.match(/^[\t ]*/);
+        return match ? match[0] : '';
+    }
+    /**
+     * Check if a line matches an indent rule
+     *
+     * @param line - Line of text
+     * @param rule - Indent rule to check
+     * @returns True if line matches the rule
+     */
+    matchesIndentRule(line, rule) {
+        switch (rule.context) {
+            case 'line-end':
+                return rule.pattern.test(line);
+            case 'line-start':
+                return rule.pattern.test(line);
+            case 'anywhere':
+                return rule.pattern.test(line);
+            default:
+                return false;
+        }
+    }
+    /**
+     * Check if a line matches a dedent rule
+     *
+     * @param line - Line of text
+     * @param rule - Dedent rule to check
+     * @returns True if line matches the rule
+     */
+    matchesDedentRule(line, rule) {
+        switch (rule.context) {
+            case 'line-start':
+                return rule.pattern.test(line);
+            case 'anywhere':
+                return rule.pattern.test(line);
+            default:
+                return false;
+        }
+    }
+    /**
+     * Normalize indentation to use consistent spacing
+     * Converts tabs to spaces based on language config
+     *
+     * @param line - Line of text
+     * @param language - Language identifier
+     * @returns Line with normalized indentation
+     */
+    normalizeIndentation(line, language) {
+        const config = this.registry.getConfigOrDefault(language);
+        if (config.useTabs) {
+            // Convert spaces to tabs
+            const leadingSpaces = this.getLeadingWhitespace(line);
+            const spaceCount = leadingSpaces.length;
+            const tabCount = Math.floor(spaceCount / config.tabSize);
+            const remainingSpaces = spaceCount % config.tabSize;
+            const normalized = '\t'.repeat(tabCount) +
+                ' '.repeat(remainingSpaces) +
+                line.substring(leadingSpaces.length);
+            return normalized;
+        }
+        else {
+            // Convert tabs to spaces
+            const leadingWhitespace = this.getLeadingWhitespace(line);
+            const normalized = leadingWhitespace
+                .replace(/\t/g, ' '.repeat(config.tabSize))
+                .concat(line.substring(leadingWhitespace.length));
+            return normalized;
+        }
+    }
+}
+export default AutoIndentEngine;
+//# sourceMappingURL=AutoIndentEngine.js.map
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/AutoIndentEngine.js.map b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/AutoIndentEngine.js.map
new file mode 100644
index 0000000..febded4
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/AutoIndentEngine.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"AutoIndentEngine.js","sourceRoot":"","sources":["../../src/autoindent/AutoIndentEngine.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/LanguageIndentRegistry.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/LanguageIndentRegistry.d.ts
new file mode 100644
index 0000000..2f85172
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/LanguageIndentRegistry.d.ts
@@ -0,0 +1,102 @@
+/**
+ * Language Indentation Registry
+ *
+ * Central registry for managing language-specific indentation configurations.
+ * Supports registration, retrieval, and updating of language configs.
+ *
+ * @module autoindent/LanguageIndentRegistry
+ */
+import type { LanguageIndentConfig, AutoIndentOptions } from './types';
+/**
+ * Registry for language indentation configurations
+ *
+ * Manages a collection of language-specific indent rules and provides
+ * methods to register, retrieve, and update configurations.
+ *
+ * @example
+ * ```typescript
+ * const registry = new LanguageIndentRegistry();
+ * const config = registry.getConfig('python');
+ * console.log(config.tabSize); // 4
+ * ```
+ */
+export declare class LanguageIndentRegistry {
+    private configs;
+    private options;
+    /**
+     * Create a new language indent registry
+     *
+     * @param options - Configuration options
+     */
+    constructor(options?: AutoIndentOptions);
+    /**
+     * Register default language configurations
+     * Currently supports: Python, JavaScript, TypeScript
+     */
+    private registerDefaultLanguages;
+    /**
+     * Register a language configuration
+     *
+     * @param config - Language indent configuration
+     * @throws Error if language already registered (use updateConfig to modify)
+     */
+    registerLanguage(config: LanguageIndentConfig): void;
+    /**
+     * Register a language alias
+     * Example: 'py' -> 'python', 'js' -> 'javascript'
+     *
+     * @param alias - Short alias name
+     * @param targetLanguage - Full language name
+     */
+    registerAlias(alias: string, targetLanguage: string): void;
+    /**
+     * Get configuration for a language
+     *
+     * @param language - Language identifier
+     * @returns Language config or undefined if not found
+     */
+    getConfig(language: string | null | undefined): LanguageIndentConfig | undefined;
+    /**
+     * Get configuration for a language with fallback to default
+     *
+     * @param language - Language identifier
+     * @returns Language config (never undefined - returns default if not found)
+     */
+    getConfigOrDefault(language: string | null | undefined): LanguageIndentConfig;
+    /**
+     * Create a minimal fallback configuration
+     */
+    private createFallbackConfig;
+    /**
+     * Check if a language is registered
+     *
+     * @param language - Language identifier
+     * @returns True if language has a configuration
+     */
+    hasLanguage(language: string | null | undefined): boolean;
+    /**
+     * Update an existing language configuration
+     *
+     * @param language - Language identifier
+     * @param updates - Partial configuration to merge
+     * @returns True if update successful, false if language not found
+     */
+    updateConfig(language: string, updates: Partial<LanguageIndentConfig>): boolean;
+    /**
+     * Get list of all registered languages
+     *
+     * @returns Array of language identifiers
+     */
+    getRegisteredLanguages(): string[];
+    /**
+     * Clear all registered configurations
+     * Useful for testing
+     */
+    clear(): void;
+    /**
+     * Reset to default configurations
+     * Removes custom configs but keeps built-in languages
+     */
+    reset(): void;
+}
+export default LanguageIndentRegistry;
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/LanguageIndentRegistry.js b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/LanguageIndentRegistry.js
new file mode 100644
index 0000000..34af5a8
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/LanguageIndentRegistry.js
@@ -0,0 +1,212 @@
+/*
+ * Copyright (c) 2021-2023 Datalayer, Inc.
+ *
+ * MIT License
+ */
+import { pythonIndentConfig } from './languages/python';
+import { javascriptIndentConfig, typescriptIndentConfig, } from './languages/javascript';
+/**
+ * Registry for language indentation configurations
+ *
+ * Manages a collection of language-specific indent rules and provides
+ * methods to register, retrieve, and update configurations.
+ *
+ * @example
+ * ```typescript
+ * const registry = new LanguageIndentRegistry();
+ * const config = registry.getConfig('python');
+ * console.log(config.tabSize); // 4
+ * ```
+ */
+export class LanguageIndentRegistry {
+    configs;
+    options;
+    /**
+     * Create a new language indent registry
+     *
+     * @param options - Configuration options
+     */
+    constructor(options = {}) {
+        this.configs = new Map();
+        this.options = {
+            defaultLanguage: 'python',
+            fallbackTabSize: 4,
+            debug: false,
+            ...options,
+        };
+        // Register default languages
+        this.registerDefaultLanguages();
+        // Register any custom configs provided
+        if (options.customConfigs) {
+            options.customConfigs.forEach(config => this.registerLanguage(config));
+        }
+    }
+    /**
+     * Register default language configurations
+     * Currently supports: Python, JavaScript, TypeScript
+     */
+    registerDefaultLanguages() {
+        this.registerLanguage(pythonIndentConfig);
+        this.registerLanguage(javascriptIndentConfig);
+        this.registerLanguage(typescriptIndentConfig);
+        // Add common language aliases
+        this.registerAlias('py', 'python');
+        this.registerAlias('js', 'javascript');
+        this.registerAlias('ts', 'typescript');
+        this.registerAlias('jsx', 'javascript');
+        this.registerAlias('tsx', 'typescript');
+    }
+    /**
+     * Register a language configuration
+     *
+     * @param config - Language indent configuration
+     * @throws Error if language already registered (use updateConfig to modify)
+     */
+    registerLanguage(config) {
+        if (this.configs.has(config.language)) {
+            if (this.options.debug) {
+                console.warn(`[LanguageIndentRegistry] Language '${config.language}' already registered. Use updateConfig() to modify.`);
+            }
+            return;
+        }
+        this.configs.set(config.language, config);
+        if (this.options.debug) {
+            console.log(`[LanguageIndentRegistry] Registered language: ${config.language} (tabSize=${config.tabSize})`);
+        }
+    }
+    /**
+     * Register a language alias
+     * Example: 'py' -> 'python', 'js' -> 'javascript'
+     *
+     * @param alias - Short alias name
+     * @param targetLanguage - Full language name
+     */
+    registerAlias(alias, targetLanguage) {
+        const config = this.configs.get(targetLanguage);
+        if (config) {
+            this.configs.set(alias, config);
+        }
+    }
+    /**
+     * Get configuration for a language
+     *
+     * @param language - Language identifier
+     * @returns Language config or undefined if not found
+     */
+    getConfig(language) {
+        if (!language) {
+            return this.getConfig(this.options.defaultLanguage);
+        }
+        // Normalize language name (lowercase, trim)
+        const normalized = language.toLowerCase().trim();
+        return this.configs.get(normalized);
+    }
+    /**
+     * Get configuration for a language with fallback to default
+     *
+     * @param language - Language identifier
+     * @returns Language config (never undefined - returns default if not found)
+     */
+    getConfigOrDefault(language) {
+        const config = this.getConfig(language);
+        if (config) {
+            return config;
+        }
+        // Fallback to default language
+        const defaultConfig = this.getConfig(this.options.defaultLanguage);
+        if (defaultConfig) {
+            if (this.options.debug) {
+                console.warn(`[LanguageIndentRegistry] Language '${language}' not found, using default: ${this.options.defaultLanguage}`);
+            }
+            return defaultConfig;
+        }
+        // Ultimate fallback: create minimal config
+        if (this.options.debug) {
+            console.error(`[LanguageIndentRegistry] No config found for '${language}' and default '${this.options.defaultLanguage}' missing!`);
+        }
+        return this.createFallbackConfig(language || 'unknown');
+    }
+    /**
+     * Create a minimal fallback configuration
+     */
+    createFallbackConfig(language) {
+        return {
+            language,
+            tabSize: this.options.fallbackTabSize || 4,
+            useTabs: this.options.preserveTabs || false,
+            indentTriggers: [],
+            dedentTriggers: [],
+        };
+    }
+    /**
+     * Check if a language is registered
+     *
+     * @param language - Language identifier
+     * @returns True if language has a configuration
+     */
+    hasLanguage(language) {
+        if (!language) {
+            return false;
+        }
+        const normalized = language.toLowerCase().trim();
+        return this.configs.has(normalized);
+    }
+    /**
+     * Update an existing language configuration
+     *
+     * @param language - Language identifier
+     * @param updates - Partial configuration to merge
+     * @returns True if update successful, false if language not found
+     */
+    updateConfig(language, updates) {
+        const normalized = language.toLowerCase().trim();
+        const existing = this.configs.get(normalized);
+        if (!existing) {
+            if (this.options.debug) {
+                console.warn(`[LanguageIndentRegistry] Cannot update '${language}' - not registered`);
+            }
+            return false;
+        }
+        const updated = {
+            ...existing,
+            ...updates,
+            language: existing.language, // Preserve original language name
+        };
+        this.configs.set(normalized, updated);
+        if (this.options.debug) {
+            console.log(`[LanguageIndentRegistry] Updated config for: ${language}`, updates);
+        }
+        return true;
+    }
+    /**
+     * Get list of all registered languages
+     *
+     * @returns Array of language identifiers
+     */
+    getRegisteredLanguages() {
+        return Array.from(this.configs.keys());
+    }
+    /**
+     * Clear all registered configurations
+     * Useful for testing
+     */
+    clear() {
+        this.configs.clear();
+        if (this.options.debug) {
+            console.log('[LanguageIndentRegistry] Cleared all configurations');
+        }
+    }
+    /**
+     * Reset to default configurations
+     * Removes custom configs but keeps built-in languages
+     */
+    reset() {
+        this.clear();
+        this.registerDefaultLanguages();
+        if (this.options.debug) {
+            console.log('[LanguageIndentRegistry] Reset to default configurations');
+        }
+    }
+}
+export default LanguageIndentRegistry;
+//# sourceMappingURL=LanguageIndentRegistry.js.map
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/LanguageIndentRegistry.js.map b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/LanguageIndentRegistry.js.map
new file mode 100644
index 0000000..faefd16
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/LanguageIndentRegistry.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"LanguageIndentRegistry.js","sourceRoot":"","sources":["../../src/autoindent/LanguageIndentRegistry.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/__tests__/AutoIndentEngine.test.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/__tests__/AutoIndentEngine.test.d.ts
new file mode 100644
index 0000000..cb0ff5c
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/__tests__/AutoIndentEngine.test.d.ts
@@ -0,0 +1 @@
+export {};
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/__tests__/AutoIndentEngine.test.js b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/__tests__/AutoIndentEngine.test.js
new file mode 100644
index 0000000..2efbe8a
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/__tests__/AutoIndentEngine.test.js
@@ -0,0 +1,422 @@
+/*
+ * Copyright (c) 2021-2023 Datalayer, Inc.
+ *
+ * MIT License
+ */
+/**
+ * AutoIndent Engine Tests
+ *
+ * Comprehensive test suite for language-aware code indentation.
+ *
+ * @module autoindent/__tests__
+ */
+import { AutoIndentEngine } from '../AutoIndentEngine';
+import { LanguageIndentRegistry } from '../LanguageIndentRegistry';
+describe('AutoIndentEngine', () => {
+    let registry;
+    let engine;
+    beforeEach(() => {
+        registry = new LanguageIndentRegistry();
+        engine = new AutoIndentEngine(registry, false);
+    });
+    describe('Python Indentation', () => {
+        describe('Colon-triggered indent', () => {
+            it('should indent after if statement with colon', () => {
+                const context = {
+                    currentLine: 'if x > 0:',
+                    language: 'python',
+                    currentIndent: 0,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(4);
+                expect(result.shouldIndent).toBe(true);
+                expect(result.triggeredRule).toBe('colon-indent');
+            });
+            it('should indent after for loop with colon', () => {
+                const context = {
+                    currentLine: 'for i in range(10):',
+                    language: 'python',
+                    currentIndent: 0,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(4);
+                expect(result.shouldIndent).toBe(true);
+            });
+            it('should indent after function definition with colon', () => {
+                const context = {
+                    currentLine: 'def my_function():',
+                    language: 'python',
+                    currentIndent: 0,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(4);
+                expect(result.shouldIndent).toBe(true);
+            });
+            it('should indent after class definition with colon', () => {
+                const context = {
+                    currentLine: 'class MyClass:',
+                    language: 'python',
+                    currentIndent: 0,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(4);
+                expect(result.shouldIndent).toBe(true);
+            });
+            it('should indent after try statement with colon', () => {
+                const context = {
+                    currentLine: 'try:',
+                    language: 'python',
+                    currentIndent: 0,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(4);
+                expect(result.shouldIndent).toBe(true);
+            });
+            it('should indent after with statement with colon', () => {
+                const context = {
+                    currentLine: 'with open("file.txt") as f:',
+                    language: 'python',
+                    currentIndent: 0,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(4);
+                expect(result.shouldIndent).toBe(true);
+            });
+            it('should indent after colon with trailing comment', () => {
+                const context = {
+                    currentLine: 'if condition:  # This is a comment',
+                    language: 'python',
+                    currentIndent: 0,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(4);
+                expect(result.shouldIndent).toBe(true);
+            });
+            it('should indent after colon with trailing whitespace', () => {
+                const context = {
+                    currentLine: 'if condition:   ',
+                    language: 'python',
+                    currentIndent: 0,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(4);
+                expect(result.shouldIndent).toBe(true);
+            });
+        });
+        describe('Nested indentation', () => {
+            it('should handle nested if statements', () => {
+                const context = {
+                    currentLine: '    if nested:',
+                    language: 'python',
+                    currentIndent: 4,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(8);
+                expect(result.shouldIndent).toBe(true);
+            });
+            it('should handle deeply nested blocks', () => {
+                const context = {
+                    currentLine: '        if deeply_nested:',
+                    language: 'python',
+                    currentIndent: 8,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(12);
+                expect(result.shouldIndent).toBe(true);
+            });
+        });
+        describe('Dedent keywords', () => {
+            it('should detect return statement for dedent', () => {
+                const context = {
+                    currentLine: '    return value',
+                    language: 'python',
+                    currentIndent: 4,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.shouldDedent).toBe(true);
+                expect(result.triggeredRule).toBe('flow-control-keywords');
+            });
+            it('should detect break statement for dedent', () => {
+                const context = {
+                    currentLine: '    break',
+                    language: 'python',
+                    currentIndent: 4,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.shouldDedent).toBe(true);
+            });
+            it('should detect continue statement for dedent', () => {
+                const context = {
+                    currentLine: '    continue',
+                    language: 'python',
+                    currentIndent: 4,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.shouldDedent).toBe(true);
+            });
+            it('should detect pass statement for dedent', () => {
+                const context = {
+                    currentLine: '    pass',
+                    language: 'python',
+                    currentIndent: 4,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.shouldDedent).toBe(true);
+            });
+            it('should detect raise statement for dedent', () => {
+                const context = {
+                    currentLine: '    raise ValueError("error")',
+                    language: 'python',
+                    currentIndent: 4,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.shouldDedent).toBe(true);
+                expect(result.triggeredRule).toBe('raise-keyword');
+            });
+        });
+        describe('Regular lines (preserve indentation)', () => {
+            it('should preserve indentation for regular statements', () => {
+                const context = {
+                    currentLine: '    print("hello")',
+                    language: 'python',
+                    currentIndent: 4,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(4);
+                expect(result.shouldIndent).toBe(false);
+                expect(result.shouldDedent).toBe(false);
+            });
+            it('should preserve indentation for assignments', () => {
+                const context = {
+                    currentLine: '    x = 42',
+                    language: 'python',
+                    currentIndent: 4,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(4);
+                expect(result.shouldIndent).toBe(false);
+            });
+        });
+    });
+    describe('JavaScript Indentation', () => {
+        describe('Brace-triggered indent', () => {
+            it('should indent after opening brace', () => {
+                const context = {
+                    currentLine: 'function test() {',
+                    language: 'javascript',
+                    currentIndent: 0,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(2);
+                expect(result.shouldIndent).toBe(true);
+                expect(result.triggeredRule).toBe('open-brace');
+            });
+            it('should indent after if statement with brace', () => {
+                const context = {
+                    currentLine: 'if (condition) {',
+                    language: 'javascript',
+                    currentIndent: 0,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(2);
+                expect(result.shouldIndent).toBe(true);
+            });
+            it('should indent after object literal opening', () => {
+                const context = {
+                    currentLine: 'const obj = {',
+                    language: 'javascript',
+                    currentIndent: 0,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(2);
+                expect(result.shouldIndent).toBe(true);
+            });
+        });
+        describe('Bracket and paren indent', () => {
+            it('should indent after opening bracket', () => {
+                const context = {
+                    currentLine: 'const arr = [',
+                    language: 'javascript',
+                    currentIndent: 0,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(2);
+                expect(result.shouldIndent).toBe(true);
+                expect(result.triggeredRule).toBe('open-bracket');
+            });
+            it('should indent after opening paren', () => {
+                const context = {
+                    currentLine: 'someFunction(',
+                    language: 'javascript',
+                    currentIndent: 0,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(2);
+                expect(result.shouldIndent).toBe(true);
+                expect(result.triggeredRule).toBe('open-paren');
+            });
+        });
+        describe('Arrow function indent', () => {
+            it('should indent after arrow function', () => {
+                const context = {
+                    currentLine: 'const func = () =>',
+                    language: 'javascript',
+                    currentIndent: 0,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(2);
+                expect(result.shouldIndent).toBe(true);
+                expect(result.triggeredRule).toBe('arrow-function');
+            });
+        });
+        describe('Dedent keywords', () => {
+            it('should detect return statement for dedent', () => {
+                const context = {
+                    currentLine: '  return value;',
+                    language: 'javascript',
+                    currentIndent: 2,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.shouldDedent).toBe(true);
+                expect(result.triggeredRule).toBe('return-statement');
+            });
+            it('should detect break statement for dedent', () => {
+                const context = {
+                    currentLine: '  break;',
+                    language: 'javascript',
+                    currentIndent: 2,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.shouldDedent).toBe(true);
+            });
+        });
+        describe('TypeScript uses same rules', () => {
+            it('should indent TypeScript with 2 spaces', () => {
+                const context = {
+                    currentLine: 'function test(): void {',
+                    language: 'typescript',
+                    currentIndent: 0,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(2);
+                expect(result.shouldIndent).toBe(true);
+            });
+        });
+    });
+    describe('Tab String Generation', () => {
+        it('should return 4 spaces for Python', () => {
+            const tabString = engine.getTabString('python');
+            expect(tabString).toBe('    ');
+        });
+        it('should return 2 spaces for JavaScript', () => {
+            const tabString = engine.getTabString('javascript');
+            expect(tabString).toBe('  ');
+        });
+        it('should return 2 spaces for TypeScript', () => {
+            const tabString = engine.getTabString('typescript');
+            expect(tabString).toBe('  ');
+        });
+        it('should handle null language with fallback', () => {
+            const tabString = engine.getTabString(null);
+            expect(tabString).toBe('    '); // Defaults to Python (4 spaces)
+        });
+        it('should handle unknown language with fallback', () => {
+            const tabString = engine.getTabString('unknown-language');
+            expect(tabString).toBe('    '); // Defaults to fallback (4 spaces)
+        });
+    });
+    describe('Tab Size Retrieval', () => {
+        it('should return 4 for Python tab size', () => {
+            const tabSize = engine.getTabSize('python');
+            expect(tabSize).toBe(4);
+        });
+        it('should return 2 for JavaScript tab size', () => {
+            const tabSize = engine.getTabSize('javascript');
+            expect(tabSize).toBe(2);
+        });
+    });
+    describe('Outdent Calculation', () => {
+        it('should outdent Python by 4 spaces', () => {
+            const newIndent = engine.calculateOutdent(8, 'python');
+            expect(newIndent).toBe(4);
+        });
+        it('should outdent JavaScript by 2 spaces', () => {
+            const newIndent = engine.calculateOutdent(6, 'javascript');
+            expect(newIndent).toBe(4);
+        });
+        it('should not go below zero', () => {
+            const newIndent = engine.calculateOutdent(2, 'python');
+            expect(newIndent).toBe(0); // Can't go negative
+        });
+    });
+    describe('Leading Whitespace Handling', () => {
+        it('should get leading whitespace from indented line', () => {
+            const whitespace = engine.getLeadingWhitespace('    print("test")');
+            expect(whitespace).toBe('    ');
+        });
+        it('should return empty string for non-indented line', () => {
+            const whitespace = engine.getLeadingWhitespace('print("test")');
+            expect(whitespace).toBe('');
+        });
+        it('should handle mixed tabs and spaces', () => {
+            const whitespace = engine.getLeadingWhitespace('\t  code');
+            expect(whitespace).toBe('\t  ');
+        });
+    });
+    describe('Edge Cases', () => {
+        it('should handle empty lines', () => {
+            const context = {
+                currentLine: '',
+                language: 'python',
+                currentIndent: 0,
+            };
+            const result = engine.calculateIndent(context);
+            expect(result.spaces).toBe(0);
+            expect(result.shouldIndent).toBe(false);
+        });
+        it('should handle lines with only whitespace', () => {
+            const context = {
+                currentLine: '    ',
+                language: 'python',
+                currentIndent: 4,
+            };
+            const result = engine.calculateIndent(context);
+            expect(result.spaces).toBe(4);
+            expect(result.shouldIndent).toBe(false);
+        });
+        it('should not indent on colon inside string (Python)', () => {
+            const context = {
+                currentLine: '    print("Hello: World")',
+                language: 'python',
+                currentIndent: 4,
+            };
+            const result = engine.calculateIndent(context);
+            // Should NOT trigger indent because colon is inside string
+            expect(result.shouldIndent).toBe(false);
+            expect(result.spaces).toBe(4);
+        });
+        it('should handle language aliases (py -> python)', () => {
+            const tabString = engine.getTabString('py');
+            expect(tabString).toBe('    ');
+        });
+        it('should handle language aliases (js -> javascript)', () => {
+            const tabString = engine.getTabString('js');
+            expect(tabString).toBe('  ');
+        });
+    });
+    describe('Indentation Normalization', () => {
+        it('should normalize tabs to spaces for Python', () => {
+            const normalized = engine.normalizeIndentation('\tcode', 'python');
+            expect(normalized).toBe('    code');
+        });
+        it('should keep spaces as-is for Python', () => {
+            const normalized = engine.normalizeIndentation('    code', 'python');
+            expect(normalized).toBe('    code');
+        });
+        it('should normalize mixed indentation', () => {
+            const normalized = engine.normalizeIndentation('\t  code', 'python');
+            expect(normalized).toBe('      code'); // Tab=4 + 2 spaces = 6 spaces
+        });
+    });
+});
+//# sourceMappingURL=AutoIndentEngine.test.js.map
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/__tests__/AutoIndentEngine.test.js.map b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/__tests__/AutoIndentEngine.test.js.map
new file mode 100644
index 0000000..dc20334
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/__tests__/AutoIndentEngine.test.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"AutoIndentEngine.test.js","sourceRoot":"","sources":["../../../src/autoindent/__tests__/AutoIndentEngine.test.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/index.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/index.d.ts
new file mode 100644
index 0000000..f788524
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/index.d.ts
@@ -0,0 +1,13 @@
+/**
+ * AutoIndent Module
+ *
+ * Language-aware automatic indentation for code cells.
+ * Provides intelligent tab insertion and autoindent on Enter key.
+ *
+ * @module autoindent
+ */
+export { AutoIndentEngine } from './AutoIndentEngine';
+export { LanguageIndentRegistry } from './LanguageIndentRegistry';
+export type { IndentRule, DedentRule, LanguageIndentConfig, CustomIndentRule, IndentContext, IndentResult, IndentRuleProvider, AutoIndentOptions, } from './types';
+export { pythonIndentConfig } from './languages/python';
+export { javascriptIndentConfig, typescriptIndentConfig, } from './languages/javascript';
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/index.js b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/index.js
new file mode 100644
index 0000000..0d38767
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/index.js
@@ -0,0 +1,20 @@
+/*
+ * Copyright (c) 2021-2023 Datalayer, Inc.
+ *
+ * MIT License
+ */
+/**
+ * AutoIndent Module
+ *
+ * Language-aware automatic indentation for code cells.
+ * Provides intelligent tab insertion and autoindent on Enter key.
+ *
+ * @module autoindent
+ */
+// Core exports
+export { AutoIndentEngine } from './AutoIndentEngine';
+export { LanguageIndentRegistry } from './LanguageIndentRegistry';
+// Language configurations
+export { pythonIndentConfig } from './languages/python';
+export { javascriptIndentConfig, typescriptIndentConfig, } from './languages/javascript';
+//# sourceMappingURL=index.js.map
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/index.js.map b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/index.js.map
new file mode 100644
index 0000000..3e361d3
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/index.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/autoindent/index.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAEH;;;;;;;GAOG;AAEH,eAAe;AACf,OAAO,EAAE,gBAAgB,EAAE,MAAM,oBAAoB,CAAC;AACtD,OAAO,EAAE,sBAAsB,EAAE,MAAM,0BAA0B,CAAC;AAclE,0BAA0B;AAC1B,OAAO,EAAE,kBAAkB,EAAE,MAAM,oBAAoB,CAAC;AACxD,OAAO,EACL,sBAAsB,EACtB,sBAAsB,GACvB,MAAM,wBAAwB,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/javascript.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/javascript.d.ts
new file mode 100644
index 0000000..d0f532d
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/javascript.d.ts
@@ -0,0 +1,30 @@
+/**
+ * JavaScript/TypeScript Language Indentation Configuration
+ *
+ * Implements common JavaScript formatting conventions:
+ * - 2 spaces per indentation level (standard for JS/TS)
+ * - Indent after opening braces
+ * - Dedent on closing braces
+ *
+ * @module autoindent/languages/javascript
+ */
+import type { LanguageIndentConfig } from '../types';
+/**
+ * JavaScript indentation configuration
+ */
+export declare const javascriptIndentConfig: LanguageIndentConfig;
+/**
+ * TypeScript uses same indentation rules as JavaScript
+ */
+declare const typescriptIndentConfig: LanguageIndentConfig;
+/**
+ * Helper function to check if a line is a JavaScript comment
+ */
+export declare function isJavaScriptComment(line: string): boolean;
+/**
+ * Helper function to check if we're inside a template literal
+ * Note: This is a heuristic; accurate detection requires AST analysis
+ */
+export declare function isInTemplateLiteral(line: string): boolean;
+export default javascriptIndentConfig;
+export { typescriptIndentConfig };
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/javascript.js b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/javascript.js
new file mode 100644
index 0000000..d07e98f
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/javascript.js
@@ -0,0 +1,150 @@
+/*
+ * Copyright (c) 2021-2023 Datalayer, Inc.
+ *
+ * MIT License
+ */
+/**
+ * JavaScript indentation configuration
+ */
+export const javascriptIndentConfig = {
+    language: 'javascript',
+    tabSize: 2,
+    useTabs: false,
+    indentTriggers: [
+        {
+            name: 'open-brace',
+            // Matches lines ending with "{" (function/class/object/block start)
+            // Examples: "function test() {", "if (x) {", "const obj = {"
+            pattern: /\{\s*(\/\/.*)?$/,
+            context: 'line-end',
+            indentAmount: 2,
+        },
+        {
+            name: 'open-bracket',
+            // Matches lines ending with "[" (array literal continuation)
+            // Example: "const arr = ["
+            pattern: /\[\s*(\/\/.*)?$/,
+            context: 'line-end',
+            indentAmount: 2,
+        },
+        {
+            name: 'open-paren',
+            // Matches lines ending with "(" (function call/parameter continuation)
+            // Example: "someFunction("
+            pattern: /\(\s*(\/\/.*)?$/,
+            context: 'line-end',
+            indentAmount: 2,
+        },
+        {
+            name: 'arrow-function',
+            // Matches lines ending with "=>" (arrow function without brace)
+            // Example: "const func = () =>"
+            pattern: /=>\s*(\/\/.*)?$/,
+            context: 'line-end',
+            indentAmount: 2,
+        },
+        {
+            name: 'ternary-operator',
+            // Matches lines ending with "?" (ternary operator continuation)
+            // Example: "const result = condition ?"
+            pattern: /\?\s*(\/\/.*)?$/,
+            context: 'line-end',
+            indentAmount: 2,
+        },
+    ],
+    dedentTriggers: [
+        {
+            name: 'return-statement',
+            // Matches lines starting with 'return'
+            pattern: /^\s*return(\s|;)/,
+            context: 'line-start',
+            dedentAmount: 2,
+        },
+        {
+            name: 'break-continue',
+            // Matches break or continue statements
+            pattern: /^\s*(break|continue)(\s|;)/,
+            context: 'line-start',
+            dedentAmount: 2,
+        },
+        {
+            name: 'throw-statement',
+            // Matches throw statements
+            pattern: /^\s*throw(\s|;)/,
+            context: 'line-start',
+            dedentAmount: 2,
+        },
+    ],
+    customRules: [
+        {
+            name: 'close-brace-dedent',
+            condition: (line) => {
+                // Check if line starts with closing brace
+                return /^\s*}/.test(line);
+            },
+            apply: (currentIndent) => {
+                // Dedent by one level when closing brace
+                return Math.max(0, currentIndent - 2);
+            },
+        },
+        {
+            name: 'close-bracket-dedent',
+            condition: (line) => {
+                // Check if line starts with closing bracket
+                return /^\s*\]/.test(line);
+            },
+            apply: (currentIndent) => {
+                // Dedent by one level when closing bracket
+                return Math.max(0, currentIndent - 2);
+            },
+        },
+        {
+            name: 'close-paren-dedent',
+            condition: (line) => {
+                // Check if line starts with closing paren
+                return /^\s*\)/.test(line);
+            },
+            apply: (currentIndent) => {
+                // Dedent by one level when closing paren
+                return Math.max(0, currentIndent - 2);
+            },
+        },
+        {
+            name: 'case-label',
+            condition: (line) => {
+                // Check if line is a case or default label in switch statement
+                return /^\s*(case\s+.*:|default:)/.test(line);
+            },
+            apply: (currentIndent, context) => {
+                // Case labels are typically at the same level as switch
+                // This is a simplified heuristic
+                return currentIndent;
+            },
+        },
+    ],
+};
+/**
+ * TypeScript uses same indentation rules as JavaScript
+ */
+const typescriptIndentConfig = {
+    ...javascriptIndentConfig,
+    language: 'typescript',
+};
+/**
+ * Helper function to check if a line is a JavaScript comment
+ */
+export function isJavaScriptComment(line) {
+    return /^\s*(\/\/|\/\*)/.test(line);
+}
+/**
+ * Helper function to check if we're inside a template literal
+ * Note: This is a heuristic; accurate detection requires AST analysis
+ */
+export function isInTemplateLiteral(line) {
+    // Simple heuristic: count backticks before this line
+    const backticks = (line.match(/`/g) || []).length;
+    return backticks % 2 !== 0;
+}
+export default javascriptIndentConfig;
+export { typescriptIndentConfig };
+//# sourceMappingURL=javascript.js.map
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/javascript.js.map b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/javascript.js.map
new file mode 100644
index 0000000..e55b31d
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/javascript.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"javascript.js","sourceRoot":"","sources":["../../../src/autoindent/languages/javascript.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/python.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/python.d.ts
new file mode 100644
index 0000000..2f9e2a3
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/python.d.ts
@@ -0,0 +1,30 @@
+/**
+ * Python Language Indentation Configuration
+ *
+ * Implements PEP 8 indentation rules:
+ * - 4 spaces per indentation level
+ * - Indent after colons (if, for, def, class, try, with, etc.)
+ * - Dedent for flow control keywords (return, break, continue, pass)
+ *
+ * @module autoindent/languages/python
+ */
+import type { LanguageIndentConfig } from '../types';
+/**
+ * Python indentation configuration (PEP 8)
+ */
+export declare const pythonIndentConfig: LanguageIndentConfig;
+/**
+ * Helper function to check if a line is a Python comment
+ */
+export declare function isPythonComment(line: string): boolean;
+/**
+ * Helper function to check if a line is part of a multi-line string
+ * Note: This is a heuristic; accurate detection requires AST analysis
+ */
+export declare function isInMultilineString(line: string): boolean;
+/**
+ * Helper function to check if colon is inside a string or comment
+ * This prevents false positives like: print("Hello: World")
+ */
+export declare function isColonInStringOrComment(line: string): boolean;
+export default pythonIndentConfig;
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/python.js b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/python.js
new file mode 100644
index 0000000..6b64fe1
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/python.js
@@ -0,0 +1,102 @@
+/*
+ * Copyright (c) 2021-2023 Datalayer, Inc.
+ *
+ * MIT License
+ */
+/**
+ * Python indentation configuration (PEP 8)
+ */
+export const pythonIndentConfig = {
+    language: 'python',
+    tabSize: 4,
+    useTabs: false,
+    indentTriggers: [
+        {
+            name: 'colon-indent',
+            // Matches lines ending with ":" (optionally followed by comment or whitespace)
+            // Examples: "if x > 0:", "def foo():", "class MyClass:", "try:", "with open() as f:"
+            pattern: /:\s*(#.*)?$/,
+            context: 'line-end',
+            indentAmount: 4,
+        },
+        {
+            name: 'continuation-backslash',
+            // Matches lines ending with backslash (line continuation)
+            // Example: "result = some_function() \"
+            pattern: /\\\s*(#.*)?$/,
+            context: 'line-end',
+            indentAmount: 4,
+        },
+        {
+            name: 'open-bracket',
+            // Matches lines with unclosed brackets/parens/braces
+            // Example: "result = my_function("
+            // Note: This is a simple heuristic; proper bracket matching requires AST
+            pattern: /[[({]\s*$/,
+            context: 'line-end',
+            indentAmount: 4,
+        },
+    ],
+    dedentTriggers: [
+        {
+            name: 'flow-control-keywords',
+            // Matches lines starting with return, break, continue, or pass
+            // These typically signal the end of an indented block
+            pattern: /^\s*(return|break|continue|pass)(\s|$)/,
+            context: 'line-start',
+            dedentAmount: 4,
+        },
+        {
+            name: 'raise-keyword',
+            // Matches lines starting with 'raise'
+            pattern: /^\s*raise(\s|$)/,
+            context: 'line-start',
+            dedentAmount: 4,
+        },
+    ],
+    customRules: [
+        {
+            name: 'close-bracket-dedent',
+            condition: (line) => {
+                // Check if line starts with closing bracket
+                return /^\s*[\])}]/.test(line);
+            },
+            apply: (currentIndent) => {
+                // Dedent by one level when closing bracket
+                return Math.max(0, currentIndent - 4);
+            },
+        },
+    ],
+};
+/**
+ * Helper function to check if a line is a Python comment
+ */
+export function isPythonComment(line) {
+    return /^\s*#/.test(line);
+}
+/**
+ * Helper function to check if a line is part of a multi-line string
+ * Note: This is a heuristic; accurate detection requires AST analysis
+ */
+export function isInMultilineString(line) {
+    // Simple heuristic: count triple quotes before this line
+    const tripleQuotes = (line.match(/"""|'''/g) || []).length;
+    return tripleQuotes % 2 !== 0;
+}
+/**
+ * Helper function to check if colon is inside a string or comment
+ * This prevents false positives like: print("Hello: World")
+ */
+export function isColonInStringOrComment(line) {
+    // Remove strings (both single and double quoted)
+    let cleaned = line.replace(/'[^']*'/g, '').replace(/"[^"]*"/g, '');
+    // Remove comments
+    const commentIndex = cleaned.indexOf('#');
+    if (commentIndex !== -1) {
+        cleaned = cleaned.substring(0, commentIndex);
+    }
+    // Check if colon exists in the cleaned line
+    return !cleaned.includes(':');
+}
+export default pythonIndentConfig;
+//# sourceMappingURL=python.js.map
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/python.js.map b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/python.js.map
new file mode 100644
index 0000000..ef234ab
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/python.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"python.js","sourceRoot":"","sources":["../../../src/autoindent/languages/python.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAeH;;GAEG;AACH,MAAM,CAAC,MAAM,kBAAkB,GAAyB;IACtD,QAAQ,EAAE,QAAQ;IAClB,OAAO,EAAE,CAAC;IACV,OAAO,EAAE,KAAK;IAEd,cAAc,EAAE;QACd;YACE,IAAI,EAAE,cAAc;YACpB,+EAA+E;YAC/E,qFAAqF;YACrF,OAAO,EAAE,aAAa;YACtB,OAAO,EAAE,UAAU;YACnB,YAAY,EAAE,CAAC;SAChB;QACD;YACE,IAAI,EAAE,wBAAwB;YAC9B,0DAA0D;YAC1D,wCAAwC;YACxC,OAAO,EAAE,cAAc;YACvB,OAAO,EAAE,UAAU;YACnB,YAAY,EAAE,CAAC;SAChB;QACD;YACE,IAAI,EAAE,cAAc;YACpB,qDAAqD;YACrD,mCAAmC;YACnC,yEAAyE;YACzE,OAAO,EAAE,WAAW;YACpB,OAAO,EAAE,UAAU;YACnB,YAAY,EAAE,CAAC;SAChB;KACF;IAED,cAAc,EAAE;QACd;YACE,IAAI,EAAE,uBAAuB;YAC7B,+DAA+D;YAC/D,sDAAsD;YACtD,OAAO,EAAE,wCAAwC;YACjD,OAAO,EAAE,YAAY;YACrB,YAAY,EAAE,CAAC;SAChB;QACD;YACE,IAAI,EAAE,eAAe;YACrB,sCAAsC;YACtC,OAAO,EAAE,iBAAiB;YAC1B,OAAO,EAAE,YAAY;YACrB,YAAY,EAAE,CAAC;SAChB;KACF;IAED,WAAW,EAAE;QACX;YACE,IAAI,EAAE,sBAAsB;YAC5B,SAAS,EAAE,CAAC,IAAY,EAAE,EAAE;gBAC1B,4CAA4C;gBAC5C,OAAO,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACjC,CAAC;YACD,KAAK,EAAE,CAAC,aAAqB,EAAE,EAAE;gBAC/B,2CAA2C;gBAC3C,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,aAAa,GAAG,CAAC,CAAC,CAAC;YACxC,CAAC;SACF;KACF;CACF,CAAC;AAEF;;GAEG;AACH,MAAM,UAAU,eAAe,CAAC,IAAY;IAC1C,OAAO,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC5B,CAAC;AAED;;;GAGG;AACH,MAAM,UAAU,mBAAmB,CAAC,IAAY;IAC9C,yDAAyD;IACzD,MAAM,YAAY,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC;IAC3D,OAAO,YAAY,GAAG,CAAC,KAAK,CAAC,CAAC;AAChC,CAAC;AAED;;;GAGG;AACH,MAAM,UAAU,wBAAwB,CAAC,IAAY;IACnD,iDAAiD;IACjD,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC;IAEnE,kBAAkB;IAClB,MAAM,YAAY,GAAG,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC1C,IAAI,YAAY,KAAK,CAAC,CAAC,EAAE,CAAC;QACxB,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC;IAC/C,CAAC;IAED,4CAA4C;IAC5C,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;AAChC,CAAC;AAED,eAAe,kBAAkB,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/types.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/types.d.ts
new file mode 100644
index 0000000..507014f
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/types.d.ts
@@ -0,0 +1,125 @@
+/**
+ * AutoIndent Type Definitions
+ *
+ * Provides type-safe interfaces for language-aware code indentation.
+ * Supports both heuristic-based (regex) and AST-based (tree-sitter) rule providers.
+ *
+ * @module autoindent/types
+ */
+/**
+ * Rule for increasing indentation
+ */
+export interface IndentRule {
+    /** Unique identifier for this rule */
+    name: string;
+    /** Pattern to match (regex for heuristic, tree-sitter query for AST) */
+    pattern: RegExp;
+    /** Where the pattern should match */
+    context: 'line-end' | 'line-start' | 'anywhere';
+    /** How many spaces to add (usually 1x tabSize) */
+    indentAmount: number;
+    /** Optional: only apply if previous line also matches this pattern */
+    requiresPreviousMatch?: RegExp;
+}
+/**
+ * Rule for decreasing indentation
+ */
+export interface DedentRule {
+    /** Unique identifier for this rule */
+    name: string;
+    /** Pattern to match (e.g., Python 'return', 'break', etc.) */
+    pattern: RegExp;
+    /** Where the pattern should match */
+    context: 'line-start' | 'anywhere';
+    /** How many spaces to remove (usually 1x tabSize) */
+    dedentAmount: number;
+}
+/**
+ * Language-specific indentation configuration
+ */
+export interface LanguageIndentConfig {
+    /** Language identifier (e.g., 'python', 'javascript') */
+    language: string;
+    /** Number of spaces for one indentation level */
+    tabSize: number;
+    /** Whether to use actual tab characters (vs spaces) */
+    useTabs: boolean;
+    /** Rules for when to automatically increase indentation */
+    indentTriggers: IndentRule[];
+    /** Rules for when to automatically decrease indentation */
+    dedentTriggers: DedentRule[];
+    /** Optional: Additional context-specific rules */
+    customRules?: CustomIndentRule[];
+}
+/**
+ * Custom indentation rule for special cases
+ */
+export interface CustomIndentRule {
+    /** Rule name */
+    name: string;
+    /** When this rule applies */
+    condition: (line: string, context: IndentContext) => boolean;
+    /** What indentation to apply */
+    apply: (currentIndent: number, context: IndentContext) => number;
+}
+/**
+ * Context information for indentation calculation
+ */
+export interface IndentContext {
+    /** Current line text */
+    currentLine: string;
+    /** Previous line text (if available) */
+    previousLine?: string;
+    /** Lines before current (for multi-line context) */
+    previousLines?: string[];
+    /** Current language */
+    language: string;
+    /** Current cursor position within the line */
+    cursorPosition?: number;
+    /** Current base indentation level (in spaces) */
+    currentIndent: number;
+}
+/**
+ * Result of indentation calculation
+ */
+export interface IndentResult {
+    /** Number of spaces for indentation */
+    spaces: number;
+    /** Whether indentation should be increased */
+    shouldIndent: boolean;
+    /** Whether indentation should be decreased */
+    shouldDedent: boolean;
+    /** Optional: Reason for the indent decision (for debugging) */
+    reason?: string;
+    /** Optional: The rule that triggered this result */
+    triggeredRule?: string;
+}
+/**
+ * Interface for indent rule providers
+ * Supports multiple implementations (heuristic, tree-sitter, etc.)
+ */
+export interface IndentRuleProvider {
+    /** Provider name (e.g., 'heuristic', 'tree-sitter') */
+    name: string;
+    /** Check if this provider supports the given language */
+    supportsLanguage(language: string): boolean;
+    /** Calculate indentation for the given context */
+    calculateIndent(context: IndentContext): IndentResult;
+    /** Priority (higher = tried first) */
+    priority: number;
+}
+/**
+ * Options for configuring the AutoIndent system
+ */
+export interface AutoIndentOptions {
+    /** Default language when none is specified */
+    defaultLanguage?: string;
+    /** Custom language configurations to register */
+    customConfigs?: LanguageIndentConfig[];
+    /** Enable debug logging */
+    debug?: boolean;
+    /** Fallback tab size if language unknown */
+    fallbackTabSize?: number;
+    /** Whether to preserve tabs as actual tab characters */
+    preserveTabs?: boolean;
+}
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/types.js b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/types.js
new file mode 100644
index 0000000..a133a7a
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/types.js
@@ -0,0 +1,7 @@
+/*
+ * Copyright (c) 2021-2023 Datalayer, Inc.
+ *
+ * MIT License
+ */
+export {};
+//# sourceMappingURL=types.js.map
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/types.js.map b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/types.js.map
new file mode 100644
index 0000000..8e61ceb
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/types.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"types.js","sourceRoot":"","sources":["../../src/autoindent/types.ts"],"names":[],"mappings":"AAAA;;;;GAIG"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/editor/Editor.js b/node_modules/@datalayer/jupyter-lexical/lib/editor/Editor.js
index 7f3adc2..6068100 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/editor/Editor.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/editor/Editor.js
@@ -92,7 +92,7 @@ export function EditorContainer(props) {
     function onChange(_editorState) {
         //    console.log('---', _editorState.toJSON());
     }
-    return (_jsxs("div", { className: "editor-container", children: [_jsx(ToolbarPlugin, { editor: editor, activeEditor: activeEditor, setActiveEditor: setActiveEditor, setIsLinkEditMode: setIsLinkEditMode }), _jsxs("div", { className: "editor-inner", children: [_jsx(RichTextPlugin, { contentEditable: _jsx("div", { className: "editor-scroller", children: _jsx("div", { className: "editor", ref: onRef, children: _jsx(ContentEditable, { className: "editor-input" }) }) }), placeholder: _jsx(Placeholder, {}), ErrorBoundary: LexicalErrorBoundary }), _jsx(OnChangePlugin, { onChange: onChange }), _jsx(HistoryPlugin, {}), _jsx(TreeViewPlugin, {}), _jsx(AutoFocusPlugin, {}), id && _jsx(LexicalStatePlugin, {}), _jsx(TablePlugin, {}), _jsx(ListPlugin, {}), _jsx(CheckListPlugin, {}), _jsx(LinkPlugin, {}), _jsx(AutoLinkPlugin, {}), _jsx(ListMaxIndentLevelPlugin, { maxDepth: 7 }), _jsx(MarkdownPlugin, {}), _jsx(JupyterInputOutputPlugin, { kernel: defaultKernel, onSessionConnection: onSessionConnection }), _jsx(ComponentPickerMenuPlugin, { initCode: "print('\uD83E\uDE90 \u269B\uFE0F Hello Jupyter UI')", kernel: defaultKernel }), _jsx(EquationsPlugin, {}), _jsx(ImagesPlugin, {}), _jsx(HashtagPlugin, {}), _jsx(HorizontalRulePlugin, {}), _jsx(YouTubePlugin, {}), _jsx(NbformatContentPlugin, { notebook: notebook }), _jsx(CodeActionMenuPlugin, {}), _jsx(AutoEmbedPlugin, {}), _jsx(EditorContextPlugin, {}), _jsx(TableOfContentsPlugin, {}), _jsx(CommentPlugin, { providerFactory: undefined }), floatingAnchorElem && (_jsxs(_Fragment, { children: [_jsx(DraggableBlockPlugin, { anchorElem: floatingAnchorElem }), _jsx(FloatingTextFormatToolbarPlugin, { anchorElem: floatingAnchorElem })] }))] })] }));
+    return (_jsxs("div", { className: "editor-container", children: [_jsx(ToolbarPlugin, { editor: editor, activeEditor: activeEditor, setActiveEditor: setActiveEditor, setIsLinkEditMode: setIsLinkEditMode }), _jsxs("div", { className: "editor-inner", children: [_jsx(RichTextPlugin, { contentEditable: _jsx("div", { className: "editor-scroller", children: _jsx("div", { className: "editor", ref: onRef, children: _jsx(ContentEditable, { className: "editor-input" }) }) }), placeholder: _jsx(Placeholder, {}), ErrorBoundary: LexicalErrorBoundary }), _jsx(OnChangePlugin, { onChange: onChange }), _jsx(HistoryPlugin, {}), _jsx(TreeViewPlugin, {}), _jsx(AutoFocusPlugin, {}), id && _jsx(LexicalStatePlugin, {}), _jsx(TablePlugin, {}), _jsx(ListPlugin, {}), _jsx(CheckListPlugin, {}), _jsx(LinkPlugin, {}), _jsx(AutoLinkPlugin, {}), _jsx(ListMaxIndentLevelPlugin, { maxDepth: 7 }), _jsx(MarkdownPlugin, {}), _jsx(JupyterInputOutputPlugin, { kernel: defaultKernel, onSessionConnection: onSessionConnection }), _jsx(ComponentPickerMenuPlugin, { kernel: defaultKernel }), _jsx(EquationsPlugin, {}), _jsx(ImagesPlugin, {}), _jsx(HashtagPlugin, {}), _jsx(HorizontalRulePlugin, {}), _jsx(YouTubePlugin, {}), _jsx(NbformatContentPlugin, { notebook: notebook }), _jsx(CodeActionMenuPlugin, {}), _jsx(AutoEmbedPlugin, {}), _jsx(EditorContextPlugin, {}), _jsx(TableOfContentsPlugin, {}), _jsx(CommentPlugin, { providerFactory: undefined }), floatingAnchorElem && (_jsxs(_Fragment, { children: [_jsx(DraggableBlockPlugin, { anchorElem: floatingAnchorElem }), _jsx(FloatingTextFormatToolbarPlugin, { anchorElem: floatingAnchorElem })] }))] })] }));
 }
 export function Editor(props) {
     const { id, serviceManager } = props;
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/editor/Editor.js.map b/node_modules/@datalayer/jupyter-lexical/lib/editor/Editor.js.map
index 27e6ed2..685a0f9 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/editor/Editor.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/editor/Editor.js.map
@@ -1 +1 @@
-{"version":3,"file":"Editor.js","sourceRoot":"","sources":["../../src/editor/Editor.tsx"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"Editor.js","sourceRoot":"","sources":["../../src/editor/Editor.tsx"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/index.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/index.d.ts
index 3677a63..deaa9a6 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/index.d.ts
+++ b/node_modules/@datalayer/jupyter-lexical/lib/index.d.ts
@@ -1,3 +1,4 @@
+export * from './autoindent';
 export * from './components';
 export * from './context';
 export * from './convert';
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/index.js b/node_modules/@datalayer/jupyter-lexical/lib/index.js
index ace8bac..dc7bd82 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/index.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/index.js
@@ -3,6 +3,7 @@
  *
  * MIT License
  */
+export * from './autoindent';
 export * from './components';
 export * from './context';
 export * from './convert';
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/index.js.map b/node_modules/@datalayer/jupyter-lexical/lib/index.js.map
index 8774f4d..2637312 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/index.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/index.js.map
@@ -1 +1 @@
-{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAEH,cAAc,cAAc,CAAC;AAC7B,cAAc,WAAW,CAAC;AAC1B,cAAc,WAAW,CAAC;AAC1B,cAAc,UAAU,CAAC;AACzB,cAAc,SAAS,CAAC;AACxB,cAAc,SAAS,CAAC;AACxB,cAAc,WAAW,CAAC;AAC1B,cAAc,UAAU,CAAC;AACzB,cAAc,SAAS,CAAC;AACxB,cAAc,SAAS,CAAC"}
\ No newline at end of file
+{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAEH,cAAc,cAAc,CAAC;AAC7B,cAAc,cAAc,CAAC;AAC7B,cAAc,WAAW,CAAC;AAC1B,cAAc,WAAW,CAAC;AAC1B,cAAc,UAAU,CAAC;AACzB,cAAc,SAAS,CAAC;AACxB,cAAc,SAAS,CAAC;AACxB,cAAc,WAAW,CAAC;AAC1B,cAAc,UAAU,CAAC;AACzB,cAAc,SAAS,CAAC;AACxB,cAAc,SAAS,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterOutputNode.js b/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterOutputNode.js
index 46cac16..d080ae9 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterOutputNode.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterOutputNode.js
@@ -8,7 +8,7 @@ import { DecoratorNode, } from 'lexical';
 import { UUID } from '@lumino/coreutils';
 import { OUTPUT_UUID_TO_CODE_UUID, INPUT_UUID_TO_OUTPUT_KEY, INPUT_UUID_TO_OUTPUT_UUID, OUTPUT_UUID_TO_OUTPUT_KEY, } from '../plugins/JupyterInputOutputPlugin';
 import { Output, OutputAdapter, newUuid, } from '@datalayer/jupyter-react';
-import { createNoKernelWarning } from './jupyterUtils';
+import { createNoRuntimeWarning } from './jupyterUtils';
 import { isJupyterOutputNodeOrphaned } from './JupyterOutputNodeUtils';
 export class JupyterOutputNode extends DecoratorNode {
     __code;
@@ -149,7 +149,7 @@ export class JupyterOutputNode extends DecoratorNode {
         self.__code = code;
         if (!self.__outputAdapter.kernel) {
             // Show user-facing warning instead of just logging
-            const warningOutput = createNoKernelWarning();
+            const warningOutput = createNoRuntimeWarning();
             // Update BOTH the node's outputs AND the adapter's model
             self.__outputs = [warningOutput];
             self.__outputAdapter.setOutputs([warningOutput]);
@@ -162,7 +162,9 @@ export class JupyterOutputNode extends DecoratorNode {
     }
     updateKernel(kernel) {
         const self = this.getWritable();
-        self.__outputAdapter.kernel = kernel;
+        if (self.__outputAdapter) {
+            self.__outputAdapter.kernel = kernel;
+        }
     }
 }
 export function $createJupyterOutputNode(code, outputAdapter, outputs, autoRun, jupyterInputNodeUuid, jupyterOutputNodeUuid) {
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterOutputNode.js.map b/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterOutputNode.js.map
index f5d8c39..6776c78 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterOutputNode.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterOutputNode.js.map
@@ -1 +1 @@
-{"version":3,"file":"JupyterOutputNode.js","sourceRoot":"","sources":["../../src/nodes/JupyterOutputNode.tsx"],"names":[],"mappings":";AAAA;;;;GAIG;AAEH,OAAO,EAGL,aAAa,GAKd,MAAM,SAAS,CAAC;AACjB,OAAO,EAAE,IAAI,EAAE,MAAM,mBAAmB,CAAC;AAEzC,OAAO,EACL,wBAAwB,EACxB,wBAAwB,EACxB,yBAAyB,EACzB,yBAAyB,GAC1B,MAAM,qCAAqC,CAAC;AAC7C,OAAO,EACL,MAAM,EACN,aAAa,EACb,OAAO,GAER,MAAM,0BAA0B,CAAC;AAClC,OAAO,EAAE,qBAAqB,EAAE,MAAM,gBAAgB,CAAC;AACvD,OAAO,EAAE,2BAA2B,EAAE,MAAM,0BAA0B,CAAC;AAcvE,MAAM,OAAO,iBAAkB,SAAQ,aAA0B;IAC/D,MAAM,CAAS;IACf,SAAS,CAAY;IACrB,SAAS,CAAU;IACnB,eAAe,CAAgB;IAC/B,sBAAsB,CAAS;IAC/B,uBAAuB,CAAS;IAChC,gBAAgB,CAAS;IACzB,eAAe,CAAS;IAExB,gBAAgB;IAChB,MAAM,CAAC,OAAO;QACZ,OAAO,gBAAgB,CAAC;IAC1B,CAAC;IAED,gBAAgB;IAChB,MAAM,CAAC,KAAK,CAAC,IAAuB;QAClC,OAAO,IAAI,iBAAiB,CAC1B,IAAI,CAAC,eAAe,EAAE,EACtB,IAAI,CAAC,eAAe,EACpB,IAAI,CAAC,SAAS,EACd,IAAI,CAAC,SAAS,EACd,IAAI,CAAC,sBAAsB,EAC3B,IAAI,CAAC,uBAAuB,EAC5B,IAAI,CAAC,KAAK,CACX,CAAC;IACJ,CAAC;IAED,gBAAgB;IAChB,MAAM,CAAC,UAAU,CACf,cAA2C;QAE3C,OAAO,wBAAwB,CAC7B,cAAc,CAAC,MAAM,EACrB,IAAI,aAAa,CAAC,OAAO,EAAE,EAAE,SAAS,EAAE,cAAc,CAAC,OAAO,CAAC,EAC/D,cAAc,CAAC,OAAO,EACtB,KAAK,EACL,cAAc,CAAC,oBAAoB,EACnC,cAAc,CAAC,qBAAqB,CACrC,CAAC;IACJ,CAAC;IAED,gBAAgB;IAChB,YACE,MAAc,EACd,aAA4B,EAC5B,OAAkB,EAClB,OAAgB,EAChB,oBAA6B,EAC7B,qBAA8B,EAC9B,GAAa;QAEb,KAAK,CAAC,GAAG,CAAC,CAAC;QACX,IAAI,CAAC,sBAAsB,GAAG,oBAAoB,IAAI,IAAI,CAAC,KAAK,EAAE,CAAC;QACnE,IAAI,CAAC,uBAAuB,GAAG,qBAAqB,IAAI,IAAI,CAAC,KAAK,EAAE,CAAC;QACrE,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC;QACzB,IAAI,CAAC,eAAe,GAAG,aAAa,CAAC;QACrC,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;QAC1B,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC;QACzB,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC;QACzB,wBAAwB,CAAC,GAAG,CAC1B,IAAI,CAAC,uBAAuB,EAC5B,IAAI,CAAC,sBAAsB,CAC5B,CAAC;QACF,wBAAwB,CAAC,GAAG,CAAC,IAAI,CAAC,sBAAsB,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QACtE,yBAAyB,CAAC,GAAG,CAC3B,IAAI,CAAC,sBAAsB,EAC3B,IAAI,CAAC,uBAAuB,CAC7B,CAAC;QACF,yBAAyB,CAAC,GAAG,CAAC,IAAI,CAAC,uBAAuB,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IAC1E,CAAC;IAED,eAAe,CAAC,IAAY;QAC1B,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QAChC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;IACrB,CAAC;IAED,eAAe;QACb,MAAM,IAAI,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;QAC9B,OAAO,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;IAED,uBAAuB,CAAC,oBAA4B;QAClD,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QAChC,IAAI,CAAC,sBAAsB,GAAG,oBAAoB,CAAC;IACrD,CAAC;IAED,uBAAuB;QACrB,MAAM,IAAI,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;QAC9B,OAAO,IAAI,CAAC,sBAAsB,CAAC;IACrC,CAAC;IAED,wBAAwB,CAAC,qBAA6B;QACpD,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QAChC,IAAI,CAAC,uBAAuB,GAAG,qBAAqB,CAAC;IACvD,CAAC;IAED,wBAAwB;QACtB,MAAM,IAAI,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;QAC9B,OAAO,IAAI,CAAC,uBAAuB,CAAC;IACtC,CAAC;IAED,iBAAiB,CAAC,cAAsB;QACtC,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QAChC,IAAI,CAAC,gBAAgB,GAAG,cAAc,CAAC;IACzC,CAAC;IAED,iBAAiB;QACf,MAAM,IAAI,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;QAC9B,OAAO,IAAI,CAAC,gBAAgB,CAAC;IAC/B,CAAC;IAED,UAAU,CAAC,OAAgB;QACzB,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QAChC,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC;IAC3B,CAAC;IAED,UAAU;QACR,MAAM,IAAI,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;QAC9B,OAAO,IAAI,CAAC,SAAS,CAAC;IACxB,CAAC;IAED,UAAU,CAAC,OAAkB;QAC3B,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QAChC,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC;IAC3B,CAAC;IAED,UAAU;QACR,MAAM,IAAI,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;QAC9B,OAAO,IAAI,CAAC,SAAS,CAAC;IACxB,CAAC;IAED,gBAAgB;IAChB,SAAS;QACP,OAAO,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;IACxC,CAAC;IAED,gBAAgB;IAChB,SAAS;QACP,OAAO,KAAK,CAAC;IACf,CAAC;IAED,gBAAgB;IAChB,UAAU;QACR,OAAO,IAAI,CAAC;IACd,CAAC;IAED,gBAAgB;IAChB,UAAU;QACR,sEAAsE;QACtE,6EAA6E;QAC7E,6DAA6D;QAC7D,OAAO,2BAA2B,CAAC,IAAI,CAAC,CAAC;IAC3C,CAAC;IAED,gBAAgB;IAChB,QAAQ,CAAC,OAAsB,EAAE,OAAqB;QACpD,OAAO,CACL,KAAC,MAAM,IACL,IAAI,EAAE,IAAI,CAAC,eAAe,EAAE,EAC5B,OAAO,EAAE,IAAI,CAAC,SAAS,EACvB,OAAO,EAAE,IAAI,CAAC,eAAe,EAC7B,EAAE,EAAE,IAAI,CAAC,uBAAuB,EAChC,cAAc,EAAE,IAAI,CAAC,iBAAiB,EAAE,GAAG,IAAI,CAAC,eAAe,EAC/D,OAAO,EAAE,IAAI,CAAC,SAAS,EACvB,MAAM,EAAE,IAAI,GACZ,CACH,CAAC;IACJ,CAAC;IAED,gBAAgB;IAChB,UAAU;QACR,OAAO;YACL,IAAI,EAAE,gBAAgB;YACtB,MAAM,EAAE,IAAI,CAAC,eAAe,EAAE;YAC9B,OAAO,EAAE,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,KAAK,CAAC,MAAM,EAAE;YACvD,oBAAoB,EAAE,IAAI,CAAC,uBAAuB,EAAE;YACpD,qBAAqB,EAAE,IAAI,CAAC,wBAAwB,EAAE;YACtD,OAAO,EAAE,CAAC;SACX,CAAC;IACJ,CAAC;IAED,gBAAgB;IAChB,MAAM,CAAC,oBAA8B;QACnC,wEAAwE;QACxE,IAAI,2BAA2B,CAAC,IAAI,CAAC,EAAE,CAAC;YACtC,0CAA0C;YAC1C,kEAAkE;YAClE,gFAAgF;YAChF,gBAAgB;YAChB,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QACtB,CAAC;QACD,2EAA2E;IAC7E,CAAC;IAED,WAAW;QACT,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IACtB,CAAC;IAEM,WAAW,CAAC,IAAY;QAC7B,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QAChC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QAEnB,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;YACjC,mDAAmD;YACnD,MAAM,aAAa,GAAG,qBAAqB,EAAE,CAAC;YAE9C,yDAAyD;YACzD,IAAI,CAAC,SAAS,GAAG,CAAC,aAAa,CAAC,CAAC;YACjC,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;YAEjD,gDAAgD;YAChD,IAAI,CAAC,eAAe,EAAE,CAAC;YACvB,OAAO;QACT,CAAC;QAED,sBAAsB;QACtB,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACrC,CAAC;IAEM,YAAY,CAAC,MAA0B;QAC5C,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QAChC,IAAI,CAAC,eAAe,CAAC,MAAM,GAAG,MAAM,CAAC;IACvC,CAAC;CACF;AAED,MAAM,UAAU,wBAAwB,CACtC,IAAY,EACZ,aAA4B,EAC5B,OAAkB,EAClB,OAAgB,EAChB,oBAA4B,EAC5B,qBAA6B;IAE7B,OAAO,IAAI,iBAAiB,CAC1B,IAAI,EACJ,aAAa,EACb,OAAO,EACP,OAAO,EACP,oBAAoB,EACpB,qBAAqB,CACtB,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,oBAAoB,CAAC,IAAiB;IACpD,OAAO,IAAI,YAAY,iBAAiB,CAAC;AAC3C,CAAC"}
\ No newline at end of file
+{"version":3,"file":"JupyterOutputNode.js","sourceRoot":"","sources":["../../src/nodes/JupyterOutputNode.tsx"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/nodes/jupyterUtils.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/nodes/jupyterUtils.d.ts
index d8585ea..b783632 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/nodes/jupyterUtils.d.ts
+++ b/node_modules/@datalayer/jupyter-lexical/lib/nodes/jupyterUtils.d.ts
@@ -1,8 +1,8 @@
 import type { IOutput } from '@jupyterlab/nbformat';
 /**
- * Creates a warning output message for when no kernel is connected.
- * This message is shown to users when they try to execute code without a kernel.
+ * Creates a warning output message for when no runtime is connected.
+ * This message is shown to users when they try to execute code without a runtime.
  *
  * @returns IOutput object containing the warning message
  */
-export declare function createNoKernelWarning(): IOutput;
+export declare function createNoRuntimeWarning(): IOutput;
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/nodes/jupyterUtils.js b/node_modules/@datalayer/jupyter-lexical/lib/nodes/jupyterUtils.js
index 65172d1..2e609d0 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/nodes/jupyterUtils.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/nodes/jupyterUtils.js
@@ -4,16 +4,18 @@
  * MIT License
  */
 /**
- * Creates a warning output message for when no kernel is connected.
- * This message is shown to users when they try to execute code without a kernel.
+ * Creates a warning output message for when no runtime is connected.
+ * This message is shown to users when they try to execute code without a runtime.
  *
  * @returns IOutput object containing the warning message
  */
-export function createNoKernelWarning() {
+export function createNoRuntimeWarning() {
     return {
         output_type: 'stream',
         name: 'stderr',
-        text: ['  No kernel connected. Please connect to execute code.\n'],
+        text: [
+            '  No runtime connected. Please connect to a runtime to execute code.\n',
+        ],
     };
 }
 //# sourceMappingURL=jupyterUtils.js.map
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/nodes/jupyterUtils.js.map b/node_modules/@datalayer/jupyter-lexical/lib/nodes/jupyterUtils.js.map
index 71f8b19..01af65b 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/nodes/jupyterUtils.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/nodes/jupyterUtils.js.map
@@ -1 +1 @@
-{"version":3,"file":"jupyterUtils.js","sourceRoot":"","sources":["../../src/nodes/jupyterUtils.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAIH;;;;;GAKG;AACH,MAAM,UAAU,qBAAqB;IACnC,OAAO;QACL,WAAW,EAAE,QAAQ;QACrB,IAAI,EAAE,QAAQ;QACd,IAAI,EAAE,CAAC,4DAA4D,CAAC;KACrE,CAAC;AACJ,CAAC"}
\ No newline at end of file
+{"version":3,"file":"jupyterUtils.js","sourceRoot":"","sources":["../../src/nodes/jupyterUtils.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAIH;;;;;GAKG;AACH,MAAM,UAAU,sBAAsB;IACpC,OAAO;QACL,WAAW,EAAE,QAAQ;QACrB,IAAI,EAAE,QAAQ;QACd,IAAI,EAAE;YACJ,0EAA0E;SAC3E;KACF,CAAC;AACJ,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/plugins/AutoIndentPlugin.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/plugins/AutoIndentPlugin.d.ts
new file mode 100644
index 0000000..0e7ceae
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/plugins/AutoIndentPlugin.d.ts
@@ -0,0 +1,23 @@
+import type { AutoIndentOptions } from '../autoindent/types';
+export interface AutoIndentPluginProps extends AutoIndentOptions {
+    /** Enable the plugin (default: true) */
+    enabled?: boolean;
+}
+/**
+ * AutoIndent Plugin for Lexical Editor
+ *
+ * Provides intelligent, language-aware code indentation:
+ * - Tab inserts language-specific spaces (Python=4, JavaScript=2)
+ * - Enter automatically indents based on line context
+ * - Supports Python colon indentation, JavaScript brace indentation
+ *
+ * @example
+ * ```tsx
+ * <LexicalComposer>
+ *   <AutoIndentPlugin defaultLanguage="python" />
+ *   <RichTextPlugin ... />
+ * </LexicalComposer>
+ * ```
+ */
+export declare function AutoIndentPlugin({ enabled, defaultLanguage, customConfigs, debug, fallbackTabSize, preserveTabs, }: AutoIndentPluginProps): null;
+export default AutoIndentPlugin;
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/plugins/AutoIndentPlugin.js b/node_modules/@datalayer/jupyter-lexical/lib/plugins/AutoIndentPlugin.js
new file mode 100644
index 0000000..1e98e5c
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/plugins/AutoIndentPlugin.js
@@ -0,0 +1,385 @@
+/*
+ * Copyright (c) 2021-2023 Datalayer, Inc.
+ *
+ * MIT License
+ */
+/**
+ * AutoIndent Plugin
+ *
+ * Provides language-aware automatic indentation for code cells.
+ * Overrides default Tab and Enter key behavior with intelligent indentation.
+ *
+ * @module plugins/AutoIndentPlugin
+ */
+import { useEffect, useRef } from 'react';
+import { $getSelection, $isRangeSelection, $isTextNode, COMMAND_PRIORITY_HIGH, INDENT_CONTENT_COMMAND, OUTDENT_CONTENT_COMMAND, KEY_TAB_COMMAND, KEY_ENTER_COMMAND, $createLineBreakNode, } from 'lexical';
+import { useLexicalComposerContext } from '@lexical/react/LexicalComposerContext';
+import { mergeRegister } from '@lexical/utils';
+import { AutoIndentEngine } from '../autoindent/AutoIndentEngine';
+import { LanguageIndentRegistry } from '../autoindent/LanguageIndentRegistry';
+import { $isJupyterInputNode, } from '../nodes/JupyterInputNode';
+import { $createJupyterInputHighlightNode } from '../nodes/JupyterInputHighlightNode';
+import { $isInlineCompletionNode } from '../nodes/InlineCompletionNode';
+/**
+ * Check if there's an active inline completion in the given JupyterInputNode
+ * @param parentNode - The JupyterInputNode to check
+ * @returns true if an InlineCompletionNode is found, false otherwise
+ */
+function hasActiveInlineCompletion(parentNode) {
+    const children = parentNode.getChildren();
+    for (const child of children) {
+        if ($isInlineCompletionNode(child)) {
+            return true;
+        }
+    }
+    return false;
+}
+/**
+ * AutoIndent Plugin for Lexical Editor
+ *
+ * Provides intelligent, language-aware code indentation:
+ * - Tab inserts language-specific spaces (Python=4, JavaScript=2)
+ * - Enter automatically indents based on line context
+ * - Supports Python colon indentation, JavaScript brace indentation
+ *
+ * @example
+ * ```tsx
+ * <LexicalComposer>
+ *   <AutoIndentPlugin defaultLanguage="python" />
+ *   <RichTextPlugin ... />
+ * </LexicalComposer>
+ * ```
+ */
+export function AutoIndentPlugin({ enabled = true, defaultLanguage = 'python', customConfigs = [], debug = false, fallbackTabSize = 4, preserveTabs = false, }) {
+    const [editor] = useLexicalComposerContext();
+    // Create registry and engine (stable references)
+    const registryRef = useRef();
+    const engineRef = useRef();
+    if (!registryRef.current) {
+        registryRef.current = new LanguageIndentRegistry({
+            defaultLanguage,
+            customConfigs,
+            debug,
+            fallbackTabSize,
+            preserveTabs,
+        });
+    }
+    if (!engineRef.current) {
+        engineRef.current = new AutoIndentEngine(registryRef.current, debug);
+    }
+    const engine = engineRef.current;
+    useEffect(() => {
+        if (!enabled) {
+            return;
+        }
+        return mergeRegister(
+        // Handle Tab key press (KEY_TAB_COMMAND)
+        editor.registerCommand(KEY_TAB_COMMAND, (event) => {
+            const selection = $getSelection();
+            if (!$isRangeSelection(selection)) {
+                return false;
+            }
+            // Check if we're inside a JupyterInputNode
+            const anchorNode = selection.anchor.getNode();
+            const parentCodeBlock = getParentJupyterInputNode(anchorNode);
+            if (!parentCodeBlock) {
+                // Not in code block, let default Tab behavior happen
+                return false;
+            }
+            // CRITICAL: Check for active inline completion first!
+            // If there's a completion suggestion, let inline completion plugin handle Tab
+            if (hasActiveInlineCompletion(parentCodeBlock)) {
+                return false; // Let LexicalInlineCompletionPlugin accept the suggestion
+            }
+            // Prevent default Tab behavior (focus navigation)
+            event?.preventDefault();
+            // Get language from parent JupyterInputNode
+            const language = parentCodeBlock.getLanguage() || defaultLanguage;
+            // Get tab string for language
+            const tabString = engine.getTabString(language);
+            if (debug) {
+                console.log(`[AutoIndentPlugin] Tab key pressed - Language: ${language}, inserting: ${JSON.stringify(tabString)}`);
+            }
+            // Insert tab at cursor or indent selected lines
+            if (selection.isCollapsed()) {
+                // Single cursor - insert tab
+                selection.insertText(tabString);
+            }
+            else {
+                // Multi-line selection - indent all lines
+                indentSelectedLines(selection, tabString);
+            }
+            return true; // Handled - prevent default behavior
+        }, COMMAND_PRIORITY_HIGH), 
+        // Handle INDENT_CONTENT_COMMAND (for toolbar buttons, Cmd+])
+        editor.registerCommand(INDENT_CONTENT_COMMAND, () => {
+            const selection = $getSelection();
+            if (!$isRangeSelection(selection)) {
+                return false;
+            }
+            // Get language from parent JupyterInputNode
+            const language = getLanguageFromSelection(selection);
+            // Get tab string for language
+            const tabString = engine.getTabString(language);
+            if (debug) {
+                console.log(`[AutoIndentPlugin] INDENT_CONTENT_COMMAND - Language: ${language}, inserting: ${JSON.stringify(tabString)}`);
+            }
+            // Insert tab at cursor or indent selected lines
+            if (selection.isCollapsed()) {
+                // Single cursor - insert tab
+                selection.insertText(tabString);
+            }
+            else {
+                // Multi-line selection - indent all lines
+                indentSelectedLines(selection, tabString);
+            }
+            return true; // Prevent default behavior
+        }, COMMAND_PRIORITY_HIGH), 
+        // Handle Enter key press (KEY_ENTER_COMMAND) for autoindent
+        editor.registerCommand(KEY_ENTER_COMMAND, (event) => {
+            const selection = $getSelection();
+            if (!$isRangeSelection(selection)) {
+                return false;
+            }
+            // Check if we're inside a JupyterInputNode
+            const anchorNode = selection.anchor.getNode();
+            const parentCodeBlock = getParentJupyterInputNode(anchorNode);
+            if (!parentCodeBlock) {
+                // Not in code block, use default behavior
+                return false;
+            }
+            // Skip if Shift+Enter (that's for code execution)
+            if (event?.shiftKey) {
+                return false;
+            }
+            // Prevent default Enter behavior
+            event?.preventDefault();
+            const language = parentCodeBlock.getLanguage() || defaultLanguage;
+            // Get current line text
+            const currentLine = getCurrentLineText(selection);
+            const trimmedLine = currentLine.trim();
+            const isEmptyLine = trimmedLine.length === 0;
+            if (debug) {
+                console.log(`[AutoIndentPlugin] Enter key pressed in ${language} cell - Current line: "${currentLine}", isEmpty: ${isEmptyLine}`);
+            }
+            let indentSpaces;
+            // For empty lines, preserve current indentation
+            // For non-empty lines, calculate based on content
+            if (isEmptyLine) {
+                if (debug) {
+                    console.log(`[AutoIndentPlugin] Empty line detected - about to clear whitespace`);
+                }
+                // Clear whitespace from current line before moving to next
+                clearCurrentLineWhitespace(selection, debug);
+                // Preserve current line's indentation for new line
+                indentSpaces = engine.getLeadingWhitespace(currentLine).length;
+                if (debug) {
+                    console.log(`[AutoIndentPlugin] Empty line - cleared whitespace, preserving ${indentSpaces} spaces for new line`);
+                }
+            }
+            else {
+                // Calculate indentation for new line based on current line content
+                const indentResult = engine.calculateIndent({
+                    currentLine,
+                    language,
+                    currentIndent: engine.getLeadingWhitespace(currentLine).length,
+                });
+                indentSpaces = indentResult.spaces;
+                if (debug) {
+                    console.log(`[AutoIndentPlugin] Indent result:`, indentResult);
+                }
+            }
+            // Insert line break
+            selection.insertNodes([$createLineBreakNode()]);
+            // Insert indentation
+            if (indentSpaces > 0) {
+                const indentText = ' '.repeat(indentSpaces);
+                const indentNode = $createJupyterInputHighlightNode(indentText);
+                selection.insertNodes([indentNode]);
+                if (debug) {
+                    console.log(`[AutoIndentPlugin] Inserted ${indentSpaces} spaces`);
+                }
+            }
+            return true; // Handled - prevent default behavior
+        }, COMMAND_PRIORITY_HIGH), 
+        // Handle Shift+Tab (outdent)
+        editor.registerCommand(OUTDENT_CONTENT_COMMAND, () => {
+            const selection = $getSelection();
+            if (!$isRangeSelection(selection)) {
+                return false;
+            }
+            const language = getLanguageFromSelection(selection);
+            const tabSize = engine.getTabSize(language);
+            // Outdent selected lines
+            outdentSelectedLines(selection, tabSize);
+            return true; // Prevent default behavior
+        }, COMMAND_PRIORITY_HIGH));
+    }, [editor, enabled, defaultLanguage, debug]);
+    return null;
+}
+/**
+ * Get language from current selection context
+ */
+function getLanguageFromSelection(selection) {
+    if (!$isRangeSelection(selection)) {
+        return null;
+    }
+    const anchorNode = selection.anchor.getNode();
+    const parentCodeBlock = getParentJupyterInputNode(anchorNode);
+    return parentCodeBlock?.getLanguage() || 'python';
+}
+/**
+ * Get parent JupyterInputNode from a node
+ */
+function getParentJupyterInputNode(node) {
+    let current = node;
+    while (current) {
+        if ($isJupyterInputNode(current)) {
+            return current;
+        }
+        current = current.getParent();
+    }
+    return null;
+}
+/**
+ * Get current line text from selection
+ * Collects all text from the start of the line (after previous linebreak) to cursor
+ */
+function getCurrentLineText(selection) {
+    if (!$isRangeSelection(selection)) {
+        return '';
+    }
+    const anchorNode = selection.anchor.getNode();
+    let currentNode = anchorNode;
+    // Collect all text nodes on the current line (backwards from cursor)
+    const lineTextParts = [];
+    // If anchor is a text node, include its content
+    if ($isTextNode(currentNode)) {
+        lineTextParts.unshift(currentNode.getTextContent());
+        currentNode = currentNode.getPreviousSibling();
+    }
+    else {
+        // If anchor is not a text node, start from previous sibling
+        currentNode = currentNode.getPreviousSibling();
+    }
+    // Walk backwards collecting text until we hit a linebreak or null
+    while (currentNode) {
+        if (currentNode.getType() === 'linebreak') {
+            break;
+        }
+        if ($isTextNode(currentNode)) {
+            lineTextParts.unshift(currentNode.getTextContent());
+        }
+        currentNode = currentNode.getPreviousSibling();
+    }
+    return lineTextParts.join('');
+}
+/**
+ * Clear whitespace from current line if it's empty
+ * Removes trailing spaces from empty indented lines
+ */
+function clearCurrentLineWhitespace(selection, debug = false) {
+    if (!$isRangeSelection(selection)) {
+        if (debug) {
+            console.log('[clearCurrentLineWhitespace] Not a range selection');
+        }
+        return;
+    }
+    const anchorNode = selection.anchor.getNode();
+    let currentNode = anchorNode;
+    if (debug) {
+        console.log('[clearCurrentLineWhitespace] Starting with anchor node:', {
+            type: anchorNode.getType(),
+            isTextNode: $isTextNode(anchorNode),
+            content: $isTextNode(anchorNode) ? anchorNode.getTextContent() : 'N/A',
+        });
+    }
+    // Collect all text nodes on the current line
+    const lineNodes = [];
+    // If anchor is a text node, include it
+    if ($isTextNode(currentNode)) {
+        lineNodes.push(currentNode);
+        currentNode = currentNode.getPreviousSibling();
+    }
+    else {
+        currentNode = currentNode.getPreviousSibling();
+    }
+    // Walk backwards collecting text nodes until we hit a linebreak
+    while (currentNode) {
+        if (currentNode.getType() === 'linebreak') {
+            if (debug) {
+                console.log('[clearCurrentLineWhitespace] Hit linebreak, stopping');
+            }
+            break;
+        }
+        if ($isTextNode(currentNode)) {
+            lineNodes.unshift(currentNode);
+        }
+        currentNode = currentNode.getPreviousSibling();
+    }
+    if (debug) {
+        console.log(`[clearCurrentLineWhitespace] Found ${lineNodes.length} text nodes to clear`);
+        lineNodes.forEach((node, i) => {
+            if ($isTextNode(node)) {
+                console.log(`[clearCurrentLineWhitespace]   Node ${i}: "${node.getTextContent()}"`);
+            }
+        });
+    }
+    // Clear all text nodes (they're all whitespace if we got here)
+    let clearedCount = 0;
+    lineNodes.forEach(node => {
+        if ($isTextNode(node)) {
+            node.setTextContent('');
+            clearedCount++;
+        }
+    });
+    if (debug) {
+        console.log(`[clearCurrentLineWhitespace] Cleared ${clearedCount} nodes`);
+    }
+}
+/**
+ * Indent all selected lines
+ */
+function indentSelectedLines(selection, tabString) {
+    if (!$isRangeSelection(selection)) {
+        return;
+    }
+    const nodes = selection.getNodes();
+    nodes.forEach(node => {
+        if ($isTextNode(node)) {
+            const text = node.getTextContent();
+            // Only indent if node is at start of line
+            // Simple heuristic: check if previous sibling is line break or null
+            const prevSibling = node.getPreviousSibling();
+            if (prevSibling === null || prevSibling.getType() === 'linebreak') {
+                node.setTextContent(tabString + text);
+            }
+        }
+    });
+}
+/**
+ * Outdent all selected lines
+ */
+function outdentSelectedLines(selection, tabSize) {
+    if (!$isRangeSelection(selection)) {
+        return;
+    }
+    const nodes = selection.getNodes();
+    nodes.forEach(node => {
+        if ($isTextNode(node)) {
+            const text = node.getTextContent();
+            // Only outdent if node is at start of line
+            const prevSibling = node.getPreviousSibling();
+            if (prevSibling === null || prevSibling.getType() === 'linebreak') {
+                // Remove leading spaces (up to tabSize)
+                const leadingSpaces = text.match(/^ {1,}/)?.[0]?.length || 0;
+                const spacesToRemove = Math.min(leadingSpaces, tabSize);
+                if (spacesToRemove > 0) {
+                    node.setTextContent(text.substring(spacesToRemove));
+                }
+            }
+        }
+    });
+}
+export default AutoIndentPlugin;
+//# sourceMappingURL=AutoIndentPlugin.js.map
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/plugins/AutoIndentPlugin.js.map b/node_modules/@datalayer/jupyter-lexical/lib/plugins/AutoIndentPlugin.js.map
new file mode 100644
index 0000000..a63b6f3
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/plugins/AutoIndentPlugin.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"AutoIndentPlugin.js","sourceRoot":"","sources":["../../src/plugins/AutoIndentPlugin.tsx"],"names":[],"mappings":"AAAA;;;;GAIG;AAEH;;;;;;;GAOG;AAEH,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,MAAM,OAAO,CAAC;AAC1C,OAAO,EACL,aAAa,EACb,iBAAiB,EACjB,WAAW,EACX,qBAAqB,EACrB,sBAAsB,EACtB,uBAAuB,EACvB,eAAe,EACf,iBAAiB,EACjB,oBAAoB,GAErB,MAAM,SAAS,CAAC;AACjB,OAAO,EAAE,yBAAyB,EAAE,MAAM,uCAAuC,CAAC;AAClF,OAAO,EAAE,aAAa,EAAE,MAAM,gBAAgB,CAAC;AAE/C,OAAO,EAAE,gBAAgB,EAAE,MAAM,gCAAgC,CAAC;AAClE,OAAO,EAAE,sBAAsB,EAAE,MAAM,sCAAsC,CAAC;AAE9E,OAAO,EACL,mBAAmB,GAEpB,MAAM,2BAA2B,CAAC;AACnC,OAAO,EAAE,gCAAgC,EAAE,MAAM,oCAAoC,CAAC;AACtF,OAAO,EAAE,uBAAuB,EAAE,MAAM,+BAA+B,CAAC;AAOxE;;;;GAIG;AACH,SAAS,yBAAyB,CAAC,UAA4B;IAC7D,MAAM,QAAQ,GAAG,UAAU,CAAC,WAAW,EAAE,CAAC;IAE1C,KAAK,MAAM,KAAK,IAAI,QAAQ,EAAE,CAAC;QAC7B,IAAI,uBAAuB,CAAC,KAAK,CAAC,EAAE,CAAC;YACnC,OAAO,IAAI,CAAC;QACd,CAAC;IACH,CAAC;IAED,OAAO,KAAK,CAAC;AACf,CAAC;AAED;;;;;;;;;;;;;;;GAeG;AACH,MAAM,UAAU,gBAAgB,CAAC,EAC/B,OAAO,GAAG,IAAI,EACd,eAAe,GAAG,QAAQ,EAC1B,aAAa,GAAG,EAAE,EAClB,KAAK,GAAG,KAAK,EACb,eAAe,GAAG,CAAC,EACnB,YAAY,GAAG,KAAK,GACE;IACtB,MAAM,CAAC,MAAM,CAAC,GAAG,yBAAyB,EAAE,CAAC;IAE7C,iDAAiD;IACjD,MAAM,WAAW,GAAG,MAAM,EAA0B,CAAC;IACrD,MAAM,SAAS,GAAG,MAAM,EAAoB,CAAC;IAE7C,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;QACzB,WAAW,CAAC,OAAO,GAAG,IAAI,sBAAsB,CAAC;YAC/C,eAAe;YACf,aAAa;YACb,KAAK;YACL,eAAe;YACf,YAAY;SACb,CAAC,CAAC;IACL,CAAC;IAED,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;QACvB,SAAS,CAAC,OAAO,GAAG,IAAI,gBAAgB,CAAC,WAAW,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;IACvE,CAAC;IAED,MAAM,MAAM,GAAG,SAAS,CAAC,OAAO,CAAC;IAEjC,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,CAAC,OAAO,EAAE,CAAC;YACb,OAAO;QACT,CAAC;QAED,OAAO,aAAa;QAClB,yCAAyC;QACzC,MAAM,CAAC,eAAe,CACpB,eAAe,EACf,CAAC,KAA2B,EAAE,EAAE;YAC9B,MAAM,SAAS,GAAG,aAAa,EAAE,CAAC;YAElC,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,EAAE,CAAC;gBAClC,OAAO,KAAK,CAAC;YACf,CAAC;YAED,2CAA2C;YAC3C,MAAM,UAAU,GAAG,SAAS,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;YAC9C,MAAM,eAAe,GAAG,yBAAyB,CAAC,UAAU,CAAC,CAAC;YAE9D,IAAI,CAAC,eAAe,EAAE,CAAC;gBACrB,qDAAqD;gBACrD,OAAO,KAAK,CAAC;YACf,CAAC;YAED,sDAAsD;YACtD,8EAA8E;YAC9E,IAAI,yBAAyB,CAAC,eAAe,CAAC,EAAE,CAAC;gBAC/C,OAAO,KAAK,CAAC,CAAC,0DAA0D;YAC1E,CAAC;YAED,kDAAkD;YAClD,KAAK,EAAE,cAAc,EAAE,CAAC;YAExB,4CAA4C;YAC5C,MAAM,QAAQ,GAAG,eAAe,CAAC,WAAW,EAAE,IAAI,eAAe,CAAC;YAElE,8BAA8B;YAC9B,MAAM,SAAS,GAAG,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;YAEhD,IAAI,KAAK,EAAE,CAAC;gBACV,OAAO,CAAC,GAAG,CACT,kDAAkD,QAAQ,gBAAgB,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,CACtG,CAAC;YACJ,CAAC;YAED,gDAAgD;YAChD,IAAI,SAAS,CAAC,WAAW,EAAE,EAAE,CAAC;gBAC5B,6BAA6B;gBAC7B,SAAS,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;YAClC,CAAC;iBAAM,CAAC;gBACN,0CAA0C;gBAC1C,mBAAmB,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;YAC5C,CAAC;YAED,OAAO,IAAI,CAAC,CAAC,qCAAqC;QACpD,CAAC,EACD,qBAAqB,CACtB;QAED,6DAA6D;QAC7D,MAAM,CAAC,eAAe,CACpB,sBAAsB,EACtB,GAAG,EAAE;YACH,MAAM,SAAS,GAAG,aAAa,EAAE,CAAC;YAElC,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,EAAE,CAAC;gBAClC,OAAO,KAAK,CAAC;YACf,CAAC;YAED,4CAA4C;YAC5C,MAAM,QAAQ,GAAG,wBAAwB,CAAC,SAAS,CAAC,CAAC;YAErD,8BAA8B;YAC9B,MAAM,SAAS,GAAG,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;YAEhD,IAAI,KAAK,EAAE,CAAC;gBACV,OAAO,CAAC,GAAG,CACT,yDAAyD,QAAQ,gBAAgB,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,CAC7G,CAAC;YACJ,CAAC;YAED,gDAAgD;YAChD,IAAI,SAAS,CAAC,WAAW,EAAE,EAAE,CAAC;gBAC5B,6BAA6B;gBAC7B,SAAS,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;YAClC,CAAC;iBAAM,CAAC;gBACN,0CAA0C;gBAC1C,mBAAmB,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;YAC5C,CAAC;YAED,OAAO,IAAI,CAAC,CAAC,2BAA2B;QAC1C,CAAC,EACD,qBAAqB,CACtB;QAED,4DAA4D;QAC5D,MAAM,CAAC,eAAe,CACpB,iBAAiB,EACjB,CAAC,KAA2B,EAAE,EAAE;YAC9B,MAAM,SAAS,GAAG,aAAa,EAAE,CAAC;YAElC,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,EAAE,CAAC;gBAClC,OAAO,KAAK,CAAC;YACf,CAAC;YAED,2CAA2C;YAC3C,MAAM,UAAU,GAAG,SAAS,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;YAC9C,MAAM,eAAe,GAAG,yBAAyB,CAAC,UAAU,CAAC,CAAC;YAE9D,IAAI,CAAC,eAAe,EAAE,CAAC;gBACrB,0CAA0C;gBAC1C,OAAO,KAAK,CAAC;YACf,CAAC;YAED,kDAAkD;YAClD,IAAI,KAAK,EAAE,QAAQ,EAAE,CAAC;gBACpB,OAAO,KAAK,CAAC;YACf,CAAC;YAED,iCAAiC;YACjC,KAAK,EAAE,cAAc,EAAE,CAAC;YAExB,MAAM,QAAQ,GAAG,eAAe,CAAC,WAAW,EAAE,IAAI,eAAe,CAAC;YAElE,wBAAwB;YACxB,MAAM,WAAW,GAAG,kBAAkB,CAAC,SAAS,CAAC,CAAC;YAClD,MAAM,WAAW,GAAG,WAAW,CAAC,IAAI,EAAE,CAAC;YACvC,MAAM,WAAW,GAAG,WAAW,CAAC,MAAM,KAAK,CAAC,CAAC;YAE7C,IAAI,KAAK,EAAE,CAAC;gBACV,OAAO,CAAC,GAAG,CACT,2CAA2C,QAAQ,0BAA0B,WAAW,eAAe,WAAW,EAAE,CACrH,CAAC;YACJ,CAAC;YAED,IAAI,YAAoB,CAAC;YAEzB,gDAAgD;YAChD,kDAAkD;YAClD,IAAI,WAAW,EAAE,CAAC;gBAChB,IAAI,KAAK,EAAE,CAAC;oBACV,OAAO,CAAC,GAAG,CACT,oEAAoE,CACrE,CAAC;gBACJ,CAAC;gBAED,2DAA2D;gBAC3D,0BAA0B,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;gBAE7C,mDAAmD;gBACnD,YAAY,GAAG,MAAM,CAAC,oBAAoB,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC;gBAE/D,IAAI,KAAK,EAAE,CAAC;oBACV,OAAO,CAAC,GAAG,CACT,kEAAkE,YAAY,sBAAsB,CACrG,CAAC;gBACJ,CAAC;YACH,CAAC;iBAAM,CAAC;gBACN,mEAAmE;gBACnE,MAAM,YAAY,GAAG,MAAM,CAAC,eAAe,CAAC;oBAC1C,WAAW;oBACX,QAAQ;oBACR,aAAa,EAAE,MAAM,CAAC,oBAAoB,CAAC,WAAW,CAAC,CAAC,MAAM;iBAC/D,CAAC,CAAC;gBAEH,YAAY,GAAG,YAAY,CAAC,MAAM,CAAC;gBAEnC,IAAI,KAAK,EAAE,CAAC;oBACV,OAAO,CAAC,GAAG,CAAC,mCAAmC,EAAE,YAAY,CAAC,CAAC;gBACjE,CAAC;YACH,CAAC;YAED,oBAAoB;YACpB,SAAS,CAAC,WAAW,CAAC,CAAC,oBAAoB,EAAE,CAAC,CAAC,CAAC;YAEhD,qBAAqB;YACrB,IAAI,YAAY,GAAG,CAAC,EAAE,CAAC;gBACrB,MAAM,UAAU,GAAG,GAAG,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;gBAC5C,MAAM,UAAU,GAAG,gCAAgC,CAAC,UAAU,CAAC,CAAC;gBAChE,SAAS,CAAC,WAAW,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;gBAEpC,IAAI,KAAK,EAAE,CAAC;oBACV,OAAO,CAAC,GAAG,CAAC,+BAA+B,YAAY,SAAS,CAAC,CAAC;gBACpE,CAAC;YACH,CAAC;YAED,OAAO,IAAI,CAAC,CAAC,qCAAqC;QACpD,CAAC,EACD,qBAAqB,CACtB;QAED,6BAA6B;QAC7B,MAAM,CAAC,eAAe,CACpB,uBAAuB,EACvB,GAAG,EAAE;YACH,MAAM,SAAS,GAAG,aAAa,EAAE,CAAC;YAElC,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,EAAE,CAAC;gBAClC,OAAO,KAAK,CAAC;YACf,CAAC;YAED,MAAM,QAAQ,GAAG,wBAAwB,CAAC,SAAS,CAAC,CAAC;YACrD,MAAM,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;YAE5C,yBAAyB;YACzB,oBAAoB,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;YAEzC,OAAO,IAAI,CAAC,CAAC,2BAA2B;QAC1C,CAAC,EACD,qBAAqB,CACtB,CACF,CAAC;IACJ,CAAC,EAAE,CAAC,MAAM,EAAE,OAAO,EAAE,eAAe,EAAE,KAAK,CAAC,CAAC,CAAC;IAE9C,OAAO,IAAI,CAAC;AACd,CAAC;AAED;;GAEG;AACH,SAAS,wBAAwB,CAC/B,SAA2C;IAE3C,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,EAAE,CAAC;QAClC,OAAO,IAAI,CAAC;IACd,CAAC;IAED,MAAM,UAAU,GAAG,SAAS,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;IAC9C,MAAM,eAAe,GAAG,yBAAyB,CAAC,UAAU,CAAC,CAAC;IAE9D,OAAO,eAAe,EAAE,WAAW,EAAE,IAAI,QAAQ,CAAC;AACpD,CAAC;AAED;;GAEG;AACH,SAAS,yBAAyB,CAAC,IAAiB;IAClD,IAAI,OAAO,GAAuB,IAAI,CAAC;IAEvC,OAAO,OAAO,EAAE,CAAC;QACf,IAAI,mBAAmB,CAAC,OAAO,CAAC,EAAE,CAAC;YACjC,OAAO,OAAO,CAAC;QACjB,CAAC;QACD,OAAO,GAAG,OAAO,CAAC,SAAS,EAAE,CAAC;IAChC,CAAC;IAED,OAAO,IAAI,CAAC;AACd,CAAC;AAED;;;GAGG;AACH,SAAS,kBAAkB,CACzB,SAA2C;IAE3C,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,EAAE,CAAC;QAClC,OAAO,EAAE,CAAC;IACZ,CAAC;IAED,MAAM,UAAU,GAAG,SAAS,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;IAC9C,IAAI,WAAW,GAAuB,UAAU,CAAC;IAEjD,qEAAqE;IACrE,MAAM,aAAa,GAAa,EAAE,CAAC;IAEnC,gDAAgD;IAChD,IAAI,WAAW,CAAC,WAAW,CAAC,EAAE,CAAC;QAC7B,aAAa,CAAC,OAAO,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC,CAAC;QACpD,WAAW,GAAG,WAAW,CAAC,kBAAkB,EAAE,CAAC;IACjD,CAAC;SAAM,CAAC;QACN,4DAA4D;QAC5D,WAAW,GAAG,WAAW,CAAC,kBAAkB,EAAE,CAAC;IACjD,CAAC;IAED,kEAAkE;IAClE,OAAO,WAAW,EAAE,CAAC;QACnB,IAAI,WAAW,CAAC,OAAO,EAAE,KAAK,WAAW,EAAE,CAAC;YAC1C,MAAM;QACR,CAAC;QACD,IAAI,WAAW,CAAC,WAAW,CAAC,EAAE,CAAC;YAC7B,aAAa,CAAC,OAAO,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC,CAAC;QACtD,CAAC;QACD,WAAW,GAAG,WAAW,CAAC,kBAAkB,EAAE,CAAC;IACjD,CAAC;IAED,OAAO,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AAChC,CAAC;AAED;;;GAGG;AACH,SAAS,0BAA0B,CACjC,SAA2C,EAC3C,KAAK,GAAG,KAAK;IAEb,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,EAAE,CAAC;QAClC,IAAI,KAAK,EAAE,CAAC;YACV,OAAO,CAAC,GAAG,CAAC,oDAAoD,CAAC,CAAC;QACpE,CAAC;QACD,OAAO;IACT,CAAC;IAED,MAAM,UAAU,GAAG,SAAS,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;IAC9C,IAAI,WAAW,GAAuB,UAAU,CAAC;IAEjD,IAAI,KAAK,EAAE,CAAC;QACV,OAAO,CAAC,GAAG,CAAC,yDAAyD,EAAE;YACrE,IAAI,EAAE,UAAU,CAAC,OAAO,EAAE;YAC1B,UAAU,EAAE,WAAW,CAAC,UAAU,CAAC;YACnC,OAAO,EAAE,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,KAAK;SACvE,CAAC,CAAC;IACL,CAAC;IAED,6CAA6C;IAC7C,MAAM,SAAS,GAAkB,EAAE,CAAC;IAEpC,uCAAuC;IACvC,IAAI,WAAW,CAAC,WAAW,CAAC,EAAE,CAAC;QAC7B,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAC5B,WAAW,GAAG,WAAW,CAAC,kBAAkB,EAAE,CAAC;IACjD,CAAC;SAAM,CAAC;QACN,WAAW,GAAG,WAAW,CAAC,kBAAkB,EAAE,CAAC;IACjD,CAAC;IAED,gEAAgE;IAChE,OAAO,WAAW,EAAE,CAAC;QACnB,IAAI,WAAW,CAAC,OAAO,EAAE,KAAK,WAAW,EAAE,CAAC;YAC1C,IAAI,KAAK,EAAE,CAAC;gBACV,OAAO,CAAC,GAAG,CAAC,sDAAsD,CAAC,CAAC;YACtE,CAAC;YACD,MAAM;QACR,CAAC;QACD,IAAI,WAAW,CAAC,WAAW,CAAC,EAAE,CAAC;YAC7B,SAAS,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;QACjC,CAAC;QACD,WAAW,GAAG,WAAW,CAAC,kBAAkB,EAAE,CAAC;IACjD,CAAC;IAED,IAAI,KAAK,EAAE,CAAC;QACV,OAAO,CAAC,GAAG,CACT,sCAAsC,SAAS,CAAC,MAAM,sBAAsB,CAC7E,CAAC;QACF,SAAS,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE;YAC5B,IAAI,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC;gBACtB,OAAO,CAAC,GAAG,CACT,uCAAuC,CAAC,MAAM,IAAI,CAAC,cAAc,EAAE,GAAG,CACvE,CAAC;YACJ,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,+DAA+D;IAC/D,IAAI,YAAY,GAAG,CAAC,CAAC;IACrB,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;QACvB,IAAI,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC;YACtB,IAAI,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;YACxB,YAAY,EAAE,CAAC;QACjB,CAAC;IACH,CAAC,CAAC,CAAC;IAEH,IAAI,KAAK,EAAE,CAAC;QACV,OAAO,CAAC,GAAG,CAAC,wCAAwC,YAAY,QAAQ,CAAC,CAAC;IAC5E,CAAC;AACH,CAAC;AAED;;GAEG;AACH,SAAS,mBAAmB,CAC1B,SAA2C,EAC3C,SAAiB;IAEjB,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,EAAE,CAAC;QAClC,OAAO;IACT,CAAC;IAED,MAAM,KAAK,GAAG,SAAS,CAAC,QAAQ,EAAE,CAAC;IAEnC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;QACnB,IAAI,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC;YACtB,MAAM,IAAI,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;YAEnC,0CAA0C;YAC1C,oEAAoE;YACpE,MAAM,WAAW,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC9C,IAAI,WAAW,KAAK,IAAI,IAAI,WAAW,CAAC,OAAO,EAAE,KAAK,WAAW,EAAE,CAAC;gBAClE,IAAI,CAAC,cAAc,CAAC,SAAS,GAAG,IAAI,CAAC,CAAC;YACxC,CAAC;QACH,CAAC;IACH,CAAC,CAAC,CAAC;AACL,CAAC;AAED;;GAEG;AACH,SAAS,oBAAoB,CAC3B,SAA2C,EAC3C,OAAe;IAEf,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,EAAE,CAAC;QAClC,OAAO;IACT,CAAC;IAED,MAAM,KAAK,GAAG,SAAS,CAAC,QAAQ,EAAE,CAAC;IAEnC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;QACnB,IAAI,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC;YACtB,MAAM,IAAI,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;YAEnC,2CAA2C;YAC3C,MAAM,WAAW,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC9C,IAAI,WAAW,KAAK,IAAI,IAAI,WAAW,CAAC,OAAO,EAAE,KAAK,WAAW,EAAE,CAAC;gBAClE,wCAAwC;gBACxC,MAAM,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,MAAM,IAAI,CAAC,CAAC;gBAC7D,MAAM,cAAc,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;gBAExD,IAAI,cAAc,GAAG,CAAC,EAAE,CAAC;oBACvB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,CAAC;gBACtD,CAAC;YACH,CAAC;QACH,CAAC;IACH,CAAC,CAAC,CAAC;AACL,CAAC;AAED,eAAe,gBAAgB,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/plugins/ComponentPickerMenuPlugin.js b/node_modules/@datalayer/jupyter-lexical/lib/plugins/ComponentPickerMenuPlugin.js
index 730a11e..33f35b3 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/plugins/ComponentPickerMenuPlugin.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/plugins/ComponentPickerMenuPlugin.js
@@ -58,7 +58,7 @@ function ComponentPickerMenuItem({ index, isSelected, onClick, onMouseEnter, opt
     const handleMouseEnter = option.disabled ? undefined : onMouseEnter;
     return (_jsxs("li", { tabIndex: option.disabled ? -1 : -1, className: className, ref: option.setRefElement, role: "option", "aria-selected": isSelected && !option.disabled, "aria-disabled": option.disabled, id: 'typeahead-item-' + index, onMouseEnter: handleMouseEnter, onClick: handleClick, style: option.disabled ? { opacity: 0.5, cursor: 'not-allowed' } : undefined, children: [option.icon, _jsx("span", { className: "text", children: option.title })] }, option.key));
 }
-export const ComponentPickerMenuPlugin = ({ kernel, initCode = "print('Hello Jupyter UI')", } = {}) => {
+export const ComponentPickerMenuPlugin = ({ kernel, initCode = '', } = {}) => {
     const [editor] = useLexicalComposerContext();
     const [modal, showModal] = useModal();
     const [queryString, setQueryString] = useState(null);
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/plugins/ComponentPickerMenuPlugin.js.map b/node_modules/@datalayer/jupyter-lexical/lib/plugins/ComponentPickerMenuPlugin.js.map
index f8a068e..cf85b86 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/plugins/ComponentPickerMenuPlugin.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/plugins/ComponentPickerMenuPlugin.js.map
@@ -1 +1 @@
-{"version":3,"file":"ComponentPickerMenuPlugin.js","sourceRoot":"","sources":["../../src/plugins/ComponentPickerMenuPlugin.tsx"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"ComponentPickerMenuPlugin.js","sourceRoot":"","sources":["../../src/plugins/ComponentPickerMenuPlugin.tsx"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/plugins/JupyterInputOutputPlugin.js b/node_modules/@datalayer/jupyter-lexical/lib/plugins/JupyterInputOutputPlugin.js
index acbfbc5..934f38e 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/plugins/JupyterInputOutputPlugin.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/plugins/JupyterInputOutputPlugin.js
@@ -8,7 +8,7 @@ import { $getSelection, $isRangeSelection, createCommand, COMMAND_PRIORITY_EDITO
 import { useLexicalComposerContext } from '@lexical/react/LexicalComposerContext';
 import { OutputAdapter, newUuid, } from '@datalayer/jupyter-react';
 import { UUID } from '@lumino/coreutils';
-import { createNoKernelWarning } from '../nodes/jupyterUtils';
+import { createNoRuntimeWarning } from '../nodes/jupyterUtils';
 import { $createJupyterInputNode, JupyterInputNode, $isJupyterInputNode, } from '../nodes/JupyterInputNode';
 import { registerCodeHighlighting } from '../nodes/JupyterInputHighlighter';
 import { JupyterOutputNode, $createJupyterOutputNode, } from '../nodes/JupyterOutputNode';
@@ -23,7 +23,7 @@ export const DEFAULT_INITIAL_OUTPUTS = [
         data: {
             'text/html': [
                 '<div style="color: #888; font-size: 11px; font-style: italic; padding: 0; margin: 0;">',
-                'Press <kbd style="font-size: 10px; padding: 1px 4px; background: #f0f0f0; border: 1px solid #ccc; border-radius: 3px;">Shift+Enter</kbd> to execute. Please connect to execute code.',
+                'Press <kbd style="font-size: 10px; padding: 1px 4px; background: #f0f0f0; border: 1px solid #ccc; border-radius: 3px;">Shift+Enter</kbd> to execute.',
                 '</div>',
             ],
         },
@@ -263,7 +263,7 @@ export const JupyterInputOutputPlugin = (props) => {
                                 // Handle execution
                                 if (!existingAdapter.kernel) {
                                     // Show user-facing warning
-                                    const warningOutput = createNoKernelWarning();
+                                    const warningOutput = createNoRuntimeWarning();
                                     // Update BOTH the node's outputs AND the adapter's model
                                     writableNode.__outputs = [warningOutput];
                                     existingAdapter.setOutputs([warningOutput]);
@@ -516,8 +516,11 @@ export const JupyterInputOutputPlugin = (props) => {
             // Traverse document tree and clear all JupyterOutputNode outputs
             function clearJupyterOutputs(node) {
                 if (node instanceof JupyterOutputNode) {
-                    node.setOutputs([]);
-                    clearedCount++;
+                    // Use outputAdapter.clear() to properly clear the OutputArea model
+                    if (node.__outputAdapter) {
+                        node.__outputAdapter.clear();
+                        clearedCount++;
+                    }
                 }
                 if ($isElementNode(node)) {
                     const children = node.getChildren();
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/plugins/JupyterInputOutputPlugin.js.map b/node_modules/@datalayer/jupyter-lexical/lib/plugins/JupyterInputOutputPlugin.js.map
index 82713a1..a547ec3 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/plugins/JupyterInputOutputPlugin.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/plugins/JupyterInputOutputPlugin.js.map
@@ -1 +1 @@
-{"version":3,"file":"JupyterInputOutputPlugin.js","sourceRoot":"","sources":["../../src/plugins/JupyterInputOutputPlugin.tsx"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"JupyterInputOutputPlugin.js","sourceRoot":"","sources":["../../src/plugins/JupyterInputOutputPlugin.tsx"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/plugins/index.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/plugins/index.d.ts
index 1f16dd3..9bd7a76 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/plugins/index.d.ts
+++ b/node_modules/@datalayer/jupyter-lexical/lib/plugins/index.d.ts
@@ -1,4 +1,5 @@
 export * from './AutoEmbedPlugin';
+export * from './AutoIndentPlugin';
 export * from './AutoLinkPlugin';
 export * from './CodeActionMenuPlugin';
 export * from './CommentPlugin';
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/plugins/index.js b/node_modules/@datalayer/jupyter-lexical/lib/plugins/index.js
index 2853778..d179b0a 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/plugins/index.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/plugins/index.js
@@ -4,6 +4,7 @@
  * MIT License
  */
 export * from './AutoEmbedPlugin';
+export * from './AutoIndentPlugin';
 export * from './AutoLinkPlugin';
 export * from './CodeActionMenuPlugin';
 export * from './CommentPlugin';
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/plugins/index.js.map b/node_modules/@datalayer/jupyter-lexical/lib/plugins/index.js.map
index 28ee777..d471924 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/plugins/index.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/plugins/index.js.map
@@ -1 +1 @@
-{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/plugins/index.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAEH,cAAc,mBAAmB,CAAC;AAClC,cAAc,kBAAkB,CAAC;AACjC,cAAc,wBAAwB,CAAC;AACvC,cAAc,iBAAiB,CAAC;AAChC,cAAc,6BAA6B,CAAC;AAC5C,cAAc,wBAAwB,CAAC;AACvC,cAAc,mBAAmB,CAAC;AAClC,cAAc,mCAAmC,CAAC;AAClD,cAAc,wBAAwB,CAAC;AACvC,cAAc,gBAAgB,CAAC;AAC/B,cAAc,qBAAqB,CAAC;AACpC,cAAc,4BAA4B,CAAC;AAC3C,cAAc,iCAAiC,CAAC;AAChD,cAAc,sBAAsB,CAAC;AACrC,cAAc,4BAA4B,CAAC;AAC3C,cAAc,kBAAkB,CAAC;AACjC,cAAc,yBAAyB,CAAC;AACxC,cAAc,mBAAmB,CAAC;AAClC,cAAc,yBAAyB,CAAC;AACxC,cAAc,iBAAiB,CAAC;AAChC,cAAc,kBAAkB,CAAC;AACjC,cAAc,iBAAiB,CAAC"}
\ No newline at end of file
+{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/plugins/index.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAEH,cAAc,mBAAmB,CAAC;AAClC,cAAc,oBAAoB,CAAC;AACnC,cAAc,kBAAkB,CAAC;AACjC,cAAc,wBAAwB,CAAC;AACvC,cAAc,iBAAiB,CAAC;AAChC,cAAc,6BAA6B,CAAC;AAC5C,cAAc,wBAAwB,CAAC;AACvC,cAAc,mBAAmB,CAAC;AAClC,cAAc,mCAAmC,CAAC;AAClD,cAAc,wBAAwB,CAAC;AACvC,cAAc,gBAAgB,CAAC;AAC/B,cAAc,qBAAqB,CAAC;AACpC,cAAc,4BAA4B,CAAC;AAC3C,cAAc,iCAAiC,CAAC;AAChD,cAAc,sBAAsB,CAAC;AACrC,cAAc,4BAA4B,CAAC;AAC3C,cAAc,kBAAkB,CAAC;AACjC,cAAc,yBAAyB,CAAC;AACxC,cAAc,mBAAmB,CAAC;AAClC,cAAc,yBAAyB,CAAC;AACxC,cAAc,iBAAiB,CAAC;AAChC,cAAc,kBAAkB,CAAC;AACjC,cAAc,iBAAiB,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalAdapter.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalAdapter.d.ts
index b8e97ef..576d1a5 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalAdapter.d.ts
+++ b/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalAdapter.d.ts
@@ -90,13 +90,26 @@ export declare class LexicalAdapter {
      */
     updateBlock(blockId: string, block: LexicalBlock): Promise<OperationResult>;
     /**
-     * Run a specific block (jupyter-cell or jupyter-input)
+     * Run a specific block (jupyter-cell or jupyter-input).
+     * If blockId is not provided, attempts to run the currently focused block.
      */
-    runBlock(blockId: string): Promise<OperationResult>;
+    runBlock(blockId?: string): Promise<OperationResult>;
     /**
      * Run all executable blocks in the document
      */
     runAllBlocks(): Promise<OperationResult>;
+    /**
+     * Clear all outputs from all Jupyter cells in the lexical document.
+     *
+     * @remarks
+     * Removes all execution outputs from all jupyter-cell blocks. This operation:
+     * - Clears outputs but preserves cell source code
+     * - Resets execution counts for jupyter cells
+     * - Cannot be undone
+     *
+     * @returns Promise with operation result
+     */
+    clearAllOutputs(): Promise<OperationResult>;
     /**
      * Check if a block type requires command-based insertion
      */
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalAdapter.js b/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalAdapter.js
index c68f9c4..8df6d1f 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalAdapter.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalAdapter.js
@@ -3,7 +3,7 @@
  *
  * MIT License
  */
-import { $getRoot, $createParagraphNode, $createTextNode } from 'lexical';
+import { $getRoot, $getSelection, $createParagraphNode, $createTextNode, } from 'lexical';
 import { $createHeadingNode, $createQuoteNode, } from '@lexical/rich-text';
 import { $createCodeNode } from '@lexical/code';
 import { $createListNode, $createListItemNode } from '@lexical/list';
@@ -154,9 +154,43 @@ export class LexicalAdapter {
         return this.insertBlock(block, insertAfterId);
     }
     /**
-     * Run a specific block (jupyter-cell or jupyter-input)
+     * Run a specific block (jupyter-cell or jupyter-input).
+     * If blockId is not provided, attempts to run the currently focused block.
      */
     async runBlock(blockId) {
+        // If no blockId provided, find the currently focused jupyter-cell
+        if (!blockId) {
+            let foundBlockId = null;
+            this._editor.getEditorState().read(() => {
+                const selection = $getSelection();
+                if (!selection)
+                    return;
+                const nodes = selection.getNodes();
+                if (nodes.length === 0)
+                    return;
+                const node = nodes[0];
+                // Find parent jupyter-cell or jupyter-input
+                let current = node;
+                while (current) {
+                    const type = current.getType();
+                    if (type === 'jupyter-cell' || type === 'jupyter-input') {
+                        foundBlockId = current.getKey();
+                        break;
+                    }
+                    const parent = current.getParent();
+                    if (!parent)
+                        break;
+                    current = parent;
+                }
+            });
+            if (!foundBlockId) {
+                return {
+                    success: false,
+                    error: 'No jupyter cell is currently focused',
+                };
+            }
+            blockId = foundBlockId;
+        }
         const block = await this.getBlockById(blockId);
         if (!block) {
             return {
@@ -284,6 +318,50 @@ export class LexicalAdapter {
                 : undefined,
         };
     }
+    /**
+     * Clear all outputs from all Jupyter cells in the lexical document.
+     *
+     * @remarks
+     * Removes all execution outputs from all jupyter-cell blocks. This operation:
+     * - Clears outputs but preserves cell source code
+     * - Resets execution counts for jupyter cells
+     * - Cannot be undone
+     *
+     * @returns Promise with operation result
+     */
+    async clearAllOutputs() {
+        return new Promise(resolve => {
+            this._editor.update(() => {
+                let clearedCount = 0;
+                // Traverse document tree and clear all JupyterOutputNode outputs
+                function clearJupyterOutputs(node) {
+                    // Check if node is a JupyterOutputNode by checking its type
+                    if (node.getType && node.getType() === 'jupyter-output') {
+                        // Use outputAdapter.clear() to properly clear the OutputArea model
+                        if (node.__outputAdapter) {
+                            node.__outputAdapter.clear();
+                            clearedCount++;
+                        }
+                    }
+                    // Traverse children if this is an element node
+                    if (node.getChildren) {
+                        const children = node.getChildren();
+                        for (const child of children) {
+                            clearJupyterOutputs(child);
+                        }
+                    }
+                }
+                const root = $getRoot();
+                clearJupyterOutputs(root);
+                resolve({
+                    success: true,
+                    message: clearedCount > 0
+                        ? `Cleared outputs from ${clearedCount} jupyter cells`
+                        : 'No jupyter cells found to clear',
+                });
+            });
+        });
+    }
     /**
      * Check if a block type requires command-based insertion
      */
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalAdapter.js.map b/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalAdapter.js.map
index 5d69486..429ade1 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalAdapter.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalAdapter.js.map
@@ -1 +1 @@
-{"version":3,"file":"LexicalAdapter.js","sourceRoot":"","sources":["../../src/state/LexicalAdapter.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"LexicalAdapter.js","sourceRoot":"","sources":["../../src/state/LexicalAdapter.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalState.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalState.d.ts
index 0660220..b61af72 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalState.d.ts
+++ b/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalState.d.ts
@@ -1,4 +1,4 @@
-import { LexicalAdapter } from './LexicalAdapter';
+import { LexicalAdapter, type OperationResult } from './LexicalAdapter';
 import type { LexicalBlock, BlockFormat, BriefBlock } from '../tools/core/types';
 /**
  * State for a single Lexical document
@@ -62,6 +62,7 @@ export type LexicalState = ILexicalsState & {
     runBlock: (id: string, blockId?: string) => Promise<any>;
     runAllBlocks: (id: string) => Promise<any>;
     executeCode: (id: string, code?: string, storeHistory?: boolean, silent?: boolean, stopOnError?: boolean) => Promise<any>;
+    clearAllOutputs: (id: string) => Promise<OperationResult>;
     getBlockCount: (id: string) => Promise<number>;
     reset: () => void;
 };
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalState.js b/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalState.js
index dd472fb..096aca6 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalState.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalState.js
@@ -131,6 +131,14 @@ export const lexicalStore = createStore((set, get) => ({
             .lexicals.get(params.id)
             ?.adapter?.executeCode(params.code, params.storeHistory, params.silent, params.stopOnError)) ?? { success: false, error: 'Adapter not found' });
     },
+    clearAllOutputs: async (id) => {
+        const params = typeof id === 'object' ? id : { id };
+        const adapter = get().lexicals.get(params.id)?.adapter;
+        if (!adapter) {
+            return { success: false, error: 'Adapter not found' };
+        }
+        return await adapter.clearAllOutputs();
+    },
     getBlockCount: async (id) => {
         const blocks = await get().readAllBlocks(id);
         return blocks.length;
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalState.js.map b/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalState.js.map
index ad3a1b8..1b13581 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalState.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalState.js.map
@@ -1 +1 @@
-{"version":3,"file":"LexicalState.js","sourceRoot":"","sources":["../../src/state/LexicalState.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"LexicalState.js","sourceRoot":"","sources":["../../src/state/LexicalState.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/executeCode.ts.bak b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/executeCode.ts.bak
new file mode 100644
index 0000000..8bd361a
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/executeCode.ts.bak
@@ -0,0 +1,42 @@
+/*
+ * Copyright (c) 2021-2023 Datalayer, Inc.
+ *
+ * MIT License
+ */
+
+/**
+ * Tool definition for executing code directly in kernel
+ *
+ * @module tools/definitions/executeCode
+ */
+
+import type { ToolDefinition } from '../core';
+import { zodToToolParameters } from '../core/zodUtils';
+import { executeCodeParamsSchema } from '../schemas/executeCode';
+
+/**
+ * Tool definition for executing code directly in the kernel
+ *
+ * Executes code without creating or modifying blocks in the document.
+ */
+export const executeCodeTool: ToolDefinition = {
+  name: 'datalayer_executeCode_lexical',
+  displayName: 'Execute Code in Kernel (Lexical)',
+  toolReferenceName: 'executeCode',
+  description:
+    required: ['code'],
+  },
+
+  operation: 'executeCode',
+
+  config: {
+    confirmationMessage: (params: { code: string }) =>
+      `Execute code: ${params.code.substring(0, 50)}${params.code.length > 50 ? '...' : ''}?`,
+    invocationMessage: () => 'Executing code in kernel',
+    requiresConfirmation: false,
+    canBeReferencedInPrompt: true,
+    priority: 'high',
+  },
+
+  tags: ['lexical', 'kernel', 'execute', 'code', 'inspection'],
+};
