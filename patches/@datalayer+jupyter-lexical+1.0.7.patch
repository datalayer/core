diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/AutoIndentEngine.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/AutoIndentEngine.d.ts
new file mode 100644
index 0000000..8853eaf
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/AutoIndentEngine.d.ts
@@ -0,0 +1,111 @@
+/**
+ * AutoIndent Engine
+ *
+ * Core logic for calculating language-aware code indentation.
+ * Processes indent/dedent rules and applies them based on line content.
+ *
+ * @module autoindent/AutoIndentEngine
+ */
+import type { IndentContext, IndentResult } from './types';
+import { LanguageIndentRegistry } from './LanguageIndentRegistry';
+/**
+ * Engine for calculating intelligent code indentation
+ *
+ * Uses language-specific rules to determine appropriate indentation
+ * based on line content and context.
+ *
+ * @example
+ * ```typescript
+ * const registry = new LanguageIndentRegistry();
+ * const engine = new AutoIndentEngine(registry);
+ *
+ * const result = engine.calculateIndent({
+ *   currentLine: 'if x > 0:',
+ *   language: 'python',
+ *   currentIndent: 0,
+ * });
+ *
+ * console.log(result.spaces); // 4
+ * console.log(result.shouldIndent); // true
+ * ```
+ */
+export declare class AutoIndentEngine {
+    private registry;
+    private debug;
+    /**
+     * Create a new autoindent engine
+     *
+     * @param registry - Language configuration registry
+     * @param debug - Enable debug logging
+     */
+    constructor(registry: LanguageIndentRegistry, debug?: boolean);
+    /**
+     * Calculate indentation for a new line based on current line context
+     *
+     * @param context - Indentation context
+     * @returns Indent result with spaces and indent/dedent flags
+     */
+    calculateIndent(context: IndentContext): IndentResult;
+    /**
+     * Get tab string for a language (either spaces or actual tab character)
+     *
+     * @param language - Language identifier
+     * @returns String to insert for one tab press
+     */
+    getTabString(language: string | null | undefined): string;
+    /**
+     * Get tab size (number of spaces) for a language
+     *
+     * @param language - Language identifier
+     * @returns Number of spaces per indentation level
+     */
+    getTabSize(language: string | null | undefined): number;
+    /**
+     * Calculate indentation for outdenting (Shift+Tab or dedent)
+     *
+     * @param currentIndent - Current indentation in spaces
+     * @param language - Language identifier
+     * @returns New indentation level after outdent
+     */
+    calculateOutdent(currentIndent: number, language: string | null | undefined): number;
+    /**
+     * Get leading whitespace count from a line
+     *
+     * @param line - Line of text
+     * @returns Number of leading whitespace characters (spaces and tabs)
+     */
+    private getLeadingWhitespaceCount;
+    /**
+     * Get leading whitespace string from a line
+     *
+     * @param line - Line of text
+     * @returns Leading whitespace characters
+     */
+    getLeadingWhitespace(line: string): string;
+    /**
+     * Check if a line matches an indent rule
+     *
+     * @param line - Line of text
+     * @param rule - Indent rule to check
+     * @returns True if line matches the rule
+     */
+    private matchesIndentRule;
+    /**
+     * Check if a line matches a dedent rule
+     *
+     * @param line - Line of text
+     * @param rule - Dedent rule to check
+     * @returns True if line matches the rule
+     */
+    private matchesDedentRule;
+    /**
+     * Normalize indentation to use consistent spacing
+     * Converts tabs to spaces based on language config
+     *
+     * @param line - Line of text
+     * @param language - Language identifier
+     * @returns Line with normalized indentation
+     */
+    normalizeIndentation(line: string, language: string | null | undefined): string;
+}
+export default AutoIndentEngine;
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/AutoIndentEngine.js b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/AutoIndentEngine.js
new file mode 100644
index 0000000..1f42b6b
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/AutoIndentEngine.js
@@ -0,0 +1,250 @@
+/*
+ * Copyright (c) 2021-2023 Datalayer, Inc.
+ *
+ * MIT License
+ */
+/**
+ * Engine for calculating intelligent code indentation
+ *
+ * Uses language-specific rules to determine appropriate indentation
+ * based on line content and context.
+ *
+ * @example
+ * ```typescript
+ * const registry = new LanguageIndentRegistry();
+ * const engine = new AutoIndentEngine(registry);
+ *
+ * const result = engine.calculateIndent({
+ *   currentLine: 'if x > 0:',
+ *   language: 'python',
+ *   currentIndent: 0,
+ * });
+ *
+ * console.log(result.spaces); // 4
+ * console.log(result.shouldIndent); // true
+ * ```
+ */
+export class AutoIndentEngine {
+    registry;
+    debug;
+    /**
+     * Create a new autoindent engine
+     *
+     * @param registry - Language configuration registry
+     * @param debug - Enable debug logging
+     */
+    constructor(registry, debug = false) {
+        this.registry = registry;
+        this.debug = debug;
+    }
+    /**
+     * Calculate indentation for a new line based on current line context
+     *
+     * @param context - Indentation context
+     * @returns Indent result with spaces and indent/dedent flags
+     */
+    calculateIndent(context) {
+        const config = this.registry.getConfigOrDefault(context.language);
+        // Get base indentation from current line
+        const currentLineIndent = this.getLeadingWhitespaceCount(context.currentLine);
+        // Start with current indentation
+        let resultSpaces = currentLineIndent;
+        let shouldIndent = false;
+        let shouldDedent = false;
+        let triggeredRule;
+        // Check indent triggers
+        for (const rule of config.indentTriggers) {
+            if (this.matchesIndentRule(context.currentLine, rule)) {
+                resultSpaces = currentLineIndent + rule.indentAmount;
+                shouldIndent = true;
+                triggeredRule = rule.name;
+                if (this.debug) {
+                    console.log(`[AutoIndentEngine] Indent triggered by rule: ${rule.name}`);
+                }
+                break; // Use first matching rule
+            }
+        }
+        // Check dedent triggers (only if no indent trigger matched)
+        if (!shouldIndent) {
+            for (const rule of config.dedentTriggers) {
+                if (this.matchesDedentRule(context.currentLine, rule)) {
+                    // Note: Dedent triggers indicate that the NEXT line after the current
+                    // line should be dedented. The current line maintains its indent.
+                    shouldDedent = true;
+                    triggeredRule = rule.name;
+                    if (this.debug) {
+                        console.log(`[AutoIndentEngine] Dedent triggered by rule: ${rule.name}`);
+                    }
+                    break;
+                }
+            }
+        }
+        // Apply custom rules
+        if (config.customRules) {
+            for (const customRule of config.customRules) {
+                if (customRule.condition(context.currentLine, context)) {
+                    resultSpaces = customRule.apply(resultSpaces, context);
+                    if (this.debug) {
+                        console.log(`[AutoIndentEngine] Custom rule applied: ${customRule.name}`);
+                    }
+                    break; // Use first matching custom rule
+                }
+            }
+        }
+        // Ensure we never go negative
+        resultSpaces = Math.max(0, resultSpaces);
+        const result = {
+            spaces: resultSpaces,
+            shouldIndent,
+            shouldDedent,
+            triggeredRule,
+        };
+        if (this.debug) {
+            console.log('[AutoIndentEngine] Indent calculation:', {
+                input: context.currentLine,
+                language: context.language,
+                currentIndent: currentLineIndent,
+                result,
+            });
+        }
+        return result;
+    }
+    /**
+     * Get tab string for a language (either spaces or actual tab character)
+     *
+     * @param language - Language identifier
+     * @returns String to insert for one tab press
+     */
+    getTabString(language) {
+        const config = this.registry.getConfigOrDefault(language);
+        if (config.useTabs) {
+            return '\t';
+        }
+        return ' '.repeat(config.tabSize);
+    }
+    /**
+     * Get tab size (number of spaces) for a language
+     *
+     * @param language - Language identifier
+     * @returns Number of spaces per indentation level
+     */
+    getTabSize(language) {
+        const config = this.registry.getConfigOrDefault(language);
+        return config.tabSize;
+    }
+    /**
+     * Calculate indentation for outdenting (Shift+Tab or dedent)
+     *
+     * @param currentIndent - Current indentation in spaces
+     * @param language - Language identifier
+     * @returns New indentation level after outdent
+     */
+    calculateOutdent(currentIndent, language) {
+        const config = this.registry.getConfigOrDefault(language);
+        const newIndent = currentIndent - config.tabSize;
+        return Math.max(0, newIndent);
+    }
+    /**
+     * Get leading whitespace count from a line
+     *
+     * @param line - Line of text
+     * @returns Number of leading whitespace characters (spaces and tabs)
+     */
+    getLeadingWhitespaceCount(line) {
+        const match = line.match(/^[\t ]*/);
+        if (!match) {
+            return 0;
+        }
+        const whitespace = match[0];
+        let count = 0;
+        for (const char of whitespace) {
+            if (char === '\t') {
+                // Count tab as 4 spaces (or configured tab size)
+                // Note: This is a simplification; actual tab width depends on config
+                count += 4;
+            }
+            else {
+                count += 1;
+            }
+        }
+        return count;
+    }
+    /**
+     * Get leading whitespace string from a line
+     *
+     * @param line - Line of text
+     * @returns Leading whitespace characters
+     */
+    getLeadingWhitespace(line) {
+        const match = line.match(/^[\t ]*/);
+        return match ? match[0] : '';
+    }
+    /**
+     * Check if a line matches an indent rule
+     *
+     * @param line - Line of text
+     * @param rule - Indent rule to check
+     * @returns True if line matches the rule
+     */
+    matchesIndentRule(line, rule) {
+        switch (rule.context) {
+            case 'line-end':
+                return rule.pattern.test(line);
+            case 'line-start':
+                return rule.pattern.test(line);
+            case 'anywhere':
+                return rule.pattern.test(line);
+            default:
+                return false;
+        }
+    }
+    /**
+     * Check if a line matches a dedent rule
+     *
+     * @param line - Line of text
+     * @param rule - Dedent rule to check
+     * @returns True if line matches the rule
+     */
+    matchesDedentRule(line, rule) {
+        switch (rule.context) {
+            case 'line-start':
+                return rule.pattern.test(line);
+            case 'anywhere':
+                return rule.pattern.test(line);
+            default:
+                return false;
+        }
+    }
+    /**
+     * Normalize indentation to use consistent spacing
+     * Converts tabs to spaces based on language config
+     *
+     * @param line - Line of text
+     * @param language - Language identifier
+     * @returns Line with normalized indentation
+     */
+    normalizeIndentation(line, language) {
+        const config = this.registry.getConfigOrDefault(language);
+        if (config.useTabs) {
+            // Convert spaces to tabs
+            const leadingSpaces = this.getLeadingWhitespace(line);
+            const spaceCount = leadingSpaces.length;
+            const tabCount = Math.floor(spaceCount / config.tabSize);
+            const remainingSpaces = spaceCount % config.tabSize;
+            const normalized = '\t'.repeat(tabCount) +
+                ' '.repeat(remainingSpaces) +
+                line.substring(leadingSpaces.length);
+            return normalized;
+        }
+        else {
+            // Convert tabs to spaces
+            const leadingWhitespace = this.getLeadingWhitespace(line);
+            const normalized = leadingWhitespace
+                .replace(/\t/g, ' '.repeat(config.tabSize))
+                .concat(line.substring(leadingWhitespace.length));
+            return normalized;
+        }
+    }
+}
+export default AutoIndentEngine;
+//# sourceMappingURL=AutoIndentEngine.js.map
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/AutoIndentEngine.js.map b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/AutoIndentEngine.js.map
new file mode 100644
index 0000000..febded4
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/AutoIndentEngine.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"AutoIndentEngine.js","sourceRoot":"","sources":["../../src/autoindent/AutoIndentEngine.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/LanguageIndentRegistry.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/LanguageIndentRegistry.d.ts
new file mode 100644
index 0000000..2f85172
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/LanguageIndentRegistry.d.ts
@@ -0,0 +1,102 @@
+/**
+ * Language Indentation Registry
+ *
+ * Central registry for managing language-specific indentation configurations.
+ * Supports registration, retrieval, and updating of language configs.
+ *
+ * @module autoindent/LanguageIndentRegistry
+ */
+import type { LanguageIndentConfig, AutoIndentOptions } from './types';
+/**
+ * Registry for language indentation configurations
+ *
+ * Manages a collection of language-specific indent rules and provides
+ * methods to register, retrieve, and update configurations.
+ *
+ * @example
+ * ```typescript
+ * const registry = new LanguageIndentRegistry();
+ * const config = registry.getConfig('python');
+ * console.log(config.tabSize); // 4
+ * ```
+ */
+export declare class LanguageIndentRegistry {
+    private configs;
+    private options;
+    /**
+     * Create a new language indent registry
+     *
+     * @param options - Configuration options
+     */
+    constructor(options?: AutoIndentOptions);
+    /**
+     * Register default language configurations
+     * Currently supports: Python, JavaScript, TypeScript
+     */
+    private registerDefaultLanguages;
+    /**
+     * Register a language configuration
+     *
+     * @param config - Language indent configuration
+     * @throws Error if language already registered (use updateConfig to modify)
+     */
+    registerLanguage(config: LanguageIndentConfig): void;
+    /**
+     * Register a language alias
+     * Example: 'py' -> 'python', 'js' -> 'javascript'
+     *
+     * @param alias - Short alias name
+     * @param targetLanguage - Full language name
+     */
+    registerAlias(alias: string, targetLanguage: string): void;
+    /**
+     * Get configuration for a language
+     *
+     * @param language - Language identifier
+     * @returns Language config or undefined if not found
+     */
+    getConfig(language: string | null | undefined): LanguageIndentConfig | undefined;
+    /**
+     * Get configuration for a language with fallback to default
+     *
+     * @param language - Language identifier
+     * @returns Language config (never undefined - returns default if not found)
+     */
+    getConfigOrDefault(language: string | null | undefined): LanguageIndentConfig;
+    /**
+     * Create a minimal fallback configuration
+     */
+    private createFallbackConfig;
+    /**
+     * Check if a language is registered
+     *
+     * @param language - Language identifier
+     * @returns True if language has a configuration
+     */
+    hasLanguage(language: string | null | undefined): boolean;
+    /**
+     * Update an existing language configuration
+     *
+     * @param language - Language identifier
+     * @param updates - Partial configuration to merge
+     * @returns True if update successful, false if language not found
+     */
+    updateConfig(language: string, updates: Partial<LanguageIndentConfig>): boolean;
+    /**
+     * Get list of all registered languages
+     *
+     * @returns Array of language identifiers
+     */
+    getRegisteredLanguages(): string[];
+    /**
+     * Clear all registered configurations
+     * Useful for testing
+     */
+    clear(): void;
+    /**
+     * Reset to default configurations
+     * Removes custom configs but keeps built-in languages
+     */
+    reset(): void;
+}
+export default LanguageIndentRegistry;
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/LanguageIndentRegistry.js b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/LanguageIndentRegistry.js
new file mode 100644
index 0000000..34af5a8
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/LanguageIndentRegistry.js
@@ -0,0 +1,212 @@
+/*
+ * Copyright (c) 2021-2023 Datalayer, Inc.
+ *
+ * MIT License
+ */
+import { pythonIndentConfig } from './languages/python';
+import { javascriptIndentConfig, typescriptIndentConfig, } from './languages/javascript';
+/**
+ * Registry for language indentation configurations
+ *
+ * Manages a collection of language-specific indent rules and provides
+ * methods to register, retrieve, and update configurations.
+ *
+ * @example
+ * ```typescript
+ * const registry = new LanguageIndentRegistry();
+ * const config = registry.getConfig('python');
+ * console.log(config.tabSize); // 4
+ * ```
+ */
+export class LanguageIndentRegistry {
+    configs;
+    options;
+    /**
+     * Create a new language indent registry
+     *
+     * @param options - Configuration options
+     */
+    constructor(options = {}) {
+        this.configs = new Map();
+        this.options = {
+            defaultLanguage: 'python',
+            fallbackTabSize: 4,
+            debug: false,
+            ...options,
+        };
+        // Register default languages
+        this.registerDefaultLanguages();
+        // Register any custom configs provided
+        if (options.customConfigs) {
+            options.customConfigs.forEach(config => this.registerLanguage(config));
+        }
+    }
+    /**
+     * Register default language configurations
+     * Currently supports: Python, JavaScript, TypeScript
+     */
+    registerDefaultLanguages() {
+        this.registerLanguage(pythonIndentConfig);
+        this.registerLanguage(javascriptIndentConfig);
+        this.registerLanguage(typescriptIndentConfig);
+        // Add common language aliases
+        this.registerAlias('py', 'python');
+        this.registerAlias('js', 'javascript');
+        this.registerAlias('ts', 'typescript');
+        this.registerAlias('jsx', 'javascript');
+        this.registerAlias('tsx', 'typescript');
+    }
+    /**
+     * Register a language configuration
+     *
+     * @param config - Language indent configuration
+     * @throws Error if language already registered (use updateConfig to modify)
+     */
+    registerLanguage(config) {
+        if (this.configs.has(config.language)) {
+            if (this.options.debug) {
+                console.warn(`[LanguageIndentRegistry] Language '${config.language}' already registered. Use updateConfig() to modify.`);
+            }
+            return;
+        }
+        this.configs.set(config.language, config);
+        if (this.options.debug) {
+            console.log(`[LanguageIndentRegistry] Registered language: ${config.language} (tabSize=${config.tabSize})`);
+        }
+    }
+    /**
+     * Register a language alias
+     * Example: 'py' -> 'python', 'js' -> 'javascript'
+     *
+     * @param alias - Short alias name
+     * @param targetLanguage - Full language name
+     */
+    registerAlias(alias, targetLanguage) {
+        const config = this.configs.get(targetLanguage);
+        if (config) {
+            this.configs.set(alias, config);
+        }
+    }
+    /**
+     * Get configuration for a language
+     *
+     * @param language - Language identifier
+     * @returns Language config or undefined if not found
+     */
+    getConfig(language) {
+        if (!language) {
+            return this.getConfig(this.options.defaultLanguage);
+        }
+        // Normalize language name (lowercase, trim)
+        const normalized = language.toLowerCase().trim();
+        return this.configs.get(normalized);
+    }
+    /**
+     * Get configuration for a language with fallback to default
+     *
+     * @param language - Language identifier
+     * @returns Language config (never undefined - returns default if not found)
+     */
+    getConfigOrDefault(language) {
+        const config = this.getConfig(language);
+        if (config) {
+            return config;
+        }
+        // Fallback to default language
+        const defaultConfig = this.getConfig(this.options.defaultLanguage);
+        if (defaultConfig) {
+            if (this.options.debug) {
+                console.warn(`[LanguageIndentRegistry] Language '${language}' not found, using default: ${this.options.defaultLanguage}`);
+            }
+            return defaultConfig;
+        }
+        // Ultimate fallback: create minimal config
+        if (this.options.debug) {
+            console.error(`[LanguageIndentRegistry] No config found for '${language}' and default '${this.options.defaultLanguage}' missing!`);
+        }
+        return this.createFallbackConfig(language || 'unknown');
+    }
+    /**
+     * Create a minimal fallback configuration
+     */
+    createFallbackConfig(language) {
+        return {
+            language,
+            tabSize: this.options.fallbackTabSize || 4,
+            useTabs: this.options.preserveTabs || false,
+            indentTriggers: [],
+            dedentTriggers: [],
+        };
+    }
+    /**
+     * Check if a language is registered
+     *
+     * @param language - Language identifier
+     * @returns True if language has a configuration
+     */
+    hasLanguage(language) {
+        if (!language) {
+            return false;
+        }
+        const normalized = language.toLowerCase().trim();
+        return this.configs.has(normalized);
+    }
+    /**
+     * Update an existing language configuration
+     *
+     * @param language - Language identifier
+     * @param updates - Partial configuration to merge
+     * @returns True if update successful, false if language not found
+     */
+    updateConfig(language, updates) {
+        const normalized = language.toLowerCase().trim();
+        const existing = this.configs.get(normalized);
+        if (!existing) {
+            if (this.options.debug) {
+                console.warn(`[LanguageIndentRegistry] Cannot update '${language}' - not registered`);
+            }
+            return false;
+        }
+        const updated = {
+            ...existing,
+            ...updates,
+            language: existing.language, // Preserve original language name
+        };
+        this.configs.set(normalized, updated);
+        if (this.options.debug) {
+            console.log(`[LanguageIndentRegistry] Updated config for: ${language}`, updates);
+        }
+        return true;
+    }
+    /**
+     * Get list of all registered languages
+     *
+     * @returns Array of language identifiers
+     */
+    getRegisteredLanguages() {
+        return Array.from(this.configs.keys());
+    }
+    /**
+     * Clear all registered configurations
+     * Useful for testing
+     */
+    clear() {
+        this.configs.clear();
+        if (this.options.debug) {
+            console.log('[LanguageIndentRegistry] Cleared all configurations');
+        }
+    }
+    /**
+     * Reset to default configurations
+     * Removes custom configs but keeps built-in languages
+     */
+    reset() {
+        this.clear();
+        this.registerDefaultLanguages();
+        if (this.options.debug) {
+            console.log('[LanguageIndentRegistry] Reset to default configurations');
+        }
+    }
+}
+export default LanguageIndentRegistry;
+//# sourceMappingURL=LanguageIndentRegistry.js.map
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/LanguageIndentRegistry.js.map b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/LanguageIndentRegistry.js.map
new file mode 100644
index 0000000..faefd16
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/LanguageIndentRegistry.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"LanguageIndentRegistry.js","sourceRoot":"","sources":["../../src/autoindent/LanguageIndentRegistry.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/__tests__/AutoIndentEngine.test.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/__tests__/AutoIndentEngine.test.d.ts
new file mode 100644
index 0000000..cb0ff5c
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/__tests__/AutoIndentEngine.test.d.ts
@@ -0,0 +1 @@
+export {};
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/__tests__/AutoIndentEngine.test.js b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/__tests__/AutoIndentEngine.test.js
new file mode 100644
index 0000000..2efbe8a
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/__tests__/AutoIndentEngine.test.js
@@ -0,0 +1,422 @@
+/*
+ * Copyright (c) 2021-2023 Datalayer, Inc.
+ *
+ * MIT License
+ */
+/**
+ * AutoIndent Engine Tests
+ *
+ * Comprehensive test suite for language-aware code indentation.
+ *
+ * @module autoindent/__tests__
+ */
+import { AutoIndentEngine } from '../AutoIndentEngine';
+import { LanguageIndentRegistry } from '../LanguageIndentRegistry';
+describe('AutoIndentEngine', () => {
+    let registry;
+    let engine;
+    beforeEach(() => {
+        registry = new LanguageIndentRegistry();
+        engine = new AutoIndentEngine(registry, false);
+    });
+    describe('Python Indentation', () => {
+        describe('Colon-triggered indent', () => {
+            it('should indent after if statement with colon', () => {
+                const context = {
+                    currentLine: 'if x > 0:',
+                    language: 'python',
+                    currentIndent: 0,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(4);
+                expect(result.shouldIndent).toBe(true);
+                expect(result.triggeredRule).toBe('colon-indent');
+            });
+            it('should indent after for loop with colon', () => {
+                const context = {
+                    currentLine: 'for i in range(10):',
+                    language: 'python',
+                    currentIndent: 0,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(4);
+                expect(result.shouldIndent).toBe(true);
+            });
+            it('should indent after function definition with colon', () => {
+                const context = {
+                    currentLine: 'def my_function():',
+                    language: 'python',
+                    currentIndent: 0,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(4);
+                expect(result.shouldIndent).toBe(true);
+            });
+            it('should indent after class definition with colon', () => {
+                const context = {
+                    currentLine: 'class MyClass:',
+                    language: 'python',
+                    currentIndent: 0,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(4);
+                expect(result.shouldIndent).toBe(true);
+            });
+            it('should indent after try statement with colon', () => {
+                const context = {
+                    currentLine: 'try:',
+                    language: 'python',
+                    currentIndent: 0,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(4);
+                expect(result.shouldIndent).toBe(true);
+            });
+            it('should indent after with statement with colon', () => {
+                const context = {
+                    currentLine: 'with open("file.txt") as f:',
+                    language: 'python',
+                    currentIndent: 0,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(4);
+                expect(result.shouldIndent).toBe(true);
+            });
+            it('should indent after colon with trailing comment', () => {
+                const context = {
+                    currentLine: 'if condition:  # This is a comment',
+                    language: 'python',
+                    currentIndent: 0,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(4);
+                expect(result.shouldIndent).toBe(true);
+            });
+            it('should indent after colon with trailing whitespace', () => {
+                const context = {
+                    currentLine: 'if condition:   ',
+                    language: 'python',
+                    currentIndent: 0,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(4);
+                expect(result.shouldIndent).toBe(true);
+            });
+        });
+        describe('Nested indentation', () => {
+            it('should handle nested if statements', () => {
+                const context = {
+                    currentLine: '    if nested:',
+                    language: 'python',
+                    currentIndent: 4,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(8);
+                expect(result.shouldIndent).toBe(true);
+            });
+            it('should handle deeply nested blocks', () => {
+                const context = {
+                    currentLine: '        if deeply_nested:',
+                    language: 'python',
+                    currentIndent: 8,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(12);
+                expect(result.shouldIndent).toBe(true);
+            });
+        });
+        describe('Dedent keywords', () => {
+            it('should detect return statement for dedent', () => {
+                const context = {
+                    currentLine: '    return value',
+                    language: 'python',
+                    currentIndent: 4,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.shouldDedent).toBe(true);
+                expect(result.triggeredRule).toBe('flow-control-keywords');
+            });
+            it('should detect break statement for dedent', () => {
+                const context = {
+                    currentLine: '    break',
+                    language: 'python',
+                    currentIndent: 4,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.shouldDedent).toBe(true);
+            });
+            it('should detect continue statement for dedent', () => {
+                const context = {
+                    currentLine: '    continue',
+                    language: 'python',
+                    currentIndent: 4,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.shouldDedent).toBe(true);
+            });
+            it('should detect pass statement for dedent', () => {
+                const context = {
+                    currentLine: '    pass',
+                    language: 'python',
+                    currentIndent: 4,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.shouldDedent).toBe(true);
+            });
+            it('should detect raise statement for dedent', () => {
+                const context = {
+                    currentLine: '    raise ValueError("error")',
+                    language: 'python',
+                    currentIndent: 4,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.shouldDedent).toBe(true);
+                expect(result.triggeredRule).toBe('raise-keyword');
+            });
+        });
+        describe('Regular lines (preserve indentation)', () => {
+            it('should preserve indentation for regular statements', () => {
+                const context = {
+                    currentLine: '    print("hello")',
+                    language: 'python',
+                    currentIndent: 4,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(4);
+                expect(result.shouldIndent).toBe(false);
+                expect(result.shouldDedent).toBe(false);
+            });
+            it('should preserve indentation for assignments', () => {
+                const context = {
+                    currentLine: '    x = 42',
+                    language: 'python',
+                    currentIndent: 4,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(4);
+                expect(result.shouldIndent).toBe(false);
+            });
+        });
+    });
+    describe('JavaScript Indentation', () => {
+        describe('Brace-triggered indent', () => {
+            it('should indent after opening brace', () => {
+                const context = {
+                    currentLine: 'function test() {',
+                    language: 'javascript',
+                    currentIndent: 0,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(2);
+                expect(result.shouldIndent).toBe(true);
+                expect(result.triggeredRule).toBe('open-brace');
+            });
+            it('should indent after if statement with brace', () => {
+                const context = {
+                    currentLine: 'if (condition) {',
+                    language: 'javascript',
+                    currentIndent: 0,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(2);
+                expect(result.shouldIndent).toBe(true);
+            });
+            it('should indent after object literal opening', () => {
+                const context = {
+                    currentLine: 'const obj = {',
+                    language: 'javascript',
+                    currentIndent: 0,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(2);
+                expect(result.shouldIndent).toBe(true);
+            });
+        });
+        describe('Bracket and paren indent', () => {
+            it('should indent after opening bracket', () => {
+                const context = {
+                    currentLine: 'const arr = [',
+                    language: 'javascript',
+                    currentIndent: 0,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(2);
+                expect(result.shouldIndent).toBe(true);
+                expect(result.triggeredRule).toBe('open-bracket');
+            });
+            it('should indent after opening paren', () => {
+                const context = {
+                    currentLine: 'someFunction(',
+                    language: 'javascript',
+                    currentIndent: 0,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(2);
+                expect(result.shouldIndent).toBe(true);
+                expect(result.triggeredRule).toBe('open-paren');
+            });
+        });
+        describe('Arrow function indent', () => {
+            it('should indent after arrow function', () => {
+                const context = {
+                    currentLine: 'const func = () =>',
+                    language: 'javascript',
+                    currentIndent: 0,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(2);
+                expect(result.shouldIndent).toBe(true);
+                expect(result.triggeredRule).toBe('arrow-function');
+            });
+        });
+        describe('Dedent keywords', () => {
+            it('should detect return statement for dedent', () => {
+                const context = {
+                    currentLine: '  return value;',
+                    language: 'javascript',
+                    currentIndent: 2,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.shouldDedent).toBe(true);
+                expect(result.triggeredRule).toBe('return-statement');
+            });
+            it('should detect break statement for dedent', () => {
+                const context = {
+                    currentLine: '  break;',
+                    language: 'javascript',
+                    currentIndent: 2,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.shouldDedent).toBe(true);
+            });
+        });
+        describe('TypeScript uses same rules', () => {
+            it('should indent TypeScript with 2 spaces', () => {
+                const context = {
+                    currentLine: 'function test(): void {',
+                    language: 'typescript',
+                    currentIndent: 0,
+                };
+                const result = engine.calculateIndent(context);
+                expect(result.spaces).toBe(2);
+                expect(result.shouldIndent).toBe(true);
+            });
+        });
+    });
+    describe('Tab String Generation', () => {
+        it('should return 4 spaces for Python', () => {
+            const tabString = engine.getTabString('python');
+            expect(tabString).toBe('    ');
+        });
+        it('should return 2 spaces for JavaScript', () => {
+            const tabString = engine.getTabString('javascript');
+            expect(tabString).toBe('  ');
+        });
+        it('should return 2 spaces for TypeScript', () => {
+            const tabString = engine.getTabString('typescript');
+            expect(tabString).toBe('  ');
+        });
+        it('should handle null language with fallback', () => {
+            const tabString = engine.getTabString(null);
+            expect(tabString).toBe('    '); // Defaults to Python (4 spaces)
+        });
+        it('should handle unknown language with fallback', () => {
+            const tabString = engine.getTabString('unknown-language');
+            expect(tabString).toBe('    '); // Defaults to fallback (4 spaces)
+        });
+    });
+    describe('Tab Size Retrieval', () => {
+        it('should return 4 for Python tab size', () => {
+            const tabSize = engine.getTabSize('python');
+            expect(tabSize).toBe(4);
+        });
+        it('should return 2 for JavaScript tab size', () => {
+            const tabSize = engine.getTabSize('javascript');
+            expect(tabSize).toBe(2);
+        });
+    });
+    describe('Outdent Calculation', () => {
+        it('should outdent Python by 4 spaces', () => {
+            const newIndent = engine.calculateOutdent(8, 'python');
+            expect(newIndent).toBe(4);
+        });
+        it('should outdent JavaScript by 2 spaces', () => {
+            const newIndent = engine.calculateOutdent(6, 'javascript');
+            expect(newIndent).toBe(4);
+        });
+        it('should not go below zero', () => {
+            const newIndent = engine.calculateOutdent(2, 'python');
+            expect(newIndent).toBe(0); // Can't go negative
+        });
+    });
+    describe('Leading Whitespace Handling', () => {
+        it('should get leading whitespace from indented line', () => {
+            const whitespace = engine.getLeadingWhitespace('    print("test")');
+            expect(whitespace).toBe('    ');
+        });
+        it('should return empty string for non-indented line', () => {
+            const whitespace = engine.getLeadingWhitespace('print("test")');
+            expect(whitespace).toBe('');
+        });
+        it('should handle mixed tabs and spaces', () => {
+            const whitespace = engine.getLeadingWhitespace('\t  code');
+            expect(whitespace).toBe('\t  ');
+        });
+    });
+    describe('Edge Cases', () => {
+        it('should handle empty lines', () => {
+            const context = {
+                currentLine: '',
+                language: 'python',
+                currentIndent: 0,
+            };
+            const result = engine.calculateIndent(context);
+            expect(result.spaces).toBe(0);
+            expect(result.shouldIndent).toBe(false);
+        });
+        it('should handle lines with only whitespace', () => {
+            const context = {
+                currentLine: '    ',
+                language: 'python',
+                currentIndent: 4,
+            };
+            const result = engine.calculateIndent(context);
+            expect(result.spaces).toBe(4);
+            expect(result.shouldIndent).toBe(false);
+        });
+        it('should not indent on colon inside string (Python)', () => {
+            const context = {
+                currentLine: '    print("Hello: World")',
+                language: 'python',
+                currentIndent: 4,
+            };
+            const result = engine.calculateIndent(context);
+            // Should NOT trigger indent because colon is inside string
+            expect(result.shouldIndent).toBe(false);
+            expect(result.spaces).toBe(4);
+        });
+        it('should handle language aliases (py -> python)', () => {
+            const tabString = engine.getTabString('py');
+            expect(tabString).toBe('    ');
+        });
+        it('should handle language aliases (js -> javascript)', () => {
+            const tabString = engine.getTabString('js');
+            expect(tabString).toBe('  ');
+        });
+    });
+    describe('Indentation Normalization', () => {
+        it('should normalize tabs to spaces for Python', () => {
+            const normalized = engine.normalizeIndentation('\tcode', 'python');
+            expect(normalized).toBe('    code');
+        });
+        it('should keep spaces as-is for Python', () => {
+            const normalized = engine.normalizeIndentation('    code', 'python');
+            expect(normalized).toBe('    code');
+        });
+        it('should normalize mixed indentation', () => {
+            const normalized = engine.normalizeIndentation('\t  code', 'python');
+            expect(normalized).toBe('      code'); // Tab=4 + 2 spaces = 6 spaces
+        });
+    });
+});
+//# sourceMappingURL=AutoIndentEngine.test.js.map
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/__tests__/AutoIndentEngine.test.js.map b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/__tests__/AutoIndentEngine.test.js.map
new file mode 100644
index 0000000..dc20334
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/__tests__/AutoIndentEngine.test.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"AutoIndentEngine.test.js","sourceRoot":"","sources":["../../../src/autoindent/__tests__/AutoIndentEngine.test.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/index.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/index.d.ts
new file mode 100644
index 0000000..f788524
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/index.d.ts
@@ -0,0 +1,13 @@
+/**
+ * AutoIndent Module
+ *
+ * Language-aware automatic indentation for code cells.
+ * Provides intelligent tab insertion and autoindent on Enter key.
+ *
+ * @module autoindent
+ */
+export { AutoIndentEngine } from './AutoIndentEngine';
+export { LanguageIndentRegistry } from './LanguageIndentRegistry';
+export type { IndentRule, DedentRule, LanguageIndentConfig, CustomIndentRule, IndentContext, IndentResult, IndentRuleProvider, AutoIndentOptions, } from './types';
+export { pythonIndentConfig } from './languages/python';
+export { javascriptIndentConfig, typescriptIndentConfig, } from './languages/javascript';
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/index.js b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/index.js
new file mode 100644
index 0000000..0d38767
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/index.js
@@ -0,0 +1,20 @@
+/*
+ * Copyright (c) 2021-2023 Datalayer, Inc.
+ *
+ * MIT License
+ */
+/**
+ * AutoIndent Module
+ *
+ * Language-aware automatic indentation for code cells.
+ * Provides intelligent tab insertion and autoindent on Enter key.
+ *
+ * @module autoindent
+ */
+// Core exports
+export { AutoIndentEngine } from './AutoIndentEngine';
+export { LanguageIndentRegistry } from './LanguageIndentRegistry';
+// Language configurations
+export { pythonIndentConfig } from './languages/python';
+export { javascriptIndentConfig, typescriptIndentConfig, } from './languages/javascript';
+//# sourceMappingURL=index.js.map
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/index.js.map b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/index.js.map
new file mode 100644
index 0000000..3e361d3
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/index.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/autoindent/index.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAEH;;;;;;;GAOG;AAEH,eAAe;AACf,OAAO,EAAE,gBAAgB,EAAE,MAAM,oBAAoB,CAAC;AACtD,OAAO,EAAE,sBAAsB,EAAE,MAAM,0BAA0B,CAAC;AAclE,0BAA0B;AAC1B,OAAO,EAAE,kBAAkB,EAAE,MAAM,oBAAoB,CAAC;AACxD,OAAO,EACL,sBAAsB,EACtB,sBAAsB,GACvB,MAAM,wBAAwB,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/javascript.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/javascript.d.ts
new file mode 100644
index 0000000..d0f532d
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/javascript.d.ts
@@ -0,0 +1,30 @@
+/**
+ * JavaScript/TypeScript Language Indentation Configuration
+ *
+ * Implements common JavaScript formatting conventions:
+ * - 2 spaces per indentation level (standard for JS/TS)
+ * - Indent after opening braces
+ * - Dedent on closing braces
+ *
+ * @module autoindent/languages/javascript
+ */
+import type { LanguageIndentConfig } from '../types';
+/**
+ * JavaScript indentation configuration
+ */
+export declare const javascriptIndentConfig: LanguageIndentConfig;
+/**
+ * TypeScript uses same indentation rules as JavaScript
+ */
+declare const typescriptIndentConfig: LanguageIndentConfig;
+/**
+ * Helper function to check if a line is a JavaScript comment
+ */
+export declare function isJavaScriptComment(line: string): boolean;
+/**
+ * Helper function to check if we're inside a template literal
+ * Note: This is a heuristic; accurate detection requires AST analysis
+ */
+export declare function isInTemplateLiteral(line: string): boolean;
+export default javascriptIndentConfig;
+export { typescriptIndentConfig };
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/javascript.js b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/javascript.js
new file mode 100644
index 0000000..d07e98f
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/javascript.js
@@ -0,0 +1,150 @@
+/*
+ * Copyright (c) 2021-2023 Datalayer, Inc.
+ *
+ * MIT License
+ */
+/**
+ * JavaScript indentation configuration
+ */
+export const javascriptIndentConfig = {
+    language: 'javascript',
+    tabSize: 2,
+    useTabs: false,
+    indentTriggers: [
+        {
+            name: 'open-brace',
+            // Matches lines ending with "{" (function/class/object/block start)
+            // Examples: "function test() {", "if (x) {", "const obj = {"
+            pattern: /\{\s*(\/\/.*)?$/,
+            context: 'line-end',
+            indentAmount: 2,
+        },
+        {
+            name: 'open-bracket',
+            // Matches lines ending with "[" (array literal continuation)
+            // Example: "const arr = ["
+            pattern: /\[\s*(\/\/.*)?$/,
+            context: 'line-end',
+            indentAmount: 2,
+        },
+        {
+            name: 'open-paren',
+            // Matches lines ending with "(" (function call/parameter continuation)
+            // Example: "someFunction("
+            pattern: /\(\s*(\/\/.*)?$/,
+            context: 'line-end',
+            indentAmount: 2,
+        },
+        {
+            name: 'arrow-function',
+            // Matches lines ending with "=>" (arrow function without brace)
+            // Example: "const func = () =>"
+            pattern: /=>\s*(\/\/.*)?$/,
+            context: 'line-end',
+            indentAmount: 2,
+        },
+        {
+            name: 'ternary-operator',
+            // Matches lines ending with "?" (ternary operator continuation)
+            // Example: "const result = condition ?"
+            pattern: /\?\s*(\/\/.*)?$/,
+            context: 'line-end',
+            indentAmount: 2,
+        },
+    ],
+    dedentTriggers: [
+        {
+            name: 'return-statement',
+            // Matches lines starting with 'return'
+            pattern: /^\s*return(\s|;)/,
+            context: 'line-start',
+            dedentAmount: 2,
+        },
+        {
+            name: 'break-continue',
+            // Matches break or continue statements
+            pattern: /^\s*(break|continue)(\s|;)/,
+            context: 'line-start',
+            dedentAmount: 2,
+        },
+        {
+            name: 'throw-statement',
+            // Matches throw statements
+            pattern: /^\s*throw(\s|;)/,
+            context: 'line-start',
+            dedentAmount: 2,
+        },
+    ],
+    customRules: [
+        {
+            name: 'close-brace-dedent',
+            condition: (line) => {
+                // Check if line starts with closing brace
+                return /^\s*}/.test(line);
+            },
+            apply: (currentIndent) => {
+                // Dedent by one level when closing brace
+                return Math.max(0, currentIndent - 2);
+            },
+        },
+        {
+            name: 'close-bracket-dedent',
+            condition: (line) => {
+                // Check if line starts with closing bracket
+                return /^\s*\]/.test(line);
+            },
+            apply: (currentIndent) => {
+                // Dedent by one level when closing bracket
+                return Math.max(0, currentIndent - 2);
+            },
+        },
+        {
+            name: 'close-paren-dedent',
+            condition: (line) => {
+                // Check if line starts with closing paren
+                return /^\s*\)/.test(line);
+            },
+            apply: (currentIndent) => {
+                // Dedent by one level when closing paren
+                return Math.max(0, currentIndent - 2);
+            },
+        },
+        {
+            name: 'case-label',
+            condition: (line) => {
+                // Check if line is a case or default label in switch statement
+                return /^\s*(case\s+.*:|default:)/.test(line);
+            },
+            apply: (currentIndent, context) => {
+                // Case labels are typically at the same level as switch
+                // This is a simplified heuristic
+                return currentIndent;
+            },
+        },
+    ],
+};
+/**
+ * TypeScript uses same indentation rules as JavaScript
+ */
+const typescriptIndentConfig = {
+    ...javascriptIndentConfig,
+    language: 'typescript',
+};
+/**
+ * Helper function to check if a line is a JavaScript comment
+ */
+export function isJavaScriptComment(line) {
+    return /^\s*(\/\/|\/\*)/.test(line);
+}
+/**
+ * Helper function to check if we're inside a template literal
+ * Note: This is a heuristic; accurate detection requires AST analysis
+ */
+export function isInTemplateLiteral(line) {
+    // Simple heuristic: count backticks before this line
+    const backticks = (line.match(/`/g) || []).length;
+    return backticks % 2 !== 0;
+}
+export default javascriptIndentConfig;
+export { typescriptIndentConfig };
+//# sourceMappingURL=javascript.js.map
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/javascript.js.map b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/javascript.js.map
new file mode 100644
index 0000000..e55b31d
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/javascript.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"javascript.js","sourceRoot":"","sources":["../../../src/autoindent/languages/javascript.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/python.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/python.d.ts
new file mode 100644
index 0000000..2f9e2a3
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/python.d.ts
@@ -0,0 +1,30 @@
+/**
+ * Python Language Indentation Configuration
+ *
+ * Implements PEP 8 indentation rules:
+ * - 4 spaces per indentation level
+ * - Indent after colons (if, for, def, class, try, with, etc.)
+ * - Dedent for flow control keywords (return, break, continue, pass)
+ *
+ * @module autoindent/languages/python
+ */
+import type { LanguageIndentConfig } from '../types';
+/**
+ * Python indentation configuration (PEP 8)
+ */
+export declare const pythonIndentConfig: LanguageIndentConfig;
+/**
+ * Helper function to check if a line is a Python comment
+ */
+export declare function isPythonComment(line: string): boolean;
+/**
+ * Helper function to check if a line is part of a multi-line string
+ * Note: This is a heuristic; accurate detection requires AST analysis
+ */
+export declare function isInMultilineString(line: string): boolean;
+/**
+ * Helper function to check if colon is inside a string or comment
+ * This prevents false positives like: print("Hello: World")
+ */
+export declare function isColonInStringOrComment(line: string): boolean;
+export default pythonIndentConfig;
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/python.js b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/python.js
new file mode 100644
index 0000000..6b64fe1
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/python.js
@@ -0,0 +1,102 @@
+/*
+ * Copyright (c) 2021-2023 Datalayer, Inc.
+ *
+ * MIT License
+ */
+/**
+ * Python indentation configuration (PEP 8)
+ */
+export const pythonIndentConfig = {
+    language: 'python',
+    tabSize: 4,
+    useTabs: false,
+    indentTriggers: [
+        {
+            name: 'colon-indent',
+            // Matches lines ending with ":" (optionally followed by comment or whitespace)
+            // Examples: "if x > 0:", "def foo():", "class MyClass:", "try:", "with open() as f:"
+            pattern: /:\s*(#.*)?$/,
+            context: 'line-end',
+            indentAmount: 4,
+        },
+        {
+            name: 'continuation-backslash',
+            // Matches lines ending with backslash (line continuation)
+            // Example: "result = some_function() \"
+            pattern: /\\\s*(#.*)?$/,
+            context: 'line-end',
+            indentAmount: 4,
+        },
+        {
+            name: 'open-bracket',
+            // Matches lines with unclosed brackets/parens/braces
+            // Example: "result = my_function("
+            // Note: This is a simple heuristic; proper bracket matching requires AST
+            pattern: /[[({]\s*$/,
+            context: 'line-end',
+            indentAmount: 4,
+        },
+    ],
+    dedentTriggers: [
+        {
+            name: 'flow-control-keywords',
+            // Matches lines starting with return, break, continue, or pass
+            // These typically signal the end of an indented block
+            pattern: /^\s*(return|break|continue|pass)(\s|$)/,
+            context: 'line-start',
+            dedentAmount: 4,
+        },
+        {
+            name: 'raise-keyword',
+            // Matches lines starting with 'raise'
+            pattern: /^\s*raise(\s|$)/,
+            context: 'line-start',
+            dedentAmount: 4,
+        },
+    ],
+    customRules: [
+        {
+            name: 'close-bracket-dedent',
+            condition: (line) => {
+                // Check if line starts with closing bracket
+                return /^\s*[\])}]/.test(line);
+            },
+            apply: (currentIndent) => {
+                // Dedent by one level when closing bracket
+                return Math.max(0, currentIndent - 4);
+            },
+        },
+    ],
+};
+/**
+ * Helper function to check if a line is a Python comment
+ */
+export function isPythonComment(line) {
+    return /^\s*#/.test(line);
+}
+/**
+ * Helper function to check if a line is part of a multi-line string
+ * Note: This is a heuristic; accurate detection requires AST analysis
+ */
+export function isInMultilineString(line) {
+    // Simple heuristic: count triple quotes before this line
+    const tripleQuotes = (line.match(/"""|'''/g) || []).length;
+    return tripleQuotes % 2 !== 0;
+}
+/**
+ * Helper function to check if colon is inside a string or comment
+ * This prevents false positives like: print("Hello: World")
+ */
+export function isColonInStringOrComment(line) {
+    // Remove strings (both single and double quoted)
+    let cleaned = line.replace(/'[^']*'/g, '').replace(/"[^"]*"/g, '');
+    // Remove comments
+    const commentIndex = cleaned.indexOf('#');
+    if (commentIndex !== -1) {
+        cleaned = cleaned.substring(0, commentIndex);
+    }
+    // Check if colon exists in the cleaned line
+    return !cleaned.includes(':');
+}
+export default pythonIndentConfig;
+//# sourceMappingURL=python.js.map
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/python.js.map b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/python.js.map
new file mode 100644
index 0000000..ef234ab
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/languages/python.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"python.js","sourceRoot":"","sources":["../../../src/autoindent/languages/python.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAeH;;GAEG;AACH,MAAM,CAAC,MAAM,kBAAkB,GAAyB;IACtD,QAAQ,EAAE,QAAQ;IAClB,OAAO,EAAE,CAAC;IACV,OAAO,EAAE,KAAK;IAEd,cAAc,EAAE;QACd;YACE,IAAI,EAAE,cAAc;YACpB,+EAA+E;YAC/E,qFAAqF;YACrF,OAAO,EAAE,aAAa;YACtB,OAAO,EAAE,UAAU;YACnB,YAAY,EAAE,CAAC;SAChB;QACD;YACE,IAAI,EAAE,wBAAwB;YAC9B,0DAA0D;YAC1D,wCAAwC;YACxC,OAAO,EAAE,cAAc;YACvB,OAAO,EAAE,UAAU;YACnB,YAAY,EAAE,CAAC;SAChB;QACD;YACE,IAAI,EAAE,cAAc;YACpB,qDAAqD;YACrD,mCAAmC;YACnC,yEAAyE;YACzE,OAAO,EAAE,WAAW;YACpB,OAAO,EAAE,UAAU;YACnB,YAAY,EAAE,CAAC;SAChB;KACF;IAED,cAAc,EAAE;QACd;YACE,IAAI,EAAE,uBAAuB;YAC7B,+DAA+D;YAC/D,sDAAsD;YACtD,OAAO,EAAE,wCAAwC;YACjD,OAAO,EAAE,YAAY;YACrB,YAAY,EAAE,CAAC;SAChB;QACD;YACE,IAAI,EAAE,eAAe;YACrB,sCAAsC;YACtC,OAAO,EAAE,iBAAiB;YAC1B,OAAO,EAAE,YAAY;YACrB,YAAY,EAAE,CAAC;SAChB;KACF;IAED,WAAW,EAAE;QACX;YACE,IAAI,EAAE,sBAAsB;YAC5B,SAAS,EAAE,CAAC,IAAY,EAAE,EAAE;gBAC1B,4CAA4C;gBAC5C,OAAO,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACjC,CAAC;YACD,KAAK,EAAE,CAAC,aAAqB,EAAE,EAAE;gBAC/B,2CAA2C;gBAC3C,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,aAAa,GAAG,CAAC,CAAC,CAAC;YACxC,CAAC;SACF;KACF;CACF,CAAC;AAEF;;GAEG;AACH,MAAM,UAAU,eAAe,CAAC,IAAY;IAC1C,OAAO,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC5B,CAAC;AAED;;;GAGG;AACH,MAAM,UAAU,mBAAmB,CAAC,IAAY;IAC9C,yDAAyD;IACzD,MAAM,YAAY,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC;IAC3D,OAAO,YAAY,GAAG,CAAC,KAAK,CAAC,CAAC;AAChC,CAAC;AAED;;;GAGG;AACH,MAAM,UAAU,wBAAwB,CAAC,IAAY;IACnD,iDAAiD;IACjD,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC;IAEnE,kBAAkB;IAClB,MAAM,YAAY,GAAG,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC1C,IAAI,YAAY,KAAK,CAAC,CAAC,EAAE,CAAC;QACxB,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC;IAC/C,CAAC;IAED,4CAA4C;IAC5C,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;AAChC,CAAC;AAED,eAAe,kBAAkB,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/types.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/types.d.ts
new file mode 100644
index 0000000..507014f
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/types.d.ts
@@ -0,0 +1,125 @@
+/**
+ * AutoIndent Type Definitions
+ *
+ * Provides type-safe interfaces for language-aware code indentation.
+ * Supports both heuristic-based (regex) and AST-based (tree-sitter) rule providers.
+ *
+ * @module autoindent/types
+ */
+/**
+ * Rule for increasing indentation
+ */
+export interface IndentRule {
+    /** Unique identifier for this rule */
+    name: string;
+    /** Pattern to match (regex for heuristic, tree-sitter query for AST) */
+    pattern: RegExp;
+    /** Where the pattern should match */
+    context: 'line-end' | 'line-start' | 'anywhere';
+    /** How many spaces to add (usually 1x tabSize) */
+    indentAmount: number;
+    /** Optional: only apply if previous line also matches this pattern */
+    requiresPreviousMatch?: RegExp;
+}
+/**
+ * Rule for decreasing indentation
+ */
+export interface DedentRule {
+    /** Unique identifier for this rule */
+    name: string;
+    /** Pattern to match (e.g., Python 'return', 'break', etc.) */
+    pattern: RegExp;
+    /** Where the pattern should match */
+    context: 'line-start' | 'anywhere';
+    /** How many spaces to remove (usually 1x tabSize) */
+    dedentAmount: number;
+}
+/**
+ * Language-specific indentation configuration
+ */
+export interface LanguageIndentConfig {
+    /** Language identifier (e.g., 'python', 'javascript') */
+    language: string;
+    /** Number of spaces for one indentation level */
+    tabSize: number;
+    /** Whether to use actual tab characters (vs spaces) */
+    useTabs: boolean;
+    /** Rules for when to automatically increase indentation */
+    indentTriggers: IndentRule[];
+    /** Rules for when to automatically decrease indentation */
+    dedentTriggers: DedentRule[];
+    /** Optional: Additional context-specific rules */
+    customRules?: CustomIndentRule[];
+}
+/**
+ * Custom indentation rule for special cases
+ */
+export interface CustomIndentRule {
+    /** Rule name */
+    name: string;
+    /** When this rule applies */
+    condition: (line: string, context: IndentContext) => boolean;
+    /** What indentation to apply */
+    apply: (currentIndent: number, context: IndentContext) => number;
+}
+/**
+ * Context information for indentation calculation
+ */
+export interface IndentContext {
+    /** Current line text */
+    currentLine: string;
+    /** Previous line text (if available) */
+    previousLine?: string;
+    /** Lines before current (for multi-line context) */
+    previousLines?: string[];
+    /** Current language */
+    language: string;
+    /** Current cursor position within the line */
+    cursorPosition?: number;
+    /** Current base indentation level (in spaces) */
+    currentIndent: number;
+}
+/**
+ * Result of indentation calculation
+ */
+export interface IndentResult {
+    /** Number of spaces for indentation */
+    spaces: number;
+    /** Whether indentation should be increased */
+    shouldIndent: boolean;
+    /** Whether indentation should be decreased */
+    shouldDedent: boolean;
+    /** Optional: Reason for the indent decision (for debugging) */
+    reason?: string;
+    /** Optional: The rule that triggered this result */
+    triggeredRule?: string;
+}
+/**
+ * Interface for indent rule providers
+ * Supports multiple implementations (heuristic, tree-sitter, etc.)
+ */
+export interface IndentRuleProvider {
+    /** Provider name (e.g., 'heuristic', 'tree-sitter') */
+    name: string;
+    /** Check if this provider supports the given language */
+    supportsLanguage(language: string): boolean;
+    /** Calculate indentation for the given context */
+    calculateIndent(context: IndentContext): IndentResult;
+    /** Priority (higher = tried first) */
+    priority: number;
+}
+/**
+ * Options for configuring the AutoIndent system
+ */
+export interface AutoIndentOptions {
+    /** Default language when none is specified */
+    defaultLanguage?: string;
+    /** Custom language configurations to register */
+    customConfigs?: LanguageIndentConfig[];
+    /** Enable debug logging */
+    debug?: boolean;
+    /** Fallback tab size if language unknown */
+    fallbackTabSize?: number;
+    /** Whether to preserve tabs as actual tab characters */
+    preserveTabs?: boolean;
+}
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/types.js b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/types.js
new file mode 100644
index 0000000..a133a7a
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/types.js
@@ -0,0 +1,7 @@
+/*
+ * Copyright (c) 2021-2023 Datalayer, Inc.
+ *
+ * MIT License
+ */
+export {};
+//# sourceMappingURL=types.js.map
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/autoindent/types.js.map b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/types.js.map
new file mode 100644
index 0000000..8e61ceb
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/autoindent/types.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"types.js","sourceRoot":"","sources":["../../src/autoindent/types.ts"],"names":[],"mappings":"AAAA;;;;GAIG"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/components/Commenting.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/components/Commenting.d.ts
index 48d5585..8fee0e5 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/components/Commenting.d.ts
+++ b/node_modules/@datalayer/jupyter-lexical/lib/components/Commenting.d.ts
@@ -1,6 +1,4 @@
 import type { LexicalEditor } from 'lexical';
-import { WebsocketProvider } from 'y-websocket';
-import { Array as YArray, Map as YMap } from 'yjs';
 export type Comment = {
     author: string;
     content: string;
@@ -20,22 +18,28 @@ export declare function createComment(content: string, author: string, id?: stri
 export declare function createThread(quote: string, comments: Array<Comment>, id?: string): Thread;
 export declare class CommentStore {
     _editor: LexicalEditor;
-    _comments: Comments;
     _changeListeners: Set<() => void>;
-    _collabProvider: null | WebsocketProvider;
     constructor(editor: LexicalEditor);
-    isCollaborative(): boolean;
+    /**
+     * Get all comments by reading CommentThreadNode instances from the editor state.
+     * These nodes sync automatically via Loro collaboration provider.
+     */
     getComments(): Comments;
+    /**
+     * Add a comment to an existing thread or create a new thread.
+     * Updates CommentThreadNode in the Lexical editor state, which automatically
+     * syncs via Loro collaboration provider.
+     */
     addComment(commentOrThread: Comment | Thread, thread?: Thread, offset?: number): void;
+    /**
+     * Delete a comment from a thread or delete an entire thread.
+     * Updates CommentThreadNode in the Lexical editor state, which automatically
+     * syncs via Loro collaboration provider.
+     */
     deleteCommentOrThread(commentOrThread: Comment | Thread, thread?: Thread): {
         markedComment: Comment;
         index: number;
     } | null;
     registerOnChange(onChange: () => void): () => void;
-    _withRemoteTransaction(fn: () => void): void;
-    _withLocalTransaction(fn: () => void): void;
-    _getCollabComments(): null | YArray<any>;
-    _createCollabSharedMap(commentOrThread: Comment | Thread): YMap<any>;
-    registerCollaboration(provider: WebsocketProvider): () => void;
 }
 export declare function useCommentStore(commentStore: CommentStore): Comments;
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/components/Commenting.js b/node_modules/@datalayer/jupyter-lexical/lib/components/Commenting.js
index bea4f71..a8875ef 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/components/Commenting.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/components/Commenting.js
@@ -4,9 +4,8 @@
  * MIT License
  */
 import { useEffect, useState } from 'react';
-import { TOGGLE_CONNECT_COMMAND } from '@lexical/yjs';
-import { COMMAND_PRIORITY_LOW } from 'lexical';
-import { Array as YArray, Map as YMap, YArrayEvent, } from 'yjs';
+import { $getRoot } from 'lexical';
+import { $createCommentThreadNode, $isCommentThreadNode, } from '../nodes/CommentThreadNode';
 function createUID() {
     return Math.random()
         .toString(36)
@@ -31,14 +30,6 @@ export function createThread(quote, comments, id) {
         type: 'thread',
     };
 }
-function cloneThread(thread) {
-    return {
-        comments: Array.from(thread.comments),
-        id: thread.id,
-        quote: thread.quote,
-        type: 'thread',
-    };
-}
 function markDeleted(comment) {
     return {
         author: comment.author,
@@ -57,101 +48,103 @@ function triggerOnChange(commentStore) {
 }
 export class CommentStore {
     _editor;
-    _comments;
     _changeListeners;
-    _collabProvider;
     constructor(editor) {
-        this._comments = [];
         this._editor = editor;
-        this._collabProvider = null;
         this._changeListeners = new Set();
+        // Register update listener to automatically trigger onChange
+        this._editor.registerUpdateListener(() => {
+            triggerOnChange(this);
+        });
     }
-    isCollaborative() {
-        return this._collabProvider !== null;
-    }
+    /**
+     * Get all comments by reading CommentThreadNode instances from the editor state.
+     * These nodes sync automatically via Loro collaboration provider.
+     */
     getComments() {
-        return this._comments;
+        const threads = [];
+        this._editor.getEditorState().read(() => {
+            const root = $getRoot();
+            root.getChildren().forEach(node => {
+                if ($isCommentThreadNode(node)) {
+                    const threadNode = node;
+                    threads.push({
+                        type: 'thread',
+                        id: threadNode.getId(),
+                        quote: threadNode.getQuote(),
+                        comments: threadNode.getComments(),
+                    });
+                }
+            });
+        });
+        return threads;
     }
+    /**
+     * Add a comment to an existing thread or create a new thread.
+     * Updates CommentThreadNode in the Lexical editor state, which automatically
+     * syncs via Loro collaboration provider.
+     */
     addComment(commentOrThread, thread, offset) {
-        const nextComments = Array.from(this._comments);
-        // The YJS types explicitly use `any` as well.
-        // eslint-disable-next-line @typescript-eslint/no-explicit-any
-        const sharedCommentsArray = this._getCollabComments();
-        if (thread !== undefined && commentOrThread.type === 'comment') {
-            for (let i = 0; i < nextComments.length; i++) {
-                const comment = nextComments[i];
-                if (comment.type === 'thread' && comment.id === thread.id) {
-                    const newThread = cloneThread(comment);
-                    nextComments.splice(i, 1, newThread);
-                    const insertOffset = offset !== undefined ? offset : newThread.comments.length;
-                    if (this.isCollaborative() && sharedCommentsArray !== null) {
-                        const parentSharedArray = sharedCommentsArray
-                            .get(i)
-                            .get('comments');
-                        this._withRemoteTransaction(() => {
-                            const sharedMap = this._createCollabSharedMap(commentOrThread);
-                            parentSharedArray.insert(insertOffset, [sharedMap]);
-                        });
+        this._editor.update(() => {
+            if (thread !== undefined && commentOrThread.type === 'comment') {
+                // Add comment to existing thread
+                const root = $getRoot();
+                root.getChildren().forEach(node => {
+                    if ($isCommentThreadNode(node)) {
+                        const threadNode = node;
+                        if (threadNode.getId() === thread.id) {
+                            threadNode.addComment(commentOrThread);
+                        }
                     }
-                    newThread.comments.splice(insertOffset, 0, commentOrThread);
-                    break;
-                }
-            }
-        }
-        else {
-            const insertOffset = offset !== undefined ? offset : nextComments.length;
-            if (this.isCollaborative() && sharedCommentsArray !== null) {
-                this._withRemoteTransaction(() => {
-                    const sharedMap = this._createCollabSharedMap(commentOrThread);
-                    sharedCommentsArray.insert(insertOffset, [sharedMap]);
                 });
             }
-            nextComments.splice(insertOffset, 0, commentOrThread);
-        }
-        this._comments = nextComments;
-        triggerOnChange(this);
+            else if (commentOrThread.type === 'thread') {
+                // Create new thread node
+                const threadNode = $createCommentThreadNode(commentOrThread.id, commentOrThread.quote, commentOrThread.comments);
+                $getRoot().append(threadNode);
+            }
+        });
+        // No need to manually trigger onChange - registerUpdateListener handles it
     }
+    /**
+     * Delete a comment from a thread or delete an entire thread.
+     * Updates CommentThreadNode in the Lexical editor state, which automatically
+     * syncs via Loro collaboration provider.
+     */
     deleteCommentOrThread(commentOrThread, thread) {
-        const nextComments = Array.from(this._comments);
-        // The YJS types explicitly use `any` as well.
-        // eslint-disable-next-line @typescript-eslint/no-explicit-any
-        const sharedCommentsArray = this._getCollabComments();
         let commentIndex = null;
-        if (thread !== undefined) {
-            for (let i = 0; i < nextComments.length; i++) {
-                const nextComment = nextComments[i];
-                if (nextComment.type === 'thread' && nextComment.id === thread.id) {
-                    const newThread = cloneThread(nextComment);
-                    nextComments.splice(i, 1, newThread);
-                    const threadComments = newThread.comments;
-                    commentIndex = threadComments.indexOf(commentOrThread);
-                    if (this.isCollaborative() && sharedCommentsArray !== null) {
-                        const parentSharedArray = sharedCommentsArray
-                            .get(i)
-                            .get('comments');
-                        this._withRemoteTransaction(() => {
-                            parentSharedArray.delete(commentIndex);
-                        });
+        this._editor.update(() => {
+            if (thread !== undefined && commentOrThread.type === 'comment') {
+                // Delete comment from existing thread
+                const root = $getRoot();
+                root.getChildren().forEach(node => {
+                    if ($isCommentThreadNode(node)) {
+                        const threadNode = node;
+                        if (threadNode.getId() === thread.id) {
+                            const comments = threadNode.getComments();
+                            commentIndex = comments.findIndex(c => c.id === commentOrThread.id);
+                            threadNode.deleteComment(commentOrThread.id);
+                        }
                     }
-                    threadComments.splice(commentIndex, 1);
-                    break;
-                }
+                });
             }
-        }
-        else {
-            commentIndex = nextComments.indexOf(commentOrThread);
-            if (this.isCollaborative() && sharedCommentsArray !== null) {
-                this._withRemoteTransaction(() => {
-                    sharedCommentsArray.delete(commentIndex);
+            else {
+                // Delete entire thread
+                const root = $getRoot();
+                root.getChildren().forEach(node => {
+                    if ($isCommentThreadNode(node)) {
+                        const threadNode = node;
+                        if (threadNode.getId() === commentOrThread.id) {
+                            node.remove();
+                        }
+                    }
                 });
             }
-            nextComments.splice(commentIndex, 1);
-        }
-        this._comments = nextComments;
-        triggerOnChange(this);
+        });
+        // No need to manually trigger onChange - registerUpdateListener handles it
         if (commentOrThread.type === 'comment') {
             return {
-                index: commentIndex,
+                index: commentIndex !== null ? commentIndex : 0,
                 markedComment: markDeleted(commentOrThread),
             };
         }
@@ -164,151 +157,6 @@ export class CommentStore {
             changeListeners.delete(onChange);
         };
     }
-    _withRemoteTransaction(fn) {
-        const provider = this._collabProvider;
-        if (provider !== null) {
-            const doc = provider.doc;
-            doc.transact(fn, this);
-        }
-    }
-    _withLocalTransaction(fn) {
-        const collabProvider = this._collabProvider;
-        try {
-            this._collabProvider = null;
-            fn();
-        }
-        finally {
-            this._collabProvider = collabProvider;
-        }
-    }
-    _getCollabComments() {
-        const provider = this._collabProvider;
-        if (provider !== null) {
-            const doc = provider.doc;
-            //      return doc.get('comments', YArray) as YArray<any>;
-            return doc.get('comments');
-        }
-        return null;
-    }
-    _createCollabSharedMap(commentOrThread) {
-        const sharedMap = new YMap();
-        const type = commentOrThread.type;
-        const id = commentOrThread.id;
-        sharedMap.set('type', type);
-        sharedMap.set('id', id);
-        if (type === 'comment') {
-            sharedMap.set('author', commentOrThread.author);
-            sharedMap.set('content', commentOrThread.content);
-            sharedMap.set('deleted', commentOrThread.deleted);
-            sharedMap.set('timeStamp', commentOrThread.timeStamp);
-        }
-        else {
-            sharedMap.set('quote', commentOrThread.quote);
-            const commentsArray = new YArray();
-            commentOrThread.comments.forEach((comment, i) => {
-                const sharedChildComment = this._createCollabSharedMap(comment);
-                commentsArray.insert(i, [sharedChildComment]);
-            });
-            sharedMap.set('comments', commentsArray);
-        }
-        return sharedMap;
-    }
-    registerCollaboration(provider) {
-        this._collabProvider = provider;
-        const sharedCommentsArray = this._getCollabComments();
-        const connect = () => {
-            provider.connect();
-        };
-        const disconnect = () => {
-            try {
-                provider.disconnect();
-            }
-            catch (e) {
-                // Do nothing
-            }
-        };
-        const unsubscribe = this._editor.registerCommand(TOGGLE_CONNECT_COMMAND, payload => {
-            if (connect !== undefined && disconnect !== undefined) {
-                const shouldConnect = payload;
-                if (shouldConnect) {
-                    // eslint-disable-next-line no-console
-                    console.log('Comments connected!');
-                    connect();
-                }
-                else {
-                    // eslint-disable-next-line no-console
-                    console.log('Comments disconnected!');
-                    disconnect();
-                }
-            }
-            return false;
-        }, COMMAND_PRIORITY_LOW);
-        const onSharedCommentChanges = (
-        // The YJS types explicitly use `any` as well.
-        // eslint-disable-next-line @typescript-eslint/no-explicit-any
-        events, transaction) => {
-            if (transaction.origin !== this) {
-                for (let i = 0; i < events.length; i++) {
-                    const event = events[i];
-                    if (event instanceof YArrayEvent) {
-                        const target = event.target;
-                        const deltas = event.delta;
-                        let offset = 0;
-                        for (let s = 0; s < deltas.length; s++) {
-                            const delta = deltas[s];
-                            const insert = delta.insert;
-                            const retain = delta.retain;
-                            const del = delta.delete;
-                            const parent = target.parent;
-                            const parentThread = target === sharedCommentsArray
-                                ? undefined
-                                : parent instanceof YMap &&
-                                    this._comments.find(t => t.id === parent.get('id'));
-                            if (Array.isArray(insert)) {
-                                insert.forEach((map) => {
-                                    const id = map.get('id');
-                                    const type = map.get('type');
-                                    const commentOrThread = type === 'thread'
-                                        ? createThread(map.get('quote'), map
-                                            .get('comments')
-                                            .toArray()
-                                            .map((innerComment) => createComment(innerComment.get('content'), innerComment.get('author'), innerComment.get('id'), innerComment.get('timeStamp'), innerComment.get('deleted'))), id)
-                                        : createComment(map.get('content'), map.get('author'), id, map.get('timeStamp'), map.get('deleted'));
-                                    this._withLocalTransaction(() => {
-                                        this.addComment(commentOrThread, parentThread, offset);
-                                    });
-                                });
-                            }
-                            else if (typeof retain === 'number') {
-                                offset += retain;
-                            }
-                            else if (typeof del === 'number') {
-                                for (let d = 0; d < del; d++) {
-                                    const commentOrThread = parentThread === undefined || parentThread === false
-                                        ? this._comments[offset]
-                                        : parentThread.comments[offset];
-                                    this._withLocalTransaction(() => {
-                                        this.deleteCommentOrThread(commentOrThread, parentThread);
-                                    });
-                                    offset++;
-                                }
-                            }
-                        }
-                    }
-                }
-            }
-        };
-        if (sharedCommentsArray === null) {
-            return () => null;
-        }
-        sharedCommentsArray.observeDeep(onSharedCommentChanges);
-        connect();
-        return () => {
-            sharedCommentsArray.unobserveDeep(onSharedCommentChanges);
-            unsubscribe();
-            this._collabProvider = null;
-        };
-    }
 }
 export function useCommentStore(commentStore) {
     const [comments, setComments] = useState(commentStore.getComments());
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/components/Commenting.js.map b/node_modules/@datalayer/jupyter-lexical/lib/components/Commenting.js.map
index f5ceb79..c42b2af 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/components/Commenting.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/components/Commenting.js.map
@@ -1 +1 @@
-{"version":3,"file":"Commenting.js","sourceRoot":"","sources":["../../src/components/Commenting.tsx"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"Commenting.js","sourceRoot":"","sources":["../../src/components/Commenting.tsx"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/editor/Editor.js b/node_modules/@datalayer/jupyter-lexical/lib/editor/Editor.js
index 7f3adc2..84c1d4c 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/editor/Editor.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/editor/Editor.js
@@ -79,7 +79,9 @@ const EditorContextPlugin = () => {
 };
 export function EditorContainer(props) {
     const { id, notebook, onSessionConnection } = props;
-    const { defaultKernel } = useJupyter();
+    const { defaultKernel } = useJupyter({
+        startDefaultKernel: true,
+    });
     const [editor] = useLexicalComposerContext();
     const [activeEditor, setActiveEditor] = useState(editor);
     const [_, setIsLinkEditMode] = useState(false);
@@ -92,7 +94,7 @@ export function EditorContainer(props) {
     function onChange(_editorState) {
         //    console.log('---', _editorState.toJSON());
     }
-    return (_jsxs("div", { className: "editor-container", children: [_jsx(ToolbarPlugin, { editor: editor, activeEditor: activeEditor, setActiveEditor: setActiveEditor, setIsLinkEditMode: setIsLinkEditMode }), _jsxs("div", { className: "editor-inner", children: [_jsx(RichTextPlugin, { contentEditable: _jsx("div", { className: "editor-scroller", children: _jsx("div", { className: "editor", ref: onRef, children: _jsx(ContentEditable, { className: "editor-input" }) }) }), placeholder: _jsx(Placeholder, {}), ErrorBoundary: LexicalErrorBoundary }), _jsx(OnChangePlugin, { onChange: onChange }), _jsx(HistoryPlugin, {}), _jsx(TreeViewPlugin, {}), _jsx(AutoFocusPlugin, {}), id && _jsx(LexicalStatePlugin, {}), _jsx(TablePlugin, {}), _jsx(ListPlugin, {}), _jsx(CheckListPlugin, {}), _jsx(LinkPlugin, {}), _jsx(AutoLinkPlugin, {}), _jsx(ListMaxIndentLevelPlugin, { maxDepth: 7 }), _jsx(MarkdownPlugin, {}), _jsx(JupyterInputOutputPlugin, { kernel: defaultKernel, onSessionConnection: onSessionConnection }), _jsx(ComponentPickerMenuPlugin, { initCode: "print('\uD83E\uDE90 \u269B\uFE0F Hello Jupyter UI')", kernel: defaultKernel }), _jsx(EquationsPlugin, {}), _jsx(ImagesPlugin, {}), _jsx(HashtagPlugin, {}), _jsx(HorizontalRulePlugin, {}), _jsx(YouTubePlugin, {}), _jsx(NbformatContentPlugin, { notebook: notebook }), _jsx(CodeActionMenuPlugin, {}), _jsx(AutoEmbedPlugin, {}), _jsx(EditorContextPlugin, {}), _jsx(TableOfContentsPlugin, {}), _jsx(CommentPlugin, { providerFactory: undefined }), floatingAnchorElem && (_jsxs(_Fragment, { children: [_jsx(DraggableBlockPlugin, { anchorElem: floatingAnchorElem }), _jsx(FloatingTextFormatToolbarPlugin, { anchorElem: floatingAnchorElem })] }))] })] }));
+    return (_jsxs("div", { className: "editor-container", children: [_jsx(ToolbarPlugin, { editor: editor, activeEditor: activeEditor, setActiveEditor: setActiveEditor, setIsLinkEditMode: setIsLinkEditMode }), _jsxs("div", { className: "editor-inner", children: [_jsx(RichTextPlugin, { contentEditable: _jsx("div", { className: "editor-scroller", children: _jsx("div", { className: "editor", ref: onRef, children: _jsx(ContentEditable, { className: "editor-input" }) }) }), placeholder: _jsx(Placeholder, {}), ErrorBoundary: LexicalErrorBoundary }), _jsx(OnChangePlugin, { onChange: onChange }), _jsx(HistoryPlugin, {}), _jsx(TreeViewPlugin, {}), _jsx(AutoFocusPlugin, {}), id && _jsx(LexicalStatePlugin, {}), _jsx(TablePlugin, {}), _jsx(ListPlugin, {}), _jsx(CheckListPlugin, {}), _jsx(LinkPlugin, {}), _jsx(AutoLinkPlugin, {}), _jsx(ListMaxIndentLevelPlugin, { maxDepth: 7 }), _jsx(MarkdownPlugin, {}), _jsx(JupyterInputOutputPlugin, { kernel: defaultKernel, onSessionConnection: onSessionConnection }), _jsx(ComponentPickerMenuPlugin, { kernel: defaultKernel }), _jsx(EquationsPlugin, {}), _jsx(ImagesPlugin, {}), _jsx(HashtagPlugin, {}), _jsx(HorizontalRulePlugin, {}), _jsx(YouTubePlugin, {}), _jsx(NbformatContentPlugin, { notebook: notebook }), _jsx(CodeActionMenuPlugin, {}), _jsx(AutoEmbedPlugin, {}), _jsx(EditorContextPlugin, {}), _jsx(TableOfContentsPlugin, {}), _jsx(CommentPlugin, { providerFactory: undefined }), floatingAnchorElem && (_jsxs(_Fragment, { children: [_jsx(DraggableBlockPlugin, { anchorElem: floatingAnchorElem }), _jsx(FloatingTextFormatToolbarPlugin, { anchorElem: floatingAnchorElem })] }))] })] }));
 }
 export function Editor(props) {
     const { id, serviceManager } = props;
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/editor/Editor.js.map b/node_modules/@datalayer/jupyter-lexical/lib/editor/Editor.js.map
index 27e6ed2..37d8b8b 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/editor/Editor.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/editor/Editor.js.map
@@ -1 +1 @@
-{"version":3,"file":"Editor.js","sourceRoot":"","sources":["../../src/editor/Editor.tsx"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"Editor.js","sourceRoot":"","sources":["../../src/editor/Editor.tsx"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/examples/AppNbformat.js b/node_modules/@datalayer/jupyter-lexical/lib/examples/AppNbformat.js
index 2ac9896..64851ea 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/examples/AppNbformat.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/examples/AppNbformat.js
@@ -4,15 +4,16 @@ import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from "react/jsx-run
  *
  * MIT License
  */
-import { useState } from 'react';
+import { useState, useMemo } from 'react';
 import { $getRoot } from 'lexical';
 import styled from 'styled-components';
-import { useNotebookStore, Jupyter, Notebook, CellSidebar, CellSidebarExtension, } from '@datalayer/jupyter-react';
+import { useNotebookStore, useJupyter, JupyterReactTheme, Notebook, CellSidebar, CellSidebarExtension, } from '@datalayer/jupyter-react';
 import { Box } from '@datalayer/primer-addons';
 import { UnderlineNav, Button } from '@primer/react';
 import { ThreeBarsIcon } from '@primer/octicons-react';
 import { JSONTree } from 'react-json-tree';
-import { lexicalToNbformat, useLexical, LexicalProvider, Editor } from './..';
+import { lexicalToNbformat } from './..';
+import { useLexical, LexicalProvider, Editor } from './..';
 import INITIAL_LEXICAL_MODEL from './content/Example.lexical.json';
 import INITIAL_NBFORMAT_MODEL from './content/Example.ipynb.json';
 const NOTEBOOK_UID = 'notebook-uid-lexical';
@@ -23,9 +24,13 @@ const StyledNotebook = styled.div `
 `;
 const Tabs = () => {
     const { editor } = useLexical();
+    const { serviceManager, defaultKernel } = useJupyter({
+        startDefaultKernel: true,
+    });
     const notebookStore = useNotebookStore();
     const [tab, setTab] = useState('editor');
     const [nbformat, setNbformat] = useState(INITIAL_NBFORMAT_MODEL);
+    const extensions = useMemo(() => [new CellSidebarExtension({ factory: CellSidebar })], []);
     const notebook = notebookStore.selectNotebook(NOTEBOOK_UID);
     const goToTab = (e, toTab, notebookModel) => {
         e.preventDefault();
@@ -57,13 +62,13 @@ const Tabs = () => {
                                 const editorState = editor.parseEditorState(INITIAL_LEXICAL_MODEL);
                                 editor.setEditorState(editorState);
                             }
-                        }, children: "Load Lexical Model" })] })), tab === 'notebook' && (_jsx(StyledNotebook, { children: _jsxs(Box, { mb: 3, children: [_jsx(Notebook, { id: NOTEBOOK_UID, nbformat: INITIAL_NBFORMAT_MODEL, extensions: [new CellSidebarExtension({ factory: CellSidebar })] }), _jsx(Button, { onClick: (e) => {
+                        }, children: "Load Lexical Model" })] })), tab === 'notebook' && (_jsx(StyledNotebook, { children: _jsxs(Box, { mb: 3, children: [serviceManager && defaultKernel && (_jsx(Notebook, { id: NOTEBOOK_UID, kernel: defaultKernel, serviceManager: serviceManager, nbformat: INITIAL_NBFORMAT_MODEL, extensions: extensions })), _jsx(Button, { onClick: (e) => {
                                 e.preventDefault();
                                 setNbformat(INITIAL_NBFORMAT_MODEL);
                             }, children: "Reset Nbformat" })] }) })), tab === 'nbformat' && (_jsxs(Box, { children: [_jsx(JSONTree, { data: nbformat }), ";"] }))] }));
 };
 export function AppNbformat() {
-    return (_jsxs(_Fragment, { children: [_jsx("div", { className: "App", children: _jsx("h1", { children: "Jupyter UI \u2764\uFE0F Lexical" }) }), _jsx(Jupyter, { startDefaultKernel: true, children: _jsx(LexicalProvider, { children: _jsx(Tabs, {}) }) }), _jsxs("div", { className: "other App", children: [_jsxs("div", { className: "flex flex-col items-center gap-4 my-8", children: [_jsx("button", { className: "bg-blue-600 hover:bg-blue-800 text-white font-bold py-3 px-8 rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition duration-300 ease-in-out", onClick: () => alert('Tailwind CSS v4 is working correctly!'), children: "Tailwind v4 Button" }), _jsx("div", { className: "mt-4 text-center", children: _jsx("span", { className: "tailwind-demo-badge", children: "Tailwind v4 Custom Component" }) })] }), _jsxs("div", { className: "other App", children: [_jsx("div", { style: {
+    return (_jsxs(_Fragment, { children: [_jsx("div", { className: "App", children: _jsx("h1", { children: "Jupyter UI \u2764\uFE0F Lexical" }) }), _jsx(JupyterReactTheme, { children: _jsx(LexicalProvider, { children: _jsx(Tabs, {}) }) }), _jsxs("div", { className: "other App", children: [_jsxs("div", { className: "flex flex-col items-center gap-4 my-8", children: [_jsx("button", { className: "bg-blue-600 hover:bg-blue-800 text-white font-bold py-3 px-8 rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition duration-300 ease-in-out", onClick: () => alert('Tailwind CSS v4 is working correctly!'), children: "Tailwind v4 Button" }), _jsx("div", { className: "mt-4 text-center", children: _jsx("span", { className: "tailwind-demo-badge", children: "Tailwind v4 Custom Component" }) })] }), _jsxs("div", { className: "other App", children: [_jsx("div", { style: {
                                     display: 'flex',
                                     alignItems: 'center',
                                     justifyContent: 'center',
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/examples/AppNbformat.js.map b/node_modules/@datalayer/jupyter-lexical/lib/examples/AppNbformat.js.map
index 47e3312..ed48358 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/examples/AppNbformat.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/examples/AppNbformat.js.map
@@ -1 +1 @@
-{"version":3,"file":"AppNbformat.js","sourceRoot":"","sources":["../../src/examples/AppNbformat.tsx"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"AppNbformat.js","sourceRoot":"","sources":["../../src/examples/AppNbformat.tsx"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/examples/AppSimple.js b/node_modules/@datalayer/jupyter-lexical/lib/examples/AppSimple.js
index 4eb8159..3f6ddfd 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/examples/AppSimple.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/examples/AppSimple.js
@@ -8,7 +8,7 @@ import { useState } from 'react';
 import { Button, ButtonGroup } from '@primer/react';
 import { Box } from '@datalayer/primer-addons';
 import { ThreeBarsIcon } from '@primer/octicons-react';
-import { Jupyter } from '@datalayer/jupyter-react';
+import { JupyterReactTheme } from '@datalayer/jupyter-react';
 import { useLexical, Editor, LexicalProvider } from '..';
 import LEXICAL_MODEL from './content/Example.lexical.json';
 import NBFORMAT_MODEL from './content/Example.ipynb.json';
@@ -49,14 +49,14 @@ export const AppSimple = () => {
                                     '&:hover': {
                                         backgroundColor: !hasKernel ? '#0860ca' : '#f3f4f6',
                                     },
-                                }, children: "No Runtime" }), _jsx(Button, { variant: hasKernel ? 'primary' : 'default', onClick: () => toggleKernel(true), sx: {
+                                }, children: "Without Runtime" }), _jsx(Button, { variant: hasKernel ? 'primary' : 'default', onClick: () => toggleKernel(true), sx: {
                                     fontWeight: hasKernel ? 'bold' : 'normal',
                                     backgroundColor: hasKernel ? '#0969da' : 'transparent',
                                     color: hasKernel ? 'white' : 'inherit',
                                     '&:hover': {
                                         backgroundColor: hasKernel ? '#0860ca' : '#f3f4f6',
                                     },
-                                }, children: "With Runtime" })] }), _jsxs("p", { style: { fontSize: '12px', color: '#666', marginTop: '8px' }, children: ["Current mode:", ' ', _jsx("strong", { children: hasKernel ? 'Runtime Connected' : 'No Runtime' })] })] }), _jsx(Jupyter, { startDefaultKernel: hasKernel, children: _jsx(LexicalProvider, { children: _jsx(LexicalEditor, {}) }) }), _jsxs("div", { className: "other App", children: [_jsx("div", { style: {
+                                }, children: "With Runtime" })] }), _jsxs("p", { style: { fontSize: '12px', color: '#666', marginTop: '8px' }, children: ["Current mode:", ' ', _jsx("strong", { children: hasKernel ? 'Runtime Connected' : 'No Runtime' })] })] }), _jsx(JupyterReactTheme, { children: _jsx(LexicalProvider, { children: _jsx(LexicalEditor, {}) }) }), _jsxs("div", { className: "other App", children: [_jsx("div", { style: {
                             display: 'flex',
                             alignItems: 'center',
                             justifyContent: 'center',
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/examples/AppSimple.js.map b/node_modules/@datalayer/jupyter-lexical/lib/examples/AppSimple.js.map
index 77371b2..da3d317 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/examples/AppSimple.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/examples/AppSimple.js.map
@@ -1 +1 @@
-{"version":3,"file":"AppSimple.js","sourceRoot":"","sources":["../../src/examples/AppSimple.tsx"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"AppSimple.js","sourceRoot":"","sources":["../../src/examples/AppSimple.tsx"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/examples/ManualKernelControl.js b/node_modules/@datalayer/jupyter-lexical/lib/examples/ManualKernelControl.js
index b6b24b1..464eb9d 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/examples/ManualKernelControl.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/examples/ManualKernelControl.js
@@ -17,7 +17,7 @@ import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
  * - Implementing custom kernel lifecycle management
  */
 import { useState, useCallback, useEffect } from 'react';
-import { Jupyter } from '@datalayer/jupyter-react';
+import { JupyterReactTheme } from '@datalayer/jupyter-react';
 import { ServerConnection, ServiceManager } from '@jupyterlab/services';
 import { Button, ButtonGroup } from '@primer/react';
 /**
@@ -161,7 +161,12 @@ export const ManualKernelControlExample = () => {
                     backgroundColor: runtimeConnected ? '#d4edda' : '#f8d7da',
                     border: `1px solid ${runtimeConnected ? '#c3e6cb' : '#f5c6cb'}`,
                     borderRadius: '4px',
-                }, children: [_jsx("strong", { children: "Status:" }), " ", statusMessage, _jsx("br", {}), _jsx("strong", { children: "Runtime Connected:" }), ' ', runtimeConnected ? 'Yes ' : 'No ', _jsx("br", {}), _jsx("strong", { children: "ServiceManager:" }), ' ', serviceManager ? 'Available ' : 'Not Available ', _jsx("br", {}), _jsx("strong", { children: "Start Default Kernel:" }), ' ', startDefaultKernel ? 'Yes' : 'No'] }), _jsxs("div", { style: { marginBottom: '20px' }, children: [_jsx("h3", { children: "Manual Control (User Actions)" }), _jsxs(ButtonGroup, { children: [_jsx(Button, { variant: runtimeConnected ? 'default' : 'primary', onClick: handleConnect, disabled: runtimeConnected, children: "Connect to Runtime" }), _jsx(Button, { variant: runtimeConnected ? 'primary' : 'default', onClick: handleDisconnect, disabled: !runtimeConnected, children: "Disconnect from Runtime" })] })] }), _jsxs("div", { style: { marginBottom: '20px' }, children: [_jsx("h3", { children: "Simulate External Events (VSCode Extension)" }), _jsx("p", { style: { fontSize: '12px', color: '#666' }, children: "These simulate events from an external system like a VSCode extension detecting runtime changes." }), _jsxs(ButtonGroup, { children: [_jsx(Button, { variant: "danger", onClick: handleSimulateTermination, disabled: !runtimeConnected, children: "\uD83D\uDD34 Simulate Runtime Termination" }), _jsx(Button, { variant: "primary", onClick: handleSimulateReconnection, disabled: runtimeConnected, children: "\uD83D\uDFE2 Simulate Runtime Reconnection" })] })] }), _jsxs("div", { style: { border: '1px solid #ccc', padding: '10px', marginTop: '20px' }, children: [_jsx("h3", { children: "Jupyter Component" }), _jsx(Jupyter, { serviceManager: serviceManager, startDefaultKernel: startDefaultKernel, lite: false, collaborative: false, children: _jsx("div", { style: { padding: '20px' }, children: runtimeConnected ? (_jsxs("div", { children: [_jsx("p", { children: "\u2705 Jupyter is connected to runtime. You can execute code." }), _jsxs("code", { children: ["print(\"Hello from Jupyter!\")", _jsx("br", {}), "1 + 1"] })] })) : (_jsx("div", { children: _jsx("p", { children: "\u274C Jupyter is disconnected. Connect to runtime to execute code." }) })) }) })] }), _jsxs("div", { style: {
+                }, children: [_jsx("strong", { children: "Status:" }), " ", statusMessage, _jsx("br", {}), _jsx("strong", { children: "Runtime Connected:" }), ' ', runtimeConnected ? 'Yes ' : 'No ', _jsx("br", {}), _jsx("strong", { children: "ServiceManager:" }), ' ', serviceManager ? 'Available ' : 'Not Available ', _jsx("br", {}), _jsx("strong", { children: "Start Default Kernel:" }), ' ', startDefaultKernel ? 'Yes' : 'No'] }), _jsxs("div", { style: { marginBottom: '20px' }, children: [_jsx("h3", { children: "Manual Control (User Actions)" }), _jsxs(ButtonGroup, { children: [_jsx(Button, { variant: runtimeConnected ? 'default' : 'primary', onClick: handleConnect, disabled: runtimeConnected, children: "Connect to Runtime" }), _jsx(Button, { variant: runtimeConnected ? 'primary' : 'default', onClick: handleDisconnect, disabled: !runtimeConnected, children: "Disconnect from Runtime" })] })] }), _jsxs("div", { style: { marginBottom: '20px' }, children: [_jsx("h3", { children: "Simulate External Events (VSCode Extension)" }), _jsx("p", { style: { fontSize: '12px', color: '#666' }, children: "These simulate events from an external system like a VSCode extension detecting runtime changes." }), _jsxs(ButtonGroup, { children: [_jsx(Button, { variant: "danger", onClick: handleSimulateTermination, disabled: !runtimeConnected, children: "\uD83D\uDD34 Simulate Runtime Termination" }), _jsx(Button, { variant: "primary", onClick: handleSimulateReconnection, disabled: runtimeConnected, children: "\uD83D\uDFE2 Simulate Runtime Reconnection" })] })] }), _jsxs("div", { style: { border: '1px solid #ccc', padding: '10px', marginTop: '20px' }, children: [_jsx("h3", { children: "Jupyter Component" }), _jsx(JupyterReactTheme
+                    //          serviceManager={serviceManager}
+                    //          startDefaultKernel={startDefaultKernel}
+                    //          lite={false}
+                    //          collaborative={false}
+                    , { children: _jsx("div", { style: { padding: '20px' }, children: runtimeConnected ? (_jsxs("div", { children: [_jsx("p", { children: "\u2705 Jupyter is connected to runtime. You can execute code." }), _jsxs("code", { children: ["print(\"Hello from Jupyter!\")", _jsx("br", {}), "1 + 1"] })] })) : (_jsx("div", { children: _jsx("p", { children: "\u274C Jupyter is disconnected. Connect to runtime to execute code." }) })) }) })] }), _jsxs("div", { style: {
                     marginTop: '40px',
                     padding: '20px',
                     backgroundColor: '#f6f8fa',
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/examples/ManualKernelControl.js.map b/node_modules/@datalayer/jupyter-lexical/lib/examples/ManualKernelControl.js.map
index 09b3cb7..c8771a9 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/examples/ManualKernelControl.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/examples/ManualKernelControl.js.map
@@ -1 +1 @@
-{"version":3,"file":"ManualKernelControl.js","sourceRoot":"","sources":["../../src/examples/ManualKernelControl.tsx"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"ManualKernelControl.js","sourceRoot":"","sources":["../../src/examples/ManualKernelControl.tsx"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/examples/index.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/examples/index.d.ts
index f388879..0a937f8 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/examples/index.d.ts
+++ b/node_modules/@datalayer/jupyter-lexical/lib/examples/index.d.ts
@@ -1 +1,2 @@
+import './setup-prism';
 import '../../style/index.css';
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/examples/index.js b/node_modules/@datalayer/jupyter-lexical/lib/examples/index.js
index ef1c3fa..5f8596d 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/examples/index.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/examples/index.js
@@ -4,6 +4,8 @@ import { jsx as _jsx } from "react/jsx-runtime";
  *
  * MIT License
  */
+// Setup Prism globally FIRST - must be before all other imports
+import './setup-prism';
 import { createRoot } from 'react-dom/client';
 import App from './AppSimple';
 // import App from './AppNbformat';
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/examples/index.js.map b/node_modules/@datalayer/jupyter-lexical/lib/examples/index.js.map
index 3a84f60..2171918 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/examples/index.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/examples/index.js.map
@@ -1 +1 @@
-{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/examples/index.tsx"],"names":[],"mappings":";AAAA;;;;GAIG;AAEH,OAAO,EAAE,UAAU,EAAE,MAAM,kBAAkB,CAAC;AAC9C,OAAO,GAAG,MAAM,aAAa,CAAC;AAC9B,mCAAmC;AACnC,sEAAsE;AAEtE,OAAO,uBAAuB,CAAC;AAE/B,MAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AAC1C,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;AAC/B,MAAM,IAAI,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;AAE7B,IAAI,CAAC,MAAM,CAAC,KAAC,GAAG,KAAG,CAAC,CAAC"}
\ No newline at end of file
+{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/examples/index.tsx"],"names":[],"mappings":";AAAA;;;;GAIG;AAEH,gEAAgE;AAChE,OAAO,eAAe,CAAC;AAEvB,OAAO,EAAE,UAAU,EAAE,MAAM,kBAAkB,CAAC;AAC9C,OAAO,GAAG,MAAM,aAAa,CAAC;AAC9B,mCAAmC;AACnC,sEAAsE;AAEtE,OAAO,uBAAuB,CAAC;AAE/B,MAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AAC1C,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;AAC/B,MAAM,IAAI,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;AAE7B,IAAI,CAAC,MAAM,CAAC,KAAC,GAAG,KAAG,CAAC,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/examples/setup-prism.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/examples/setup-prism.d.ts
new file mode 100644
index 0000000..91f13b1
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/examples/setup-prism.d.ts
@@ -0,0 +1,14 @@
+import Prism from 'prismjs';
+import 'prismjs/components/prism-clike';
+import 'prismjs/components/prism-javascript';
+import 'prismjs/components/prism-markup';
+import 'prismjs/components/prism-markdown';
+import 'prismjs/components/prism-c';
+import 'prismjs/components/prism-css';
+import 'prismjs/components/prism-objectivec';
+import 'prismjs/components/prism-sql';
+import 'prismjs/components/prism-python';
+import 'prismjs/components/prism-rust';
+import 'prismjs/components/prism-swift';
+import 'prismjs/themes/prism.css';
+export default Prism;
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/examples/setup-prism.js b/node_modules/@datalayer/jupyter-lexical/lib/examples/setup-prism.js
new file mode 100644
index 0000000..761fcd5
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/examples/setup-prism.js
@@ -0,0 +1,27 @@
+/*
+ * Copyright (c) 2021-2023 Datalayer, Inc.
+ *
+ * MIT License
+ */
+// Setup Prism globally BEFORE language components are imported
+import Prism from 'prismjs';
+// Set Prism to global scope so language components can extend it
+if (typeof window !== 'undefined') {
+    window.Prism = Prism;
+}
+// Now import language components
+import 'prismjs/components/prism-clike';
+import 'prismjs/components/prism-javascript';
+import 'prismjs/components/prism-markup';
+import 'prismjs/components/prism-markdown';
+import 'prismjs/components/prism-c';
+import 'prismjs/components/prism-css';
+import 'prismjs/components/prism-objectivec';
+import 'prismjs/components/prism-sql';
+import 'prismjs/components/prism-python';
+import 'prismjs/components/prism-rust';
+import 'prismjs/components/prism-swift';
+// Import Prism theme
+import 'prismjs/themes/prism.css';
+export default Prism;
+//# sourceMappingURL=setup-prism.js.map
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/examples/setup-prism.js.map b/node_modules/@datalayer/jupyter-lexical/lib/examples/setup-prism.js.map
new file mode 100644
index 0000000..875961a
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/examples/setup-prism.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"setup-prism.js","sourceRoot":"","sources":["../../src/examples/setup-prism.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAEH,+DAA+D;AAC/D,OAAO,KAAK,MAAM,SAAS,CAAC;AAE5B,iEAAiE;AACjE,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE,CAAC;IACjC,MAAc,CAAC,KAAK,GAAG,KAAK,CAAC;AAChC,CAAC;AAED,iCAAiC;AACjC,OAAO,gCAAgC,CAAC;AACxC,OAAO,qCAAqC,CAAC;AAC7C,OAAO,iCAAiC,CAAC;AACzC,OAAO,mCAAmC,CAAC;AAC3C,OAAO,4BAA4B,CAAC;AACpC,OAAO,8BAA8B,CAAC;AACtC,OAAO,qCAAqC,CAAC;AAC7C,OAAO,8BAA8B,CAAC;AACtC,OAAO,iCAAiC,CAAC;AACzC,OAAO,+BAA+B,CAAC;AACvC,OAAO,gCAAgC,CAAC;AAExC,qBAAqB;AACrB,OAAO,0BAA0B,CAAC;AAElC,eAAe,KAAK,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/index.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/index.d.ts
index 3677a63..deaa9a6 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/index.d.ts
+++ b/node_modules/@datalayer/jupyter-lexical/lib/index.d.ts
@@ -1,3 +1,4 @@
+export * from './autoindent';
 export * from './components';
 export * from './context';
 export * from './convert';
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/index.js b/node_modules/@datalayer/jupyter-lexical/lib/index.js
index ace8bac..dc7bd82 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/index.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/index.js
@@ -3,6 +3,7 @@
  *
  * MIT License
  */
+export * from './autoindent';
 export * from './components';
 export * from './context';
 export * from './convert';
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/index.js.map b/node_modules/@datalayer/jupyter-lexical/lib/index.js.map
index 8774f4d..2637312 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/index.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/index.js.map
@@ -1 +1 @@
-{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAEH,cAAc,cAAc,CAAC;AAC7B,cAAc,WAAW,CAAC;AAC1B,cAAc,WAAW,CAAC;AAC1B,cAAc,UAAU,CAAC;AACzB,cAAc,SAAS,CAAC;AACxB,cAAc,SAAS,CAAC;AACxB,cAAc,WAAW,CAAC;AAC1B,cAAc,UAAU,CAAC;AACzB,cAAc,SAAS,CAAC;AACxB,cAAc,SAAS,CAAC"}
\ No newline at end of file
+{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAEH,cAAc,cAAc,CAAC;AAC7B,cAAc,cAAc,CAAC;AAC7B,cAAc,WAAW,CAAC;AAC1B,cAAc,WAAW,CAAC;AAC1B,cAAc,UAAU,CAAC;AACzB,cAAc,SAAS,CAAC;AACxB,cAAc,SAAS,CAAC;AACxB,cAAc,WAAW,CAAC;AAC1B,cAAc,UAAU,CAAC;AACzB,cAAc,SAAS,CAAC;AACxB,cAAc,SAAS,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/nodes/CommentThreadNode.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/nodes/CommentThreadNode.d.ts
new file mode 100644
index 0000000..ddbe9f5
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/nodes/CommentThreadNode.d.ts
@@ -0,0 +1,35 @@
+import { DecoratorNode, type EditorConfig, type LexicalEditor, type NodeKey, type SerializedLexicalNode, type Spread } from 'lexical';
+import type { Comment } from '../components/Commenting';
+export type SerializedCommentThreadNode = Spread<{
+    id: string;
+    quote: string;
+    comments: Comment[];
+}, SerializedLexicalNode>;
+/**
+ * CommentThreadNode stores comment thread data as a Lexical node.
+ * This node syncs automatically via the Loro collaboration provider.
+ *
+ * Unlike the original CommentPlugin which used Yjs for comment storage,
+ * this approach stores comments directly in the Lexical editor state,
+ * making them part of the document JSON and enabling automatic sync.
+ */
+export declare class CommentThreadNode extends DecoratorNode<JSX.Element> {
+    __id: string;
+    __quote: string;
+    __comments: Comment[];
+    static getType(): string;
+    static clone(node: CommentThreadNode): CommentThreadNode;
+    static importJSON(json: SerializedCommentThreadNode): CommentThreadNode;
+    exportJSON(): SerializedCommentThreadNode;
+    constructor(id: string, quote: string, comments: Comment[], key?: NodeKey);
+    createDOM(_config: EditorConfig): HTMLElement;
+    updateDOM(): boolean;
+    getId(): string;
+    getQuote(): string;
+    getComments(): Comment[];
+    addComment(comment: Comment): void;
+    deleteComment(commentId: string): void;
+    decorate(_editor: LexicalEditor): JSX.Element;
+}
+export declare function $createCommentThreadNode(id: string, quote: string, comments: Comment[]): CommentThreadNode;
+export declare function $isCommentThreadNode(node: unknown): node is CommentThreadNode;
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/nodes/CommentThreadNode.js b/node_modules/@datalayer/jupyter-lexical/lib/nodes/CommentThreadNode.js
new file mode 100644
index 0000000..4bd4df5
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/nodes/CommentThreadNode.js
@@ -0,0 +1,86 @@
+import { Fragment as _Fragment, jsx as _jsx } from "react/jsx-runtime";
+/*
+ * Copyright (c) 2021-2023 Datalayer, Inc.
+ *
+ * MIT License
+ */
+import { DecoratorNode, } from 'lexical';
+/**
+ * CommentThreadNode stores comment thread data as a Lexical node.
+ * This node syncs automatically via the Loro collaboration provider.
+ *
+ * Unlike the original CommentPlugin which used Yjs for comment storage,
+ * this approach stores comments directly in the Lexical editor state,
+ * making them part of the document JSON and enabling automatic sync.
+ */
+export class CommentThreadNode extends DecoratorNode {
+    __id;
+    __quote;
+    __comments;
+    static getType() {
+        return 'comment-thread';
+    }
+    static clone(node) {
+        return new CommentThreadNode(node.__id, node.__quote, node.__comments, node.__key);
+    }
+    static importJSON(json) {
+        return new CommentThreadNode(json.id, json.quote, json.comments);
+    }
+    exportJSON() {
+        return {
+            type: 'comment-thread',
+            version: 1,
+            id: this.__id,
+            quote: this.__quote,
+            comments: this.__comments,
+        };
+    }
+    constructor(id, quote, comments, key) {
+        super(key);
+        this.__id = id;
+        this.__quote = quote;
+        this.__comments = comments;
+    }
+    createDOM(_config) {
+        // Return invisible div - UI is rendered via decorate()
+        const div = document.createElement('div');
+        div.style.display = 'none';
+        return div;
+    }
+    updateDOM() {
+        // Node is invisible, never needs DOM updates
+        return false;
+    }
+    // Accessors
+    getId() {
+        return this.__id;
+    }
+    getQuote() {
+        return this.__quote;
+    }
+    getComments() {
+        return this.__comments;
+    }
+    // Mutators (create writable copy using getWritable())
+    addComment(comment) {
+        const writable = this.getWritable();
+        writable.__comments = [...writable.__comments, comment];
+    }
+    deleteComment(commentId) {
+        const writable = this.getWritable();
+        writable.__comments = writable.__comments.map(c => c.id === commentId
+            ? { ...c, deleted: true, content: '[Deleted Comment]' }
+            : c);
+    }
+    decorate(_editor) {
+        // Return empty fragment - UI will be handled by CommentPlugin
+        return _jsx(_Fragment, {});
+    }
+}
+export function $createCommentThreadNode(id, quote, comments) {
+    return new CommentThreadNode(id, quote, comments);
+}
+export function $isCommentThreadNode(node) {
+    return node instanceof CommentThreadNode;
+}
+//# sourceMappingURL=CommentThreadNode.js.map
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/nodes/CommentThreadNode.js.map b/node_modules/@datalayer/jupyter-lexical/lib/nodes/CommentThreadNode.js.map
new file mode 100644
index 0000000..0ae072f
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/nodes/CommentThreadNode.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"CommentThreadNode.js","sourceRoot":"","sources":["../../src/nodes/CommentThreadNode.tsx"],"names":[],"mappings":";AAAA;;;;GAIG;AAEH,OAAO,EACL,aAAa,GAMd,MAAM,SAAS,CAAC;AAYjB;;;;;;;GAOG;AACH,MAAM,OAAO,iBAAkB,SAAQ,aAA0B;IAC/D,IAAI,CAAS;IACb,OAAO,CAAS;IAChB,UAAU,CAAY;IAEtB,MAAM,CAAC,OAAO;QACZ,OAAO,gBAAgB,CAAC;IAC1B,CAAC;IAED,MAAM,CAAC,KAAK,CAAC,IAAuB;QAClC,OAAO,IAAI,iBAAiB,CAC1B,IAAI,CAAC,IAAI,EACT,IAAI,CAAC,OAAO,EACZ,IAAI,CAAC,UAAU,EACf,IAAI,CAAC,KAAK,CACX,CAAC;IACJ,CAAC;IAED,MAAM,CAAC,UAAU,CAAC,IAAiC;QACjD,OAAO,IAAI,iBAAiB,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;IACnE,CAAC;IAED,UAAU;QACR,OAAO;YACL,IAAI,EAAE,gBAAgB;YACtB,OAAO,EAAE,CAAC;YACV,EAAE,EAAE,IAAI,CAAC,IAAI;YACb,KAAK,EAAE,IAAI,CAAC,OAAO;YACnB,QAAQ,EAAE,IAAI,CAAC,UAAU;SAC1B,CAAC;IACJ,CAAC;IAED,YAAY,EAAU,EAAE,KAAa,EAAE,QAAmB,EAAE,GAAa;QACvE,KAAK,CAAC,GAAG,CAAC,CAAC;QACX,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;QACf,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACrB,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC;IAC7B,CAAC;IAED,SAAS,CAAC,OAAqB;QAC7B,uDAAuD;QACvD,MAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC1C,GAAG,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QAC3B,OAAO,GAAG,CAAC;IACb,CAAC;IAED,SAAS;QACP,6CAA6C;QAC7C,OAAO,KAAK,CAAC;IACf,CAAC;IAED,YAAY;IACZ,KAAK;QACH,OAAO,IAAI,CAAC,IAAI,CAAC;IACnB,CAAC;IAED,QAAQ;QACN,OAAO,IAAI,CAAC,OAAO,CAAC;IACtB,CAAC;IAED,WAAW;QACT,OAAO,IAAI,CAAC,UAAU,CAAC;IACzB,CAAC;IAED,sDAAsD;IACtD,UAAU,CAAC,OAAgB;QACzB,MAAM,QAAQ,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QACpC,QAAQ,CAAC,UAAU,GAAG,CAAC,GAAG,QAAQ,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;IAC1D,CAAC;IAED,aAAa,CAAC,SAAiB;QAC7B,MAAM,QAAQ,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QACpC,QAAQ,CAAC,UAAU,GAAG,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAChD,CAAC,CAAC,EAAE,KAAK,SAAS;YAChB,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,mBAAmB,EAAE;YACvD,CAAC,CAAC,CAAC,CACN,CAAC;IACJ,CAAC;IAED,QAAQ,CAAC,OAAsB;QAC7B,8DAA8D;QAC9D,OAAO,mBAAK,CAAC;IACf,CAAC;CACF;AAED,MAAM,UAAU,wBAAwB,CACtC,EAAU,EACV,KAAa,EACb,QAAmB;IAEnB,OAAO,IAAI,iBAAiB,CAAC,EAAE,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;AACpD,CAAC;AAED,MAAM,UAAU,oBAAoB,CAAC,IAAa;IAChD,OAAO,IAAI,YAAY,iBAAiB,CAAC;AAC3C,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/nodes/InlineCompletionNode.js b/node_modules/@datalayer/jupyter-lexical/lib/nodes/InlineCompletionNode.js
index 7c8c69b..9b5988b 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/nodes/InlineCompletionNode.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/nodes/InlineCompletionNode.js
@@ -110,7 +110,6 @@ export class InlineCompletionNode extends DecoratorNode {
      * @returns React element displaying ghost text
      */
     decorate() {
-        console.warn('[InlineCompletionNode]  decorate() called with text:', this.__completionText.substring(0, 50));
         return _jsx(InlineCompletionComponent, { completionText: this.__completionText });
     }
     /**
@@ -165,7 +164,6 @@ export function $isInlineCompletionNode(node) {
  * @returns Styled span with ghost text
  */
 function InlineCompletionComponent({ completionText, }) {
-    console.warn('[InlineCompletionComponent]  Rendering with text:', completionText.substring(0, 50));
     return (_jsx("span", { className: "inline-completion-text", style: {
             opacity: 0.5,
             color: 'var(--vscode-editorSuggestWidget-foreground, #999)',
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/nodes/InlineCompletionNode.js.map b/node_modules/@datalayer/jupyter-lexical/lib/nodes/InlineCompletionNode.js.map
index 243e67b..1f8e7e8 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/nodes/InlineCompletionNode.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/nodes/InlineCompletionNode.js.map
@@ -1 +1 @@
-{"version":3,"file":"InlineCompletionNode.js","sourceRoot":"","sources":["../../src/nodes/InlineCompletionNode.tsx"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"InlineCompletionNode.js","sourceRoot":"","sources":["../../src/nodes/InlineCompletionNode.tsx"],"names":[],"mappings":";AAmCA,OAAO,EAAE,aAAa,EAAE,MAAM,SAAS,CAAC;AAqBxC;;;GAGG;AACH,MAAM,OAAO,oBAAqB,SAAQ,aAAiC;IACzE,gBAAgB,CAAS;IAEzB;;;OAGG;IACH,MAAM,CAAC,OAAO;QACZ,OAAO,mBAAmB,CAAC;IAC7B,CAAC;IAED;;;;OAIG;IACH,MAAM,CAAC,KAAK,CAAC,IAA0B;QACrC,OAAO,IAAI,oBAAoB,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IACrE,CAAC;IAED;;;;OAIG;IACH,YAAY,cAAsB,EAAE,GAAa;QAC/C,KAAK,CAAC,GAAG,CAAC,CAAC;QACX,IAAI,CAAC,gBAAgB,GAAG,cAAc,CAAC;IACzC,CAAC;IAED;;;;;OAKG;IACH,SAAS,CAAC,OAAqB;QAC7B,MAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAC3C,GAAG,CAAC,SAAS,GAAG,yBAAyB,CAAC;QAC1C,GAAG,CAAC,KAAK,CAAC,OAAO,GAAG;;;;;;KAMnB,CAAC;QACF,OAAO,GAAG,CAAC;IACb,CAAC;IAED;;;OAGG;IACH,SAAS;QACP,OAAO,KAAK,CAAC;IACf,CAAC;IAED;;;;OAIG;IACH,MAAM,CAAC,UAAU,CACf,cAA8C;QAE9C,OAAO,2BAA2B,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;IACpE,CAAC;IAED;;;OAGG;IACH,UAAU;QACR,kEAAkE;QAClE,kDAAkD;QAClD,OAAO;YACL,cAAc,EAAE,EAAE;YAClB,IAAI,EAAE,mBAAmB;YACzB,OAAO,EAAE,CAAC;SACX,CAAC;IACJ,CAAC;IAED;;;OAGG;IACH,MAAM,CAAC,SAAS;QACd,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;OAGG;IACH,SAAS;QACP,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IAC3B,CAAC;IAED;;;OAGG;IACH,iBAAiB;QACf,OAAO,IAAI,CAAC,gBAAgB,CAAC;IAC/B,CAAC;IAED;;;OAGG;IACH,iBAAiB,CAAC,IAAY;QAC5B,MAAM,QAAQ,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QACpC,QAAQ,CAAC,gBAAgB,GAAG,IAAI,CAAC;IACnC,CAAC;IAED;;;OAGG;IACH,QAAQ;QACN,OAAO,KAAC,yBAAyB,IAAC,cAAc,EAAE,IAAI,CAAC,gBAAgB,GAAI,CAAC;IAC9E,CAAC;IAED;;;OAGG;IACH,QAAQ;QACN,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;OAGG;IACH,oBAAoB;QAClB,OAAO,KAAK,CAAC;IACf,CAAC;CACF;AAED;;;;;;;;;;GAUG;AACH,MAAM,UAAU,2BAA2B,CACzC,cAAsB;IAEtB,OAAO,IAAI,oBAAoB,CAAC,cAAc,CAAC,CAAC;AAClD,CAAC;AAED;;;;;;;;;;;GAWG;AACH,MAAM,UAAU,uBAAuB,CACrC,IAAoC;IAEpC,OAAO,IAAI,YAAY,oBAAoB,CAAC;AAC9C,CAAC;AAED;;;;;;GAMG;AACH,SAAS,yBAAyB,CAAC,EACjC,cAAc,GACY;IAC1B,OAAO,CACL,eACE,SAAS,EAAC,wBAAwB,EAClC,KAAK,EAAE;YACL,OAAO,EAAE,GAAG;YACZ,KAAK,EAAE,oDAAoD;YAC3D,aAAa,EAAE,MAAM;YACrB,UAAU,EAAE,MAAM;YAClB,UAAU,EAAE,KAAK;SAClB,YAEA,cAAc,GACV,CACR,CAAC;AACJ,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterInputHighlightNode.js b/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterInputHighlightNode.js
index 62268d6..b10d406 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterInputHighlightNode.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterInputHighlightNode.js
@@ -76,6 +76,10 @@ export class JupyterInputHighlightNode extends TextNode {
         const element = super.createDOM(config);
         const className = getHighlightThemeClass(config.theme, this.__highlightType);
         addClassNamesToElement(element, className);
+        // Add Prism-compatible token classes so theme CSS (prism.css) can style spans
+        if (this.__highlightType) {
+            element.classList.add('token', this.__highlightType);
+        }
         return element;
     }
     updateDOM(prevNode, dom, config) {
@@ -90,6 +94,17 @@ export class JupyterInputHighlightNode extends TextNode {
                 addClassNamesToElement(dom, nextClassName);
             }
         }
+        if (prevNode.__highlightType !== this.__highlightType) {
+            if (prevNode.__highlightType) {
+                dom.classList.remove('token', prevNode.__highlightType);
+            }
+            if (this.__highlightType) {
+                dom.classList.add('token', this.__highlightType);
+            }
+            else {
+                dom.classList.remove('token');
+            }
+        }
         return update;
     }
     static importJSON(serializedNode) {
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterInputHighlightNode.js.map b/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterInputHighlightNode.js.map
index e11bcd3..84eb1a5 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterInputHighlightNode.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterInputHighlightNode.js.map
@@ -1 +1 @@
-{"version":3,"file":"JupyterInputHighlightNode.js","sourceRoot":"","sources":["../../src/nodes/JupyterInputHighlightNode.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"JupyterInputHighlightNode.js","sourceRoot":"","sources":["../../src/nodes/JupyterInputHighlightNode.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterInputHighlighter.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterInputHighlighter.d.ts
index db1dca1..b6e070f 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterInputHighlighter.d.ts
+++ b/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterInputHighlighter.d.ts
@@ -1,15 +1,4 @@
 import type { LexicalEditor, LexicalNode } from 'lexical';
-import 'prismjs/components/prism-clike';
-import 'prismjs/components/prism-javascript';
-import 'prismjs/components/prism-markup';
-import 'prismjs/components/prism-markdown';
-import 'prismjs/components/prism-c';
-import 'prismjs/components/prism-css';
-import 'prismjs/components/prism-objectivec';
-import 'prismjs/components/prism-sql';
-import 'prismjs/components/prism-python';
-import 'prismjs/components/prism-rust';
-import 'prismjs/components/prism-swift';
 import { TextNode } from 'lexical';
 export declare function getStartOfCodeInLine(anchor: LexicalNode): {
     node: TextNode | null;
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterInputHighlighter.js b/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterInputHighlighter.js
index b2dd420..13d6896 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterInputHighlighter.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterInputHighlighter.js
@@ -4,17 +4,6 @@
  * MIT License
  */
 import * as Prism from 'prismjs';
-import 'prismjs/components/prism-clike';
-import 'prismjs/components/prism-javascript';
-import 'prismjs/components/prism-markup';
-import 'prismjs/components/prism-markdown';
-import 'prismjs/components/prism-c';
-import 'prismjs/components/prism-css';
-import 'prismjs/components/prism-objectivec';
-import 'prismjs/components/prism-sql';
-import 'prismjs/components/prism-python';
-import 'prismjs/components/prism-rust';
-import 'prismjs/components/prism-swift';
 import { mergeRegister } from '@lexical/utils';
 import { $createLineBreakNode, $createTextNode, $getNodeByKey, $getSelection, $isLineBreakNode, $isRangeSelection, $isTextNode, COMMAND_PRIORITY_LOW, INDENT_CONTENT_COMMAND, KEY_ARROW_DOWN_COMMAND, KEY_ARROW_UP_COMMAND, MOVE_TO_END, MOVE_TO_START, OUTDENT_CONTENT_COMMAND, TextNode, } from 'lexical';
 import { $createJupyterInputHighlightNode, $isJupyterInputHighlightNode, JupyterInputHighlightNode, DEFAULT_CODE_LANGUAGE, getFirstJupyterInputHighlightNodeOfLine, getLastJupyterInputHighlightNodeOfLine, } from './JupyterInputHighlightNode';
@@ -188,8 +177,12 @@ function codeNodeTransform(node, editor) {
     editor.update(() => {
         updateAndRetainSelection(node, () => {
             const code = node.getTextContent();
-            const tokens = Prism.tokenize(code, Prism.languages[node.getLanguage() || ''] ||
-                Prism.languages[DEFAULT_CODE_LANGUAGE]);
+            // Prefer global Prism if the import was tree-shaken or deferred.
+            const prism = globalThis.Prism || Prism;
+            const language = node.getLanguage() || DEFAULT_CODE_LANGUAGE;
+            const grammar = prism?.languages?.[language] ||
+                prism?.languages?.[DEFAULT_CODE_LANGUAGE];
+            const tokens = prism && grammar ? prism.tokenize(code, grammar) : [code];
             const highlightNodes = getHighlightNodes(tokens);
             const diffRange = getDiffRange(node.getChildren(), highlightNodes);
             const { from, to, nodesForReplacement } = diffRange;
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterInputHighlighter.js.map b/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterInputHighlighter.js.map
index 5adb586..570c280 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterInputHighlighter.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterInputHighlighter.js.map
@@ -1 +1 @@
-{"version":3,"file":"JupyterInputHighlighter.js","sourceRoot":"","sources":["../../src/nodes/JupyterInputHighlighter.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAGH,OAAO,KAAK,KAAK,MAAM,SAAS,CAAC;AACjC,OAAO,gCAAgC,CAAC;AACxC,OAAO,qCAAqC,CAAC;AAC7C,OAAO,iCAAiC,CAAC;AACzC,OAAO,mCAAmC,CAAC;AAC3C,OAAO,4BAA4B,CAAC;AACpC,OAAO,8BAA8B,CAAC;AACtC,OAAO,qCAAqC,CAAC;AAC7C,OAAO,8BAA8B,CAAC;AACtC,OAAO,iCAAiC,CAAC;AACzC,OAAO,+BAA+B,CAAC;AACvC,OAAO,gCAAgC,CAAC;AACxC,OAAO,EAAE,aAAa,EAAE,MAAM,gBAAgB,CAAC;AAC/C,OAAO,EACL,oBAAoB,EACpB,eAAe,EACf,aAAa,EACb,aAAa,EACb,gBAAgB,EAChB,iBAAiB,EACjB,WAAW,EACX,oBAAoB,EACpB,sBAAsB,EACtB,sBAAsB,EACtB,oBAAoB,EACpB,WAAW,EACX,aAAa,EACb,uBAAuB,EACvB,QAAQ,GACT,MAAM,SAAS,CAAC;AACjB,OAAO,EACL,gCAAgC,EAChC,4BAA4B,EAC5B,yBAAyB,EACzB,qBAAqB,EACrB,uCAAuC,EACvC,sCAAsC,GACvC,MAAM,6BAA6B,CAAC;AACrC,OAAO,EAAE,mBAAmB,EAAE,gBAAgB,EAAE,MAAM,oBAAoB,CAAC;AAE3E,SAAS,gBAAgB,CAAC,IAAY;IACpC,OAAO,IAAI,KAAK,GAAG,IAAI,IAAI,KAAK,IAAI,CAAC;AACvC,CAAC;AAED,SAAS,gCAAgC,CACvC,IAAY,EACZ,SAAkB;IAElB,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;IAC3B,IAAI,MAAM,GAAG,CAAC,CAAC,CAAC;IAEhB,IAAI,SAAS,EAAE,CAAC;QACd,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YAChC,MAAM,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACrB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,CAAC;gBAC5B,MAAM,GAAG,CAAC,CAAC;gBACX,MAAM;YACR,CAAC;QACH,CAAC;IACH,CAAC;SAAM,CAAC;QACN,KAAK,IAAI,CAAC,GAAG,MAAM,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;YACrC,MAAM,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YACrB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,CAAC;gBAC5B,MAAM,GAAG,CAAC,CAAC;gBACX,MAAM;YACR,CAAC;QACH,CAAC;IACH,CAAC;IACD,OAAO,MAAM,CAAC;AAChB,CAAC;AAED,MAAM,UAAU,oBAAoB,CAAC,MAAmB;IAItD,IAAI,WAAW,GAAG,IAAI,CAAC;IACvB,IAAI,iBAAiB,GAAG,CAAC,CAAC,CAAC;IAC3B,MAAM,gBAAgB,GAAG,MAAM,CAAC,mBAAmB,EAAE,CAAC;IACtD,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC9B,OAAO,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;QACnC,MAAM,IAAI,GAAG,gBAAgB,CAAC,GAAG,EAAE,CAAC;QACpC,IAAI,4BAA4B,CAAC,IAAI,CAAC,EAAE,CAAC;YACvC,MAAM,IAAI,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;YACnC,MAAM,MAAM,GAAG,gCAAgC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YAC5D,IAAI,MAAM,KAAK,CAAC,CAAC,EAAE,CAAC;gBAClB,WAAW,GAAG,IAAI,CAAC;gBACnB,iBAAiB,GAAG,MAAM,CAAC;YAC7B,CAAC;QACH,CAAC;QACD,IAAI,gBAAgB,CAAC,IAAI,CAAC,EAAE,CAAC;YAC3B,MAAM;QACR,CAAC;IACH,CAAC;IAED,IAAI,WAAW,KAAK,IAAI,EAAE,CAAC;QACzB,MAAM,YAAY,GAAG,MAAM,CAAC,eAAe,EAAE,CAAC;QAC9C,OAAO,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;YAC/B,MAAM,IAAI,GAAG,YAAY,CAAC,KAAK,EAAE,CAAC;YAClC,IAAI,4BAA4B,CAAC,IAAI,CAAC,EAAE,CAAC;gBACvC,MAAM,IAAI,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;gBACnC,MAAM,MAAM,GAAG,gCAAgC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;gBAC5D,IAAI,MAAM,KAAK,CAAC,CAAC,EAAE,CAAC;oBAClB,WAAW,GAAG,IAAI,CAAC;oBACnB,iBAAiB,GAAG,MAAM,CAAC;oBAC3B,MAAM;gBACR,CAAC;YACH,CAAC;YACD,IAAI,gBAAgB,CAAC,IAAI,CAAC,EAAE,CAAC;gBAC3B,MAAM;YACR,CAAC;QACH,CAAC;IACH,CAAC;IAED,OAAO;QACL,IAAI,EAAE,WAAW;QACjB,MAAM,EAAE,iBAAiB;KAC1B,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,0BAA0B,CAAC,MAAmB;IAI5D,IAAI,WAAW,GAAG,IAAI,CAAC;IACvB,IAAI,iBAAiB,GAAG,CAAC,CAAC,CAAC;IAC3B,MAAM,YAAY,GAAG,MAAM,CAAC,eAAe,EAAE,CAAC;IAC9C,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;IAC7B,OAAO,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;QAC/B,MAAM,IAAI,GAAG,YAAY,CAAC,KAAK,EAAE,CAAC;QAClC,IAAI,4BAA4B,CAAC,IAAI,CAAC,EAAE,CAAC;YACvC,MAAM,IAAI,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;YACnC,MAAM,MAAM,GAAG,gCAAgC,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YAC7D,IAAI,MAAM,KAAK,CAAC,CAAC,EAAE,CAAC;gBAClB,WAAW,GAAG,IAAI,CAAC;gBACnB,iBAAiB,GAAG,MAAM,GAAG,CAAC,CAAC;YACjC,CAAC;QACH,CAAC;QACD,IAAI,gBAAgB,CAAC,IAAI,CAAC,EAAE,CAAC;YAC3B,MAAM;QACR,CAAC;IACH,CAAC;IAED,IAAI,WAAW,KAAK,IAAI,EAAE,CAAC;QACzB,MAAM,gBAAgB,GAAG,MAAM,CAAC,mBAAmB,EAAE,CAAC;QACtD,OAAO,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;YACnC,MAAM,IAAI,GAAG,gBAAgB,CAAC,GAAG,EAAE,CAAC;YACpC,IAAI,4BAA4B,CAAC,IAAI,CAAC,EAAE,CAAC;gBACvC,MAAM,IAAI,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;gBACnC,MAAM,MAAM,GAAG,gCAAgC,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;gBAC7D,IAAI,MAAM,KAAK,CAAC,CAAC,EAAE,CAAC;oBAClB,WAAW,GAAG,IAAI,CAAC;oBACnB,iBAAiB,GAAG,MAAM,GAAG,CAAC,CAAC;oBAC/B,MAAM;gBACR,CAAC;YACH,CAAC;YACD,IAAI,gBAAgB,CAAC,IAAI,CAAC,EAAE,CAAC;gBAC3B,MAAM;YACR,CAAC;QACH,CAAC;IACH,CAAC;IAED,OAAO;QACL,IAAI,EAAE,WAAW;QACjB,MAAM,EAAE,iBAAiB;KAC1B,CAAC;AACJ,CAAC;AAED,SAAS,iBAAiB,CAAC,IAAc,EAAE,MAAqB;IAC9D,mEAAmE;IACnE,6DAA6D;IAC7D,MAAM,UAAU,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;IACpC,IAAI,UAAU,IAAI,mBAAmB,CAAC,UAAU,CAAC,EAAE,CAAC;QAClD,iBAAiB,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;IACxC,CAAC;SAAM,IAAI,4BAA4B,CAAC,IAAI,CAAC,EAAE,CAAC;QAC9C,4DAA4D;QAC5D,qDAAqD;QACrD,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;IAC7C,CAAC;AACH,CAAC;AAED,SAAS,gBAAgB,CAAC,IAAsB,EAAE,MAAqB;IACrE,MAAM,WAAW,GAAG,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;IAC1D,IAAI,WAAW,KAAK,IAAI,EAAE,CAAC;QACzB,OAAO;IACT,CAAC;IACD,MAAM,QAAQ,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;IACpC,MAAM,cAAc,GAAG,QAAQ,CAAC,MAAM,CAAC;IACvC,mCAAmC;IACnC,IAAI,cAAc,KAAK,WAAW,CAAC,sBAAsB,EAAE,CAAC;QAC1D,sEAAsE;QACtE,OAAO;IACT,CAAC;IACD,mCAAmC;IACnC,WAAW,CAAC,sBAAsB,GAAG,cAAc,CAAC;IACpD,IAAI,MAAM,GAAG,GAAG,CAAC;IACjB,IAAI,KAAK,GAAG,CAAC,CAAC;IACd,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,cAAc,EAAE,CAAC,EAAE,EAAE,CAAC;QACxC,IAAI,gBAAgB,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YAClC,MAAM,IAAI,IAAI,GAAG,EAAE,KAAK,CAAC;QAC3B,CAAC;IACH,CAAC;IACD,WAAW,CAAC,YAAY,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;AAClD,CAAC;AAED,iFAAiF;AACjF,6CAA6C;AAC7C,EAAE;AACF,gFAAgF;AAChF,yFAAyF;AACzF,kFAAkF;AAClF,+CAA+C;AAC/C,IAAI,cAAc,GAAG,KAAK,CAAC;AAC3B,SAAS,iBAAiB,CAAC,IAAsB,EAAE,MAAqB;IACtE,IAAI,cAAc,EAAE,CAAC;QACnB,OAAO;IACT,CAAC;IACD,cAAc,GAAG,IAAI,CAAC;IACtB,mEAAmE;IACnE,IAAI,IAAI,CAAC,WAAW,EAAE,KAAK,SAAS,EAAE,CAAC;QACrC,IAAI,CAAC,WAAW,CAAC,qBAAqB,CAAC,CAAC;IAC1C,CAAC;IAED,wEAAwE;IACxE,6EAA6E;IAC7E,qBAAqB;IACrB,MAAM,CAAC,MAAM,CACX,GAAG,EAAE;QACH,wBAAwB,CAAC,IAAI,EAAE,GAAG,EAAE;YAClC,MAAM,IAAI,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;YACnC,MAAM,MAAM,GAAG,KAAK,CAAC,QAAQ,CAC3B,IAAI,EACJ,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,EAAE,CAAC;gBACvC,KAAK,CAAC,SAAS,CAAC,qBAAqB,CAAC,CACzC,CAAC;YACF,MAAM,cAAc,GAAG,iBAAiB,CAAC,MAAM,CAAC,CAAC;YACjD,MAAM,SAAS,GAAG,YAAY,CAAC,IAAI,CAAC,WAAW,EAAE,EAAE,cAAc,CAAC,CAAC;YACnE,MAAM,EAAE,IAAI,EAAE,EAAE,EAAE,mBAAmB,EAAE,GAAG,SAAS,CAAC;YACpD,IAAI,IAAI,KAAK,EAAE,IAAI,mBAAmB,CAAC,MAAM,EAAE,CAAC;gBAC9C,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,EAAE,GAAG,IAAI,EAAE,mBAAmB,CAAC,CAAC;gBAClD,OAAO,IAAI,CAAC;YACd,CAAC;YACD,OAAO,KAAK,CAAC;QACf,CAAC,CAAC,CAAC;IACL,CAAC,EACD;QACE,QAAQ,EAAE,GAAG,EAAE;YACb,cAAc,GAAG,KAAK,CAAC;QACzB,CAAC;QACD,cAAc,EAAE,IAAI;KACrB,CACF,CAAC;AACJ,CAAC;AAED,SAAS,iBAAiB,CACxB,MAAgC;IAEhC,MAAM,KAAK,GAAkB,EAAE,CAAC;IAEhC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;QACrB,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE,CAAC;YAC9B,MAAM,QAAQ,GAAG,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YACnC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACzC,MAAM,IAAI,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;gBACzB,IAAI,IAAI,CAAC,MAAM,EAAE,CAAC;oBAChB,KAAK,CAAC,IAAI,CAAC,gCAAgC,CAAC,IAAI,CAAC,CAAC,CAAC;gBACrD,CAAC;gBACD,IAAI,CAAC,GAAG,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;oBAC5B,KAAK,CAAC,IAAI,CAAC,oBAAoB,EAAE,CAAC,CAAC;gBACrC,CAAC;YACH,CAAC;QACH,CAAC;aAAM,CAAC;YACN,MAAM,EAAE,OAAO,EAAE,GAAG,KAAK,CAAC;YAC1B,IAAI,OAAO,OAAO,KAAK,QAAQ,EAAE,CAAC;gBAChC,KAAK,CAAC,IAAI,CAAC,gCAAgC,CAAC,OAAO,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;YACpE,CAAC;iBAAM,IACL,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC;gBACtB,OAAO,CAAC,MAAM,KAAK,CAAC;gBACpB,OAAO,OAAO,CAAC,CAAC,CAAC,KAAK,QAAQ,EAC9B,CAAC;gBACD,KAAK,CAAC,IAAI,CAAC,gCAAgC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;YACvE,CAAC;iBAAM,IAAI,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC;gBAClC,KAAK,CAAC,IAAI,CAAC,GAAG,iBAAiB,CAAC,OAAO,CAAC,CAAC,CAAC;YAC5C,CAAC;QACH,CAAC;IACH,CAAC,CAAC,CAAC;IAEH,OAAO,KAAK,CAAC;AACf,CAAC;AAED,0FAA0F;AAC1F,sBAAsB;AACtB,SAAS,wBAAwB,CAC/B,IAAsB,EACtB,QAAuB;IAEvB,MAAM,SAAS,GAAG,aAAa,EAAE,CAAC;IAClC,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC;QACvD,OAAO;IACT,CAAC;IAED,MAAM,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC;IAChC,MAAM,YAAY,GAAG,MAAM,CAAC,MAAM,CAAC;IACnC,MAAM,eAAe,GACnB,MAAM,CAAC,IAAI,KAAK,SAAS;QACzB,gBAAgB,CAAC,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;IAC5D,IAAI,UAAU,GAAG,CAAC,CAAC;IAEnB,4FAA4F;IAC5F,IAAI,CAAC,eAAe,EAAE,CAAC;QACrB,MAAM,UAAU,GAAG,MAAM,CAAC,OAAO,EAAE,CAAC;QACpC,UAAU;YACR,YAAY;gBACZ,UAAU,CAAC,mBAAmB,EAAE,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;oBACxD,OAAO,CACL,MAAM,GAAG,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,kBAAkB,EAAE,CAAC,CACpE,CAAC;gBACJ,CAAC,EAAE,CAAC,CAAC,CAAC;IACV,CAAC;IAED,MAAM,UAAU,GAAG,QAAQ,EAAE,CAAC;IAC9B,IAAI,CAAC,UAAU,EAAE,CAAC;QAChB,OAAO;IACT,CAAC;IAED,0DAA0D;IAC1D,2DAA2D;IAC3D,IAAI,eAAe,EAAE,CAAC;QACpB,MAAM,CAAC,OAAO,EAAE,CAAC,MAAM,CAAC,YAAY,EAAE,YAAY,CAAC,CAAC;QACpD,OAAO;IACT,CAAC;IAED,gEAAgE;IAChE,qDAAqD;IACrD,IAAI,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;QAC9B,IAAI,WAAW,CAAC,KAAK,CAAC,EAAE,CAAC;YACvB,MAAM,eAAe,GAAG,KAAK,CAAC,kBAAkB,EAAE,CAAC;YACnD,IAAI,eAAe,IAAI,UAAU,EAAE,CAAC;gBAClC,KAAK,CAAC,MAAM,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;gBACrC,OAAO,IAAI,CAAC;YACd,CAAC;YACD,UAAU,IAAI,eAAe,CAAC;QAChC,CAAC;QACD,OAAO,KAAK,CAAC;IACf,CAAC,CAAC,CAAC;AACL,CAAC;AAED,qGAAqG;AACrG,qGAAqG;AACrG,SAAS,YAAY,CACnB,SAA6B,EAC7B,SAA6B;IAM7B,IAAI,YAAY,GAAG,CAAC,CAAC;IACrB,OAAO,YAAY,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC;QACvC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,YAAY,CAAC,EAAE,SAAS,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC;YAC/D,MAAM;QACR,CAAC;QACD,YAAY,EAAE,CAAC;IACjB,CAAC;IAED,MAAM,eAAe,GAAG,SAAS,CAAC,MAAM,CAAC;IACzC,MAAM,eAAe,GAAG,SAAS,CAAC,MAAM,CAAC;IACzC,MAAM,gBAAgB,GACpB,IAAI,CAAC,GAAG,CAAC,eAAe,EAAE,eAAe,CAAC,GAAG,YAAY,CAAC;IAE5D,IAAI,aAAa,GAAG,CAAC,CAAC;IACtB,OAAO,aAAa,GAAG,gBAAgB,EAAE,CAAC;QACxC,aAAa,EAAE,CAAC;QAChB,IACE,CAAC,OAAO,CACN,SAAS,CAAC,eAAe,GAAG,aAAa,CAAC,EAC1C,SAAS,CAAC,eAAe,GAAG,aAAa,CAAC,CAC3C,EACD,CAAC;YACD,aAAa,EAAE,CAAC;YAChB,MAAM;QACR,CAAC;IACH,CAAC;IAED,MAAM,IAAI,GAAG,YAAY,CAAC;IAC1B,MAAM,EAAE,GAAG,eAAe,GAAG,aAAa,CAAC;IAC3C,MAAM,mBAAmB,GAAG,SAAS,CAAC,KAAK,CACzC,YAAY,EACZ,eAAe,GAAG,aAAa,CAChC,CAAC;IACF,OAAO;QACL,IAAI;QACJ,mBAAmB;QACnB,EAAE;KACH,CAAC;AACJ,CAAC;AAED,SAAS,OAAO,CAAC,KAAkB,EAAE,KAAkB;IACrD,kFAAkF;IAClF,oEAAoE;IACpE,IACE,4BAA4B,CAAC,KAAK,CAAC;QACnC,4BAA4B,CAAC,KAAK,CAAC,EACnC,CAAC;QACD,OAAO,CACL,KAAK,CAAC,MAAM,KAAK,KAAK,CAAC,MAAM;YAC7B,KAAK,CAAC,eAAe,KAAK,KAAK,CAAC,eAAe,CAChD,CAAC;IACJ,CAAC;IACD,IAAI,gBAAgB,CAAC,KAAK,CAAC,IAAI,gBAAgB,CAAC,KAAK,CAAC,EAAE,CAAC;QACvD,OAAO,IAAI,CAAC;IACd,CAAC;IACD,OAAO,KAAK,CAAC;AACf,CAAC;AAED,SAAS,qBAAqB,CAAC,IAA0B;IACvD,MAAM,SAAS,GAAG,aAAa,EAAE,CAAC;IAClC,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,IAAI,SAAS,CAAC,WAAW,EAAE,EAAE,CAAC;QAC7D,OAAO,KAAK,CAAC;IACf,CAAC;IACD,uGAAuG;IACvG,MAAM,KAAK,GAAG,SAAS,CAAC,QAAQ,EAAE,CAAC;IACnC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;QACtC,MAAM,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;QACtB,IAAI,CAAC,4BAA4B,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,CAAC;YACnE,OAAO,KAAK,CAAC;QACf,CAAC;IACH,CAAC;IACD,MAAM,WAAW,GAAG,uCAAuC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;IAEtE,IAAI,WAAW,IAAI,IAAI,EAAE,CAAC;QACxB,QAAQ,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;IAC9B,CAAC;IAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;QACtC,MAAM,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;QACtB,IAAI,gBAAgB,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,4BAA4B,CAAC,IAAI,CAAC,EAAE,CAAC;YACzE,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACvB,CAAC;IACH,CAAC;IAED,OAAO,IAAI,CAAC;AACd,CAAC;AAED,SAAS,QAAQ,CAAC,IAA+B,EAAE,IAA0B;IAC3E,MAAM,IAAI,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;IACnC,IAAI,IAAI,KAAK,sBAAsB,EAAE,CAAC;QACpC,wEAAwE;QACxE,uEAAuE;QACvE,uEAAuE;QACvE,mEAAmE;QACnE,2CAA2C;QAC3C,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YAC1C,IAAI,CAAC,cAAc,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC;QACnC,CAAC;aAAM,CAAC;YACN,MAAM,UAAU,GAAG,gCAAgC,CAAC,IAAI,CAAC,CAAC;YAC1D,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;QAChC,CAAC;IACH,CAAC;SAAM,CAAC;QACN,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC;YAC7B,2EAA2E;YAC3E,4BAA4B;YAC5B,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;gBACtB,IAAI,CAAC,MAAM,EAAE,CAAC;YAChB,CAAC;iBAAM,CAAC;gBACN,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;YACzC,CAAC;QACH,CAAC;IACH,CAAC;AACH,CAAC;AAED,SAAS,gBAAgB,CACvB,IAAmC,EACnC,KAAoB;IAEpB,wCAAwC;IACxC,MAAM,SAAS,GAAG,aAAa,EAAE,CAAC;IAClC,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,EAAE,CAAC;QAClC,OAAO,KAAK,CAAC;IACf,CAAC;IACD,kGAAkG;IAClG,+DAA+D;IAC/D,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,SAAS,CAAC;IACpC,MAAM,YAAY,GAAG,MAAM,CAAC,MAAM,CAAC;IACnC,MAAM,WAAW,GAAG,KAAK,CAAC,MAAM,CAAC;IACjC,MAAM,UAAU,GAAG,MAAM,CAAC,OAAO,EAAE,CAAC;IACpC,MAAM,SAAS,GAAG,KAAK,CAAC,OAAO,EAAE,CAAC;IAClC,MAAM,SAAS,GAAG,IAAI,KAAK,oBAAoB,CAAC;IAChD,+CAA+C;IAC/C,IACE,CAAC,4BAA4B,CAAC,UAAU,CAAC;QACzC,CAAC,4BAA4B,CAAC,SAAS,CAAC,EACxC,CAAC;QACD,OAAO,KAAK,CAAC;IACf,CAAC;IACD,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;QAClB,oEAAoE;QACpE,iDAAiD;QACjD,IAAI,SAAS,CAAC,WAAW,EAAE,EAAE,CAAC;YAC5B,MAAM,QAAQ,GAAG,UAAU,CAAC,gBAAgB,EAAE,CAAC;YAC/C,IACE,SAAS;gBACT,YAAY,KAAK,CAAC;gBAClB,UAAU,CAAC,kBAAkB,EAAE,KAAK,IAAI,EACxC,CAAC;gBACD,MAAM,eAAe,GAAG,QAAQ,CAAC,kBAAkB,EAAE,CAAC;gBACtD,IAAI,eAAe,KAAK,IAAI,EAAE,CAAC;oBAC7B,QAAQ,CAAC,cAAc,EAAE,CAAC;oBAC1B,KAAK,CAAC,cAAc,EAAE,CAAC;oBACvB,OAAO,IAAI,CAAC;gBACd,CAAC;YACH,CAAC;iBAAM,IACL,CAAC,SAAS;gBACV,YAAY,KAAK,UAAU,CAAC,kBAAkB,EAAE;gBAChD,UAAU,CAAC,cAAc,EAAE,KAAK,IAAI,EACpC,CAAC;gBACD,MAAM,eAAe,GAAG,QAAQ,CAAC,cAAc,EAAE,CAAC;gBAClD,IAAI,eAAe,KAAK,IAAI,EAAE,CAAC;oBAC7B,QAAQ,CAAC,UAAU,EAAE,CAAC;oBACtB,KAAK,CAAC,cAAc,EAAE,CAAC;oBACvB,OAAO,IAAI,CAAC;gBACd,CAAC;YACH,CAAC;QACH,CAAC;QACD,OAAO,KAAK,CAAC;IACf,CAAC;IACD,MAAM,KAAK,GAAG,uCAAuC,CAAC,UAAU,CAAC,CAAC;IAClE,MAAM,GAAG,GAAG,sCAAsC,CAAC,SAAS,CAAC,CAAC;IAC9D,IAAI,KAAK,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;QACjC,OAAO,KAAK,CAAC;IACf,CAAC;IACD,MAAM,KAAK,GAAG,KAAK,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;IACzC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;QACtC,MAAM,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;QACtB,IAAI,CAAC,4BAA4B,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,CAAC;YACnE,OAAO,KAAK,CAAC;QACf,CAAC;IACH,CAAC;IACD,yFAAyF;IACzF,mFAAmF;IACnF,+BAA+B;IAC/B,KAAK,CAAC,cAAc,EAAE,CAAC;IACvB,KAAK,CAAC,eAAe,EAAE,CAAC,CAAC,iDAAiD;IAC1E,MAAM,SAAS,GAAG,SAAS;QACzB,CAAC,CAAC,KAAK,CAAC,kBAAkB,EAAE;QAC5B,CAAC,CAAC,GAAG,CAAC,cAAc,EAAE,CAAC;IACzB,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,EAAE,CAAC;QACjC,OAAO,IAAI,CAAC;IACd,CAAC;IACD,MAAM,OAAO,GAAG,SAAS;QACvB,CAAC,CAAC,SAAS,CAAC,kBAAkB,EAAE;QAChC,CAAC,CAAC,SAAS,CAAC,cAAc,EAAE,CAAC;IAC/B,IAAI,OAAO,IAAI,IAAI,EAAE,CAAC;QACpB,OAAO,IAAI,CAAC;IACd,CAAC;IACD,MAAM,mBAAmB,GAAG,SAAS;QACnC,CAAC,CAAC,uCAAuC,CAAC,OAAO,CAAC;QAClD,CAAC,CAAC,sCAAsC,CAAC,OAAO,CAAC,CAAC;IACpD,IAAI,cAAc,GAChB,mBAAmB,IAAI,IAAI,CAAC,CAAC,CAAC,mBAAmB,CAAC,CAAC,CAAC,OAAO,CAAC;IAC9D,SAAS,CAAC,MAAM,EAAE,CAAC;IACnB,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;IACrC,IAAI,IAAI,KAAK,oBAAoB,EAAE,CAAC;QAClC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,cAAc,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC;QACzD,cAAc,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;IACzC,CAAC;SAAM,CAAC;QACN,cAAc,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;QACtC,cAAc,GAAG,SAAS,CAAC;QAC3B,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YACnB,cAAc,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YACjC,cAAc,GAAG,IAAI,CAAC;QACxB,CAAC,CAAC,CAAC;IACL,CAAC;IACD,SAAS,CAAC,gBAAgB,CAAC,UAAU,EAAE,YAAY,EAAE,SAAS,EAAE,WAAW,CAAC,CAAC;IAC7E,OAAO,IAAI,CAAC;AACd,CAAC;AAED,SAAS,YAAY,CACnB,IAAmC,EACnC,KAAoB;IAEpB,MAAM,SAAS,GAAG,aAAa,EAAE,CAAC;IAClC,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,EAAE,CAAC;QAClC,OAAO,KAAK,CAAC;IACf,CAAC;IACD,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,SAAS,CAAC;IACpC,MAAM,UAAU,GAAG,MAAM,CAAC,OAAO,EAAE,CAAC;IACpC,MAAM,SAAS,GAAG,KAAK,CAAC,OAAO,EAAE,CAAC;IAClC,MAAM,aAAa,GAAG,IAAI,KAAK,aAAa,CAAC;IAC7C,IACE,CAAC,4BAA4B,CAAC,UAAU,CAAC;QACzC,CAAC,4BAA4B,CAAC,SAAS,CAAC,EACxC,CAAC;QACD,OAAO,KAAK,CAAC;IACf,CAAC;IACD,IAAI,IAAI,CAAC;IACT,IAAI,MAAM,CAAC;IACX,IAAI,aAAa,EAAE,CAAC;QAClB,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,oBAAoB,CAAC,SAAS,CAAC,CAAC,CAAC;IACvD,CAAC;SAAM,CAAC;QACN,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,0BAA0B,CAAC,SAAS,CAAC,CAAC,CAAC;IAC7D,CAAC;IACD,IAAI,IAAI,KAAK,IAAI,IAAI,MAAM,KAAK,CAAC,CAAC,EAAE,CAAC;QACnC,SAAS,CAAC,gBAAgB,CAAC,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;IACzD,CAAC;IACD,KAAK,CAAC,cAAc,EAAE,CAAC;IACvB,KAAK,CAAC,eAAe,EAAE,CAAC;IACxB,OAAO,IAAI,CAAC;AACd,CAAC;AAED,MAAM,UAAU,wBAAwB,CAAC,MAAqB;IAC5D,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,gBAAgB,EAAE,yBAAyB,CAAC,CAAC,EAAE,CAAC;QACpE,MAAM,IAAI,KAAK,CACb,6EAA6E,CAC9E,CAAC;IACJ,CAAC;IACD,OAAO,aAAa,CAClB,MAAM,CAAC,wBAAwB,CAAC,gBAAgB,EAAE,SAAS,CAAC,EAAE;QAC5D,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE;YACjB,KAAK,MAAM,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,SAAS,EAAE,CAAC;gBACpC,IAAI,IAAI,KAAK,WAAW,EAAE,CAAC;oBACzB,MAAM,IAAI,GAAG,aAAa,CAAC,GAAG,CAAC,CAAC;oBAChC,IAAI,IAAI,KAAK,IAAI,EAAE,CAAC;wBAClB,gBAAgB,CAAC,IAAwB,EAAE,MAAM,CAAC,CAAC;oBACrD,CAAC;gBACH,CAAC;YACH,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,EACF,MAAM,CAAC,qBAAqB,CAAC,gBAAgB,EAAE,IAAI,CAAC,EAAE,CACpD,iBAAiB,CAAC,IAAI,EAAE,MAAM,CAAC,CAChC,EACD,MAAM,CAAC,qBAAqB,CAAC,QAAQ,EAAE,IAAI,CAAC,EAAE,CAC5C,iBAAiB,CAAC,IAAI,EAAE,MAAM,CAAC,CAChC,EACD,MAAM,CAAC,qBAAqB,CAAC,yBAAyB,EAAE,IAAI,CAAC,EAAE,CAC7D,iBAAiB,CAAC,IAAI,EAAE,MAAM,CAAC,CAChC,EACD,MAAM,CAAC,eAAe,CACpB,sBAAsB,EACtB,CAAC,OAAO,EAAW,EAAE,CAAC,qBAAqB,CAAC,sBAAsB,CAAC,EACnE,oBAAoB,CACrB,EACD,MAAM,CAAC,eAAe,CACpB,uBAAuB,EACvB,CAAC,OAAO,EAAW,EAAE,CAAC,qBAAqB,CAAC,uBAAuB,CAAC,EACpE,oBAAoB,CACrB,EACD,MAAM,CAAC,eAAe,CACpB,oBAAoB,EACpB,CAAC,OAAO,EAAW,EAAE,CAAC,gBAAgB,CAAC,oBAAoB,EAAE,OAAO,CAAC,EACrE,oBAAoB,CACrB,EACD,MAAM,CAAC,eAAe,CACpB,sBAAsB,EACtB,CAAC,OAAO,EAAW,EAAE,CAAC,gBAAgB,CAAC,sBAAsB,EAAE,OAAO,CAAC,EACvE,oBAAoB,CACrB,EACD,MAAM,CAAC,eAAe,CACpB,WAAW,EACX,CAAC,OAAO,EAAW,EAAE,CAAC,YAAY,CAAC,WAAW,EAAE,OAAO,CAAC,EACxD,oBAAoB,CACrB,EACD,MAAM,CAAC,eAAe,CACpB,aAAa,EACb,CAAC,OAAO,EAAW,EAAE,CAAC,YAAY,CAAC,aAAa,EAAE,OAAO,CAAC,EAC1D,oBAAoB,CACrB,CACF,CAAC;AACJ,CAAC"}
\ No newline at end of file
+{"version":3,"file":"JupyterInputHighlighter.js","sourceRoot":"","sources":["../../src/nodes/JupyterInputHighlighter.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterInputNode.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterInputNode.d.ts
index 9253a31..c4392f3 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterInputNode.d.ts
+++ b/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterInputNode.d.ts
@@ -1,17 +1,6 @@
 import type { DOMConversionMap, EditorConfig, LexicalNode, NodeKey, ParagraphNode, RangeSelection, SerializedElementNode, Spread } from 'lexical';
 import { ElementNode } from 'lexical';
 import type { JupyterInputHighlightNode } from './JupyterInputHighlightNode';
-import 'prismjs/components/prism-clike';
-import 'prismjs/components/prism-javascript';
-import 'prismjs/components/prism-markup';
-import 'prismjs/components/prism-markdown';
-import 'prismjs/components/prism-c';
-import 'prismjs/components/prism-css';
-import 'prismjs/components/prism-objectivec';
-import 'prismjs/components/prism-sql';
-import 'prismjs/components/prism-python';
-import 'prismjs/components/prism-rust';
-import 'prismjs/components/prism-swift';
 type SerializedCodeNode = Spread<{
     language: string | null | undefined;
     type: 'jupyter-input';
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterInputNode.js b/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterInputNode.js
index 240d658..c84d47a 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterInputNode.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterInputNode.js
@@ -9,20 +9,10 @@ import { UUID } from '@lumino/coreutils';
 import { $createJupyterInputHighlightNode, getFirstJupyterInputHighlightNodeOfLine, } from './JupyterInputHighlightNode';
 import { INPUT_UUID_TO_CODE_KEY } from '../plugins/JupyterInputOutputPlugin';
 import * as Prism from 'prismjs';
-import 'prismjs/components/prism-clike';
-import 'prismjs/components/prism-javascript';
-import 'prismjs/components/prism-markup';
-import 'prismjs/components/prism-markdown';
-import 'prismjs/components/prism-c';
-import 'prismjs/components/prism-css';
-import 'prismjs/components/prism-objectivec';
-import 'prismjs/components/prism-sql';
-import 'prismjs/components/prism-python';
-import 'prismjs/components/prism-rust';
-import 'prismjs/components/prism-swift';
 const mapToPrismLanguage = (language) => {
+    const prismLangs = Prism?.languages;
     // eslint-disable-next-line no-prototype-builtins
-    return language != null && Prism.languages.hasOwnProperty(language)
+    return language != null && prismLangs && prismLangs.hasOwnProperty(language)
         ? language
         : undefined;
 };
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterInputNode.js.map b/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterInputNode.js.map
index 6786953..25a1161 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterInputNode.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterInputNode.js.map
@@ -1 +1 @@
-{"version":3,"file":"JupyterInputNode.js","sourceRoot":"","sources":["../../src/nodes/JupyterInputNode.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"JupyterInputNode.js","sourceRoot":"","sources":["../../src/nodes/JupyterInputNode.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAaH,OAAO,EACL,oBAAoB,EACpB,oBAAoB,EACpB,aAAa,EACb,iBAAiB,EACjB,WAAW,GACZ,MAAM,SAAS,CAAC;AACjB,OAAO,EAAE,sBAAsB,EAAE,MAAM,gBAAgB,CAAC;AACxD,OAAO,EAAE,IAAI,EAAE,MAAM,mBAAmB,CAAC;AAEzC,OAAO,EACL,gCAAgC,EAChC,uCAAuC,GACxC,MAAM,6BAA6B,CAAC;AACrC,OAAO,EAAE,sBAAsB,EAAE,MAAM,qCAAqC,CAAC;AAE7E,OAAO,KAAK,KAAK,MAAM,SAAS,CAAC;AAYjC,MAAM,kBAAkB,GAAG,CACzB,QAAmC,EACR,EAAE;IAC7B,MAAM,UAAU,GAAI,KAAa,EAAE,SAAS,CAAC;IAC7C,iDAAiD;IACjD,OAAO,QAAQ,IAAI,IAAI,IAAI,UAAU,IAAI,UAAU,CAAC,cAAc,CAAC,QAAQ,CAAC;QAC1E,CAAC,CAAC,QAAQ;QACV,CAAC,CAAC,SAAS,CAAC;AAChB,CAAC,CAAC;AAEF,MAAM,uBAAuB,GAAG,yBAAyB,CAAC;AAE1D,MAAM,OAAO,gBAAiB,SAAQ,WAAW;IAC/C,gBAAgB;IAChB,UAAU,CAA4B;IACtC,sBAAsB,CAAS;IAE/B,MAAM,CAAC,OAAO;QACZ,OAAO,eAAe,CAAC;IACzB,CAAC;IAED,MAAM,CAAC,KAAK,CAAC,IAAsB;QACjC,OAAO,IAAI,gBAAgB,CACzB,IAAI,CAAC,UAAU,EACf,IAAI,CAAC,sBAAsB,EAC3B,IAAI,CAAC,KAAK,CACX,CAAC;IACJ,CAAC;IAED,YACE,QAAoC,EACpC,oBAA6B,EAC7B,GAAa;QAEb,KAAK,CAAC,GAAG,CAAC,CAAC;QACX,IAAI,CAAC,UAAU,GAAG,kBAAkB,CAAC,QAAQ,CAAC,CAAC;QAC/C,IAAI,CAAC,sBAAsB,GAAG,oBAAoB,IAAI,IAAI,CAAC,KAAK,EAAE,CAAC;QACnE,sBAAsB,CAAC,GAAG,CAAC,IAAI,CAAC,sBAAsB,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IACtE,CAAC;IAED,uBAAuB,CAAC,oBAA4B;QAClD,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QAChC,IAAI,CAAC,sBAAsB,GAAG,oBAAoB,CAAC;IACrD,CAAC;IAED,uBAAuB;QACrB,MAAM,IAAI,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;QAC9B,OAAO,IAAI,CAAC,sBAAsB,CAAC;IACrC,CAAC;IAED,OAAO;IACP,SAAS,CAAC,MAAoB;QAC5B,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAC/C,sBAAsB,CAAC,OAAO,EAAE,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACnD,OAAO,CAAC,YAAY,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;QAC5C,MAAM,QAAQ,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QACpC,IAAI,QAAQ,EAAE,CAAC;YACb,OAAO,CAAC,YAAY,CAAC,uBAAuB,EAAE,QAAQ,CAAC,CAAC;QAC1D,CAAC;QACD,OAAO,OAAO,CAAC;IACjB,CAAC;IAED,SAAS,CAAC,QAA0B,EAAE,GAAgB;QACpD,MAAM,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC;QACjC,MAAM,YAAY,GAAG,QAAQ,CAAC,UAAU,CAAC;QACzC,IAAI,QAAQ,EAAE,CAAC;YACb,IAAI,QAAQ,KAAK,YAAY,EAAE,CAAC;gBAC9B,GAAG,CAAC,YAAY,CAAC,uBAAuB,EAAE,QAAQ,CAAC,CAAC;YACtD,CAAC;QACH,CAAC;aAAM,IAAI,YAAY,EAAE,CAAC;YACxB,GAAG,CAAC,eAAe,CAAC,uBAAuB,CAAC,CAAC;QAC/C,CAAC;QACD,OAAO,KAAK,CAAC;IACf,CAAC;IAED,MAAM,CAAC,SAAS;QACd,OAAO;YACL,6EAA6E;YAC7E,wEAAwE;YACxE,8CAA8C;YAC9C,IAAI,EAAE,CAAC,IAAU,EAAE,EAAE;gBACnB,MAAM,WAAW,GACf,IAAI,CAAC,WAAW,IAAI,IAAI,IAAI,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBAC7D,OAAO,WAAW;oBAChB,CAAC,CAAC;wBACE,UAAU,EAAE,iBAAiB;wBAC7B,QAAQ,EAAE,CAAC;qBACZ;oBACH,CAAC,CAAC,IAAI,CAAC;YACX,CAAC;YACD,GAAG,EAAE,CAAC,IAAU,EAAE,EAAE,CAAC,CAAC;gBACpB,UAAU,EAAE,iBAAiB;gBAC7B,QAAQ,EAAE,CAAC;aACZ,CAAC;YACF,GAAG,EAAE,CAAC,IAAU,EAAE,EAAE,CAAC,CAAC;gBACpB,UAAU,EAAE,iBAAiB;gBAC7B,QAAQ,EAAE,CAAC;aACZ,CAAC;YACF,KAAK,EAAE,CAAC,IAAU,EAAE,EAAE;gBACpB,MAAM,KAAK,GAAG,IAAI,CAAC;gBACnB,uDAAuD;gBACvD,IAAI,iBAAiB,CAAC,KAAyB,CAAC,EAAE,CAAC;oBACjD,OAAO;wBACL,UAAU,EAAE,mBAAmB;wBAC/B,QAAQ,EAAE,CAAC;qBACZ,CAAC;gBACJ,CAAC;gBACD,OAAO,IAAI,CAAC;YACd,CAAC;YACD,EAAE,EAAE,CAAC,IAAU,EAAE,EAAE;gBACjB,oDAAoD;gBACpD,MAAM,EAAE,GAAG,IAA4B,CAAC;gBACxC,MAAM,KAAK,GAA4B,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;gBAC3D,IAAI,gBAAgB,CAAC,EAAE,CAAC,EAAE,CAAC;oBACzB,OAAO;wBACL,UAAU,EAAE,uBAAuB;wBACnC,QAAQ,EAAE,CAAC;qBACZ,CAAC;gBACJ,CAAC;gBACD,IAAI,KAAK,IAAI,iBAAiB,CAAC,KAAK,CAAC,EAAE,CAAC;oBACtC,4EAA4E;oBAC5E,qCAAqC;oBACrC,OAAO;wBACL,UAAU,EAAE,eAAe;wBAC3B,QAAQ,EAAE,CAAC;qBACZ,CAAC;gBACJ,CAAC;gBACD,OAAO,IAAI,CAAC;YACd,CAAC;YACD,EAAE,EAAE,CAAC,IAAU,EAAE,EAAE;gBACjB,oDAAoD;gBACpD,MAAM,EAAE,GAAG,IAA4B,CAAC;gBACxC,MAAM,KAAK,GAA4B,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;gBAC3D,IAAI,KAAK,IAAI,iBAAiB,CAAC,KAAK,CAAC,EAAE,CAAC;oBACtC,OAAO;wBACL,UAAU,EAAE,eAAe;wBAC3B,QAAQ,EAAE,CAAC;qBACZ,CAAC;gBACJ,CAAC;gBACD,OAAO,IAAI,CAAC;YACd,CAAC;SACF,CAAC;IACJ,CAAC;IAED,MAAM,CAAC,UAAU,CAAC,cAAkC;QAClD,MAAM,IAAI,GAAG,uBAAuB,CAClC,cAAc,CAAC,QAAQ,EACvB,cAAc,CAAC,oBAAoB,CACpC,CAAC;QACF,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;QACtC,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;QACtC,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;QAC5C,OAAO,IAAI,CAAC;IACd,CAAC;IAED,UAAU;QACR,OAAO;YACL,GAAG,KAAK,CAAC,UAAU,EAAE;YACrB,IAAI,EAAE,eAAe;YACrB,QAAQ,EAAE,IAAI,CAAC,WAAW,EAAE;YAC5B,oBAAoB,EAAE,IAAI,CAAC,uBAAuB,EAAE;YACpD,OAAO,EAAE,CAAC;SACX,CAAC;IACJ,CAAC;IAED,WAAW;IACX,cAAc,CACZ,SAAyB;QAEzB,MAAM,QAAQ,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QACpC,MAAM,cAAc,GAAG,QAAQ,CAAC,MAAM,CAAC;QACvC,IACE,cAAc,IAAI,CAAC;YACnB,QAAQ,CAAC,cAAc,GAAG,CAAC,CAAC,CAAC,cAAc,EAAE,KAAK,IAAI;YACtD,QAAQ,CAAC,cAAc,GAAG,CAAC,CAAC,CAAC,cAAc,EAAE,KAAK,IAAI;YACtD,SAAS,CAAC,WAAW,EAAE;YACvB,SAAS,CAAC,MAAM,CAAC,GAAG,KAAK,IAAI,CAAC,KAAK;YACnC,SAAS,CAAC,MAAM,CAAC,MAAM,KAAK,cAAc,EAC1C,CAAC;YACD,QAAQ,CAAC,cAAc,GAAG,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC;YACtC,QAAQ,CAAC,cAAc,GAAG,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC;YACtC,MAAM,UAAU,GAAG,oBAAoB,EAAE,CAAC;YAC1C,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;YAC7B,OAAO,UAAU,CAAC;QACpB,CAAC;QACD,sEAAsE;QACtE,mEAAmE;QACnE,+DAA+D;QAC/D,MAAM,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;QAC1C,MAAM,SAAS,GAAG,uCAAuC,CAAC,MAAM,CAAC,CAAC;QAClE,IAAI,SAAS,IAAI,IAAI,EAAE,CAAC;YACtB,IAAI,iBAAiB,GAAG,CAAC,CAAC;YAC1B,MAAM,aAAa,GAAG,SAAS,CAAC,cAAc,EAAE,CAAC;YACjD,OACE,iBAAiB,GAAG,aAAa,CAAC,MAAM;gBACxC,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC,EAC9C,CAAC;gBACD,iBAAiB,IAAI,CAAC,CAAC;YACzB,CAAC;YACD,IAAI,iBAAiB,GAAG,CAAC,EAAE,CAAC;gBAC1B,MAAM,UAAU,GAAG,aAAa,CAAC,SAAS,CAAC,CAAC,EAAE,iBAAiB,CAAC,CAAC;gBACjE,MAAM,aAAa,GAAG,gCAAgC,CAAC,UAAU,CAAC,CAAC;gBACnE,MAAM,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;gBAClC,SAAS,CAAC,WAAW,CAAC,CAAC,oBAAoB,EAAE,CAAC,CAAC,CAAC;gBAChD,aAAa,CAAC,MAAM,EAAE,CAAC;gBACvB,OAAO,aAAa,CAAC;YACvB,CAAC;QACH,CAAC;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAED,YAAY;QACV,MAAM,SAAS,GAAG,aAAa,EAAE,CAAC;QAClC,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,EAAE,CAAC;YAC9D,OAAO,KAAK,CAAC;QACf,CAAC;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAED,SAAS;QACP,OAAO,KAAK,CAAC;IACf,CAAC;IAED,eAAe;QACb,MAAM,SAAS,GAAG,oBAAoB,EAAE,CAAC;QACzC,MAAM,QAAQ,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QACpC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;QACnD,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;QACxB,OAAO,IAAI,CAAC;IACd,CAAC;IAED,WAAW,CAAC,QAAgB;QAC1B,MAAM,QAAQ,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QACpC,QAAQ,CAAC,UAAU,GAAG,kBAAkB,CAAC,QAAQ,CAAC,CAAC;IACrD,CAAC;IAED,WAAW;QACT,OAAO,IAAI,CAAC,SAAS,EAAE,CAAC,UAAU,CAAC;IACrC,CAAC;CACF;AAED,MAAM,UAAU,uBAAuB,CACrC,QAAoC,EACpC,oBAA6B;IAE7B,OAAO,IAAI,gBAAgB,CAAC,QAAQ,EAAE,oBAAoB,CAAC,CAAC;AAC9D,CAAC;AAED,MAAM,UAAU,mBAAmB,CACjC,IAAoC;IAEpC,OAAO,IAAI,YAAY,gBAAgB,CAAC;AAC1C,CAAC;AAED,SAAS,iBAAiB,CAAC,OAAa;IACtC,OAAO,EAAE,IAAI,EAAE,uBAAuB,CAAC,QAAQ,CAAC,EAAE,CAAC;AACrD,CAAC;AAED,SAAS,iBAAiB,CAAC,OAAa;IACtC,qDAAqD;IACrD,MAAM,GAAG,GAAG,OAAyB,CAAC;IACtC,OAAO;QACL,KAAK,EAAE,iBAAiB,CAAC,EAAE;YACzB,MAAM,SAAS,GAAG,OAAO,CAAC,UAAU,CAAC;YACrC,IAAI,SAAS,IAAI,IAAI,IAAI,OAAO,KAAK,SAAS,CAAC,SAAS,EAAE,CAAC;gBACzD,iBAAiB,CAAC,IAAI,CAAC,oBAAoB,EAAE,CAAC,CAAC;YACjD,CAAC;YACD,OAAO,iBAAiB,CAAC;QAC3B,CAAC;QACD,IAAI,EAAE,aAAa,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,uBAAuB,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI;KACpE,CAAC;AACJ,CAAC;AAED,SAAS,mBAAmB;IAC1B,OAAO,EAAE,IAAI,EAAE,uBAAuB,CAAC,QAAQ,CAAC,EAAE,CAAC;AACrD,CAAC;AAED,SAAS,eAAe;IACtB,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;AACxB,CAAC;AAED,SAAS,uBAAuB,CAAC,OAAa;IAC5C,oDAAoD;IACpD,MAAM,IAAI,GAAG,OAA+B,CAAC;IAE7C,OAAO;QACL,KAAK,EAAE,iBAAiB,CAAC,EAAE;YACzB,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC;gBACnD,oCAAoC;gBACpC,iBAAiB,CAAC,IAAI,CAAC,oBAAoB,EAAE,CAAC,CAAC;YACjD,CAAC;YACD,OAAO,iBAAiB,CAAC;QAC3B,CAAC;QACD,IAAI,EAAE,IAAI;KACX,CAAC;AACJ,CAAC;AAED,SAAS,aAAa,CAAC,GAAmB;IACxC,OAAO,GAAG,CAAC,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC,WAAW,CAAC,KAAK,IAAI,CAAC;AAC1D,CAAC;AAED,SAAS,gBAAgB,CACvB,IAA0B;IAE1B,OAAO,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;AACjD,CAAC;AAED,SAAS,iBAAiB,CAAC,KAAuB;IAChD,OAAO,KAAK,CAAC,SAAS,CAAC,QAAQ,CAAC,wBAAwB,CAAC,CAAC;AAC5D,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterOutputNode.js b/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterOutputNode.js
index 46cac16..b46395a 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterOutputNode.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterOutputNode.js
@@ -8,7 +8,6 @@ import { DecoratorNode, } from 'lexical';
 import { UUID } from '@lumino/coreutils';
 import { OUTPUT_UUID_TO_CODE_UUID, INPUT_UUID_TO_OUTPUT_KEY, INPUT_UUID_TO_OUTPUT_UUID, OUTPUT_UUID_TO_OUTPUT_KEY, } from '../plugins/JupyterInputOutputPlugin';
 import { Output, OutputAdapter, newUuid, } from '@datalayer/jupyter-react';
-import { createNoKernelWarning } from './jupyterUtils';
 import { isJupyterOutputNodeOrphaned } from './JupyterOutputNodeUtils';
 export class JupyterOutputNode extends DecoratorNode {
     __code;
@@ -116,7 +115,14 @@ export class JupyterOutputNode extends DecoratorNode {
     }
     /** @override */
     decorate(_editor, _config) {
-        return (_jsx(Output, { code: this.getJupyterInput(), outputs: this.__outputs, adapter: this.__outputAdapter, id: this.__jupyterOutputNodeUuid, executeTrigger: this.getExecuteTrigger() + this.__renderTrigger, autoRun: this.__autoRun, lumino: true }));
+        // Try to get fresh outputs from model, but if empty/cleared, use cached __outputs.
+        // NOTE: Avoid mutating node state here; decorate() should remain a pure render.
+        const modelOutputs = this.__outputAdapter?.outputArea?.model?.toJSON();
+        let currentOutputs = this.__outputs || [];
+        if (modelOutputs && modelOutputs.length > 0) {
+            currentOutputs = modelOutputs;
+        }
+        return (_jsx(Output, { code: this.getJupyterInput(), outputs: currentOutputs, adapter: this.__outputAdapter, id: this.__jupyterOutputNodeUuid, executeTrigger: this.getExecuteTrigger() + this.__renderTrigger, autoRun: this.__autoRun, lumino: true }));
     }
     /** @override */
     exportJSON() {
@@ -148,13 +154,8 @@ export class JupyterOutputNode extends DecoratorNode {
         const self = this.getWritable();
         self.__code = code;
         if (!self.__outputAdapter.kernel) {
-            // Show user-facing warning instead of just logging
-            const warningOutput = createNoKernelWarning();
-            // Update BOTH the node's outputs AND the adapter's model
-            self.__outputs = [warningOutput];
-            self.__outputAdapter.setOutputs([warningOutput]);
-            // Force re-render by incrementing renderTrigger
-            self.__renderTrigger++;
+            // CRITICAL: No kernel - do nothing, keep old outputs visible
+            // Don't show warning, don't clear outputs, just return
             return;
         }
         // Execute with kernel
@@ -162,7 +163,12 @@ export class JupyterOutputNode extends DecoratorNode {
     }
     updateKernel(kernel) {
         const self = this.getWritable();
-        self.__outputAdapter.kernel = kernel;
+        if (self.__outputAdapter) {
+            self.__outputAdapter.kernel = kernel;
+            // Force Output component to re-render with updated kernel
+            self.__renderTrigger++;
+            // Don't clear outputs - keep old execution results visible
+        }
     }
 }
 export function $createJupyterOutputNode(code, outputAdapter, outputs, autoRun, jupyterInputNodeUuid, jupyterOutputNodeUuid) {
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterOutputNode.js.map b/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterOutputNode.js.map
index f5d8c39..2701207 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterOutputNode.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/nodes/JupyterOutputNode.js.map
@@ -1 +1 @@
-{"version":3,"file":"JupyterOutputNode.js","sourceRoot":"","sources":["../../src/nodes/JupyterOutputNode.tsx"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"JupyterOutputNode.js","sourceRoot":"","sources":["../../src/nodes/JupyterOutputNode.tsx"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/nodes/index.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/nodes/index.d.ts
index 5639252..38817cf 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/nodes/index.d.ts
+++ b/node_modules/@datalayer/jupyter-lexical/lib/nodes/index.d.ts
@@ -1,3 +1,4 @@
+export * from './CommentThreadNode';
 export * from './CounterNode';
 export * from './EquationNode';
 export * from './ImageNode';
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/nodes/index.js b/node_modules/@datalayer/jupyter-lexical/lib/nodes/index.js
index e4031a7..6a78646 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/nodes/index.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/nodes/index.js
@@ -3,6 +3,7 @@
  *
  * MIT License
  */
+export * from './CommentThreadNode';
 export * from './CounterNode';
 export * from './EquationNode';
 export * from './ImageNode';
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/nodes/index.js.map b/node_modules/@datalayer/jupyter-lexical/lib/nodes/index.js.map
index db19697..992f021 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/nodes/index.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/nodes/index.js.map
@@ -1 +1 @@
-{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/nodes/index.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAEH,cAAc,eAAe,CAAC;AAC9B,cAAc,gBAAgB,CAAC;AAC/B,cAAc,aAAa,CAAC;AAC5B,cAAc,6BAA6B,CAAC;AAC5C,cAAc,2BAA2B,CAAC;AAC1C,cAAc,oBAAoB,CAAC;AACnC,cAAc,qBAAqB,CAAC;AACpC,cAAc,mBAAmB,CAAC;AAClC,cAAc,eAAe,CAAC;AAC9B,cAAc,wBAAwB,CAAC"}
\ No newline at end of file
+{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/nodes/index.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAEH,cAAc,qBAAqB,CAAC;AACpC,cAAc,eAAe,CAAC;AAC9B,cAAc,gBAAgB,CAAC;AAC/B,cAAc,aAAa,CAAC;AAC5B,cAAc,6BAA6B,CAAC;AAC5C,cAAc,2BAA2B,CAAC;AAC1C,cAAc,oBAAoB,CAAC;AACnC,cAAc,qBAAqB,CAAC;AACpC,cAAc,mBAAmB,CAAC;AAClC,cAAc,eAAe,CAAC;AAC9B,cAAc,wBAAwB,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/nodes/jupyterUtils.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/nodes/jupyterUtils.d.ts
index d8585ea..b783632 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/nodes/jupyterUtils.d.ts
+++ b/node_modules/@datalayer/jupyter-lexical/lib/nodes/jupyterUtils.d.ts
@@ -1,8 +1,8 @@
 import type { IOutput } from '@jupyterlab/nbformat';
 /**
- * Creates a warning output message for when no kernel is connected.
- * This message is shown to users when they try to execute code without a kernel.
+ * Creates a warning output message for when no runtime is connected.
+ * This message is shown to users when they try to execute code without a runtime.
  *
  * @returns IOutput object containing the warning message
  */
-export declare function createNoKernelWarning(): IOutput;
+export declare function createNoRuntimeWarning(): IOutput;
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/nodes/jupyterUtils.js b/node_modules/@datalayer/jupyter-lexical/lib/nodes/jupyterUtils.js
index 65172d1..2e609d0 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/nodes/jupyterUtils.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/nodes/jupyterUtils.js
@@ -4,16 +4,18 @@
  * MIT License
  */
 /**
- * Creates a warning output message for when no kernel is connected.
- * This message is shown to users when they try to execute code without a kernel.
+ * Creates a warning output message for when no runtime is connected.
+ * This message is shown to users when they try to execute code without a runtime.
  *
  * @returns IOutput object containing the warning message
  */
-export function createNoKernelWarning() {
+export function createNoRuntimeWarning() {
     return {
         output_type: 'stream',
         name: 'stderr',
-        text: ['  No kernel connected. Please connect to execute code.\n'],
+        text: [
+            '  No runtime connected. Please connect to a runtime to execute code.\n',
+        ],
     };
 }
 //# sourceMappingURL=jupyterUtils.js.map
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/nodes/jupyterUtils.js.map b/node_modules/@datalayer/jupyter-lexical/lib/nodes/jupyterUtils.js.map
index 71f8b19..01af65b 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/nodes/jupyterUtils.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/nodes/jupyterUtils.js.map
@@ -1 +1 @@
-{"version":3,"file":"jupyterUtils.js","sourceRoot":"","sources":["../../src/nodes/jupyterUtils.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAIH;;;;;GAKG;AACH,MAAM,UAAU,qBAAqB;IACnC,OAAO;QACL,WAAW,EAAE,QAAQ;QACrB,IAAI,EAAE,QAAQ;QACd,IAAI,EAAE,CAAC,4DAA4D,CAAC;KACrE,CAAC;AACJ,CAAC"}
\ No newline at end of file
+{"version":3,"file":"jupyterUtils.js","sourceRoot":"","sources":["../../src/nodes/jupyterUtils.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAIH;;;;;GAKG;AACH,MAAM,UAAU,sBAAsB;IACpC,OAAO;QACL,WAAW,EAAE,QAAQ;QACrB,IAAI,EAAE,QAAQ;QACd,IAAI,EAAE;YACJ,0EAA0E;SAC3E;KACF,CAAC;AACJ,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/plugins/AutoIndentPlugin.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/plugins/AutoIndentPlugin.d.ts
new file mode 100644
index 0000000..0e7ceae
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/plugins/AutoIndentPlugin.d.ts
@@ -0,0 +1,23 @@
+import type { AutoIndentOptions } from '../autoindent/types';
+export interface AutoIndentPluginProps extends AutoIndentOptions {
+    /** Enable the plugin (default: true) */
+    enabled?: boolean;
+}
+/**
+ * AutoIndent Plugin for Lexical Editor
+ *
+ * Provides intelligent, language-aware code indentation:
+ * - Tab inserts language-specific spaces (Python=4, JavaScript=2)
+ * - Enter automatically indents based on line context
+ * - Supports Python colon indentation, JavaScript brace indentation
+ *
+ * @example
+ * ```tsx
+ * <LexicalComposer>
+ *   <AutoIndentPlugin defaultLanguage="python" />
+ *   <RichTextPlugin ... />
+ * </LexicalComposer>
+ * ```
+ */
+export declare function AutoIndentPlugin({ enabled, defaultLanguage, customConfigs, debug, fallbackTabSize, preserveTabs, }: AutoIndentPluginProps): null;
+export default AutoIndentPlugin;
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/plugins/AutoIndentPlugin.js b/node_modules/@datalayer/jupyter-lexical/lib/plugins/AutoIndentPlugin.js
new file mode 100644
index 0000000..1e98e5c
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/plugins/AutoIndentPlugin.js
@@ -0,0 +1,385 @@
+/*
+ * Copyright (c) 2021-2023 Datalayer, Inc.
+ *
+ * MIT License
+ */
+/**
+ * AutoIndent Plugin
+ *
+ * Provides language-aware automatic indentation for code cells.
+ * Overrides default Tab and Enter key behavior with intelligent indentation.
+ *
+ * @module plugins/AutoIndentPlugin
+ */
+import { useEffect, useRef } from 'react';
+import { $getSelection, $isRangeSelection, $isTextNode, COMMAND_PRIORITY_HIGH, INDENT_CONTENT_COMMAND, OUTDENT_CONTENT_COMMAND, KEY_TAB_COMMAND, KEY_ENTER_COMMAND, $createLineBreakNode, } from 'lexical';
+import { useLexicalComposerContext } from '@lexical/react/LexicalComposerContext';
+import { mergeRegister } from '@lexical/utils';
+import { AutoIndentEngine } from '../autoindent/AutoIndentEngine';
+import { LanguageIndentRegistry } from '../autoindent/LanguageIndentRegistry';
+import { $isJupyterInputNode, } from '../nodes/JupyterInputNode';
+import { $createJupyterInputHighlightNode } from '../nodes/JupyterInputHighlightNode';
+import { $isInlineCompletionNode } from '../nodes/InlineCompletionNode';
+/**
+ * Check if there's an active inline completion in the given JupyterInputNode
+ * @param parentNode - The JupyterInputNode to check
+ * @returns true if an InlineCompletionNode is found, false otherwise
+ */
+function hasActiveInlineCompletion(parentNode) {
+    const children = parentNode.getChildren();
+    for (const child of children) {
+        if ($isInlineCompletionNode(child)) {
+            return true;
+        }
+    }
+    return false;
+}
+/**
+ * AutoIndent Plugin for Lexical Editor
+ *
+ * Provides intelligent, language-aware code indentation:
+ * - Tab inserts language-specific spaces (Python=4, JavaScript=2)
+ * - Enter automatically indents based on line context
+ * - Supports Python colon indentation, JavaScript brace indentation
+ *
+ * @example
+ * ```tsx
+ * <LexicalComposer>
+ *   <AutoIndentPlugin defaultLanguage="python" />
+ *   <RichTextPlugin ... />
+ * </LexicalComposer>
+ * ```
+ */
+export function AutoIndentPlugin({ enabled = true, defaultLanguage = 'python', customConfigs = [], debug = false, fallbackTabSize = 4, preserveTabs = false, }) {
+    const [editor] = useLexicalComposerContext();
+    // Create registry and engine (stable references)
+    const registryRef = useRef();
+    const engineRef = useRef();
+    if (!registryRef.current) {
+        registryRef.current = new LanguageIndentRegistry({
+            defaultLanguage,
+            customConfigs,
+            debug,
+            fallbackTabSize,
+            preserveTabs,
+        });
+    }
+    if (!engineRef.current) {
+        engineRef.current = new AutoIndentEngine(registryRef.current, debug);
+    }
+    const engine = engineRef.current;
+    useEffect(() => {
+        if (!enabled) {
+            return;
+        }
+        return mergeRegister(
+        // Handle Tab key press (KEY_TAB_COMMAND)
+        editor.registerCommand(KEY_TAB_COMMAND, (event) => {
+            const selection = $getSelection();
+            if (!$isRangeSelection(selection)) {
+                return false;
+            }
+            // Check if we're inside a JupyterInputNode
+            const anchorNode = selection.anchor.getNode();
+            const parentCodeBlock = getParentJupyterInputNode(anchorNode);
+            if (!parentCodeBlock) {
+                // Not in code block, let default Tab behavior happen
+                return false;
+            }
+            // CRITICAL: Check for active inline completion first!
+            // If there's a completion suggestion, let inline completion plugin handle Tab
+            if (hasActiveInlineCompletion(parentCodeBlock)) {
+                return false; // Let LexicalInlineCompletionPlugin accept the suggestion
+            }
+            // Prevent default Tab behavior (focus navigation)
+            event?.preventDefault();
+            // Get language from parent JupyterInputNode
+            const language = parentCodeBlock.getLanguage() || defaultLanguage;
+            // Get tab string for language
+            const tabString = engine.getTabString(language);
+            if (debug) {
+                console.log(`[AutoIndentPlugin] Tab key pressed - Language: ${language}, inserting: ${JSON.stringify(tabString)}`);
+            }
+            // Insert tab at cursor or indent selected lines
+            if (selection.isCollapsed()) {
+                // Single cursor - insert tab
+                selection.insertText(tabString);
+            }
+            else {
+                // Multi-line selection - indent all lines
+                indentSelectedLines(selection, tabString);
+            }
+            return true; // Handled - prevent default behavior
+        }, COMMAND_PRIORITY_HIGH), 
+        // Handle INDENT_CONTENT_COMMAND (for toolbar buttons, Cmd+])
+        editor.registerCommand(INDENT_CONTENT_COMMAND, () => {
+            const selection = $getSelection();
+            if (!$isRangeSelection(selection)) {
+                return false;
+            }
+            // Get language from parent JupyterInputNode
+            const language = getLanguageFromSelection(selection);
+            // Get tab string for language
+            const tabString = engine.getTabString(language);
+            if (debug) {
+                console.log(`[AutoIndentPlugin] INDENT_CONTENT_COMMAND - Language: ${language}, inserting: ${JSON.stringify(tabString)}`);
+            }
+            // Insert tab at cursor or indent selected lines
+            if (selection.isCollapsed()) {
+                // Single cursor - insert tab
+                selection.insertText(tabString);
+            }
+            else {
+                // Multi-line selection - indent all lines
+                indentSelectedLines(selection, tabString);
+            }
+            return true; // Prevent default behavior
+        }, COMMAND_PRIORITY_HIGH), 
+        // Handle Enter key press (KEY_ENTER_COMMAND) for autoindent
+        editor.registerCommand(KEY_ENTER_COMMAND, (event) => {
+            const selection = $getSelection();
+            if (!$isRangeSelection(selection)) {
+                return false;
+            }
+            // Check if we're inside a JupyterInputNode
+            const anchorNode = selection.anchor.getNode();
+            const parentCodeBlock = getParentJupyterInputNode(anchorNode);
+            if (!parentCodeBlock) {
+                // Not in code block, use default behavior
+                return false;
+            }
+            // Skip if Shift+Enter (that's for code execution)
+            if (event?.shiftKey) {
+                return false;
+            }
+            // Prevent default Enter behavior
+            event?.preventDefault();
+            const language = parentCodeBlock.getLanguage() || defaultLanguage;
+            // Get current line text
+            const currentLine = getCurrentLineText(selection);
+            const trimmedLine = currentLine.trim();
+            const isEmptyLine = trimmedLine.length === 0;
+            if (debug) {
+                console.log(`[AutoIndentPlugin] Enter key pressed in ${language} cell - Current line: "${currentLine}", isEmpty: ${isEmptyLine}`);
+            }
+            let indentSpaces;
+            // For empty lines, preserve current indentation
+            // For non-empty lines, calculate based on content
+            if (isEmptyLine) {
+                if (debug) {
+                    console.log(`[AutoIndentPlugin] Empty line detected - about to clear whitespace`);
+                }
+                // Clear whitespace from current line before moving to next
+                clearCurrentLineWhitespace(selection, debug);
+                // Preserve current line's indentation for new line
+                indentSpaces = engine.getLeadingWhitespace(currentLine).length;
+                if (debug) {
+                    console.log(`[AutoIndentPlugin] Empty line - cleared whitespace, preserving ${indentSpaces} spaces for new line`);
+                }
+            }
+            else {
+                // Calculate indentation for new line based on current line content
+                const indentResult = engine.calculateIndent({
+                    currentLine,
+                    language,
+                    currentIndent: engine.getLeadingWhitespace(currentLine).length,
+                });
+                indentSpaces = indentResult.spaces;
+                if (debug) {
+                    console.log(`[AutoIndentPlugin] Indent result:`, indentResult);
+                }
+            }
+            // Insert line break
+            selection.insertNodes([$createLineBreakNode()]);
+            // Insert indentation
+            if (indentSpaces > 0) {
+                const indentText = ' '.repeat(indentSpaces);
+                const indentNode = $createJupyterInputHighlightNode(indentText);
+                selection.insertNodes([indentNode]);
+                if (debug) {
+                    console.log(`[AutoIndentPlugin] Inserted ${indentSpaces} spaces`);
+                }
+            }
+            return true; // Handled - prevent default behavior
+        }, COMMAND_PRIORITY_HIGH), 
+        // Handle Shift+Tab (outdent)
+        editor.registerCommand(OUTDENT_CONTENT_COMMAND, () => {
+            const selection = $getSelection();
+            if (!$isRangeSelection(selection)) {
+                return false;
+            }
+            const language = getLanguageFromSelection(selection);
+            const tabSize = engine.getTabSize(language);
+            // Outdent selected lines
+            outdentSelectedLines(selection, tabSize);
+            return true; // Prevent default behavior
+        }, COMMAND_PRIORITY_HIGH));
+    }, [editor, enabled, defaultLanguage, debug]);
+    return null;
+}
+/**
+ * Get language from current selection context
+ */
+function getLanguageFromSelection(selection) {
+    if (!$isRangeSelection(selection)) {
+        return null;
+    }
+    const anchorNode = selection.anchor.getNode();
+    const parentCodeBlock = getParentJupyterInputNode(anchorNode);
+    return parentCodeBlock?.getLanguage() || 'python';
+}
+/**
+ * Get parent JupyterInputNode from a node
+ */
+function getParentJupyterInputNode(node) {
+    let current = node;
+    while (current) {
+        if ($isJupyterInputNode(current)) {
+            return current;
+        }
+        current = current.getParent();
+    }
+    return null;
+}
+/**
+ * Get current line text from selection
+ * Collects all text from the start of the line (after previous linebreak) to cursor
+ */
+function getCurrentLineText(selection) {
+    if (!$isRangeSelection(selection)) {
+        return '';
+    }
+    const anchorNode = selection.anchor.getNode();
+    let currentNode = anchorNode;
+    // Collect all text nodes on the current line (backwards from cursor)
+    const lineTextParts = [];
+    // If anchor is a text node, include its content
+    if ($isTextNode(currentNode)) {
+        lineTextParts.unshift(currentNode.getTextContent());
+        currentNode = currentNode.getPreviousSibling();
+    }
+    else {
+        // If anchor is not a text node, start from previous sibling
+        currentNode = currentNode.getPreviousSibling();
+    }
+    // Walk backwards collecting text until we hit a linebreak or null
+    while (currentNode) {
+        if (currentNode.getType() === 'linebreak') {
+            break;
+        }
+        if ($isTextNode(currentNode)) {
+            lineTextParts.unshift(currentNode.getTextContent());
+        }
+        currentNode = currentNode.getPreviousSibling();
+    }
+    return lineTextParts.join('');
+}
+/**
+ * Clear whitespace from current line if it's empty
+ * Removes trailing spaces from empty indented lines
+ */
+function clearCurrentLineWhitespace(selection, debug = false) {
+    if (!$isRangeSelection(selection)) {
+        if (debug) {
+            console.log('[clearCurrentLineWhitespace] Not a range selection');
+        }
+        return;
+    }
+    const anchorNode = selection.anchor.getNode();
+    let currentNode = anchorNode;
+    if (debug) {
+        console.log('[clearCurrentLineWhitespace] Starting with anchor node:', {
+            type: anchorNode.getType(),
+            isTextNode: $isTextNode(anchorNode),
+            content: $isTextNode(anchorNode) ? anchorNode.getTextContent() : 'N/A',
+        });
+    }
+    // Collect all text nodes on the current line
+    const lineNodes = [];
+    // If anchor is a text node, include it
+    if ($isTextNode(currentNode)) {
+        lineNodes.push(currentNode);
+        currentNode = currentNode.getPreviousSibling();
+    }
+    else {
+        currentNode = currentNode.getPreviousSibling();
+    }
+    // Walk backwards collecting text nodes until we hit a linebreak
+    while (currentNode) {
+        if (currentNode.getType() === 'linebreak') {
+            if (debug) {
+                console.log('[clearCurrentLineWhitespace] Hit linebreak, stopping');
+            }
+            break;
+        }
+        if ($isTextNode(currentNode)) {
+            lineNodes.unshift(currentNode);
+        }
+        currentNode = currentNode.getPreviousSibling();
+    }
+    if (debug) {
+        console.log(`[clearCurrentLineWhitespace] Found ${lineNodes.length} text nodes to clear`);
+        lineNodes.forEach((node, i) => {
+            if ($isTextNode(node)) {
+                console.log(`[clearCurrentLineWhitespace]   Node ${i}: "${node.getTextContent()}"`);
+            }
+        });
+    }
+    // Clear all text nodes (they're all whitespace if we got here)
+    let clearedCount = 0;
+    lineNodes.forEach(node => {
+        if ($isTextNode(node)) {
+            node.setTextContent('');
+            clearedCount++;
+        }
+    });
+    if (debug) {
+        console.log(`[clearCurrentLineWhitespace] Cleared ${clearedCount} nodes`);
+    }
+}
+/**
+ * Indent all selected lines
+ */
+function indentSelectedLines(selection, tabString) {
+    if (!$isRangeSelection(selection)) {
+        return;
+    }
+    const nodes = selection.getNodes();
+    nodes.forEach(node => {
+        if ($isTextNode(node)) {
+            const text = node.getTextContent();
+            // Only indent if node is at start of line
+            // Simple heuristic: check if previous sibling is line break or null
+            const prevSibling = node.getPreviousSibling();
+            if (prevSibling === null || prevSibling.getType() === 'linebreak') {
+                node.setTextContent(tabString + text);
+            }
+        }
+    });
+}
+/**
+ * Outdent all selected lines
+ */
+function outdentSelectedLines(selection, tabSize) {
+    if (!$isRangeSelection(selection)) {
+        return;
+    }
+    const nodes = selection.getNodes();
+    nodes.forEach(node => {
+        if ($isTextNode(node)) {
+            const text = node.getTextContent();
+            // Only outdent if node is at start of line
+            const prevSibling = node.getPreviousSibling();
+            if (prevSibling === null || prevSibling.getType() === 'linebreak') {
+                // Remove leading spaces (up to tabSize)
+                const leadingSpaces = text.match(/^ {1,}/)?.[0]?.length || 0;
+                const spacesToRemove = Math.min(leadingSpaces, tabSize);
+                if (spacesToRemove > 0) {
+                    node.setTextContent(text.substring(spacesToRemove));
+                }
+            }
+        }
+    });
+}
+export default AutoIndentPlugin;
+//# sourceMappingURL=AutoIndentPlugin.js.map
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/plugins/AutoIndentPlugin.js.map b/node_modules/@datalayer/jupyter-lexical/lib/plugins/AutoIndentPlugin.js.map
new file mode 100644
index 0000000..a63b6f3
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/plugins/AutoIndentPlugin.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"AutoIndentPlugin.js","sourceRoot":"","sources":["../../src/plugins/AutoIndentPlugin.tsx"],"names":[],"mappings":"AAAA;;;;GAIG;AAEH;;;;;;;GAOG;AAEH,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,MAAM,OAAO,CAAC;AAC1C,OAAO,EACL,aAAa,EACb,iBAAiB,EACjB,WAAW,EACX,qBAAqB,EACrB,sBAAsB,EACtB,uBAAuB,EACvB,eAAe,EACf,iBAAiB,EACjB,oBAAoB,GAErB,MAAM,SAAS,CAAC;AACjB,OAAO,EAAE,yBAAyB,EAAE,MAAM,uCAAuC,CAAC;AAClF,OAAO,EAAE,aAAa,EAAE,MAAM,gBAAgB,CAAC;AAE/C,OAAO,EAAE,gBAAgB,EAAE,MAAM,gCAAgC,CAAC;AAClE,OAAO,EAAE,sBAAsB,EAAE,MAAM,sCAAsC,CAAC;AAE9E,OAAO,EACL,mBAAmB,GAEpB,MAAM,2BAA2B,CAAC;AACnC,OAAO,EAAE,gCAAgC,EAAE,MAAM,oCAAoC,CAAC;AACtF,OAAO,EAAE,uBAAuB,EAAE,MAAM,+BAA+B,CAAC;AAOxE;;;;GAIG;AACH,SAAS,yBAAyB,CAAC,UAA4B;IAC7D,MAAM,QAAQ,GAAG,UAAU,CAAC,WAAW,EAAE,CAAC;IAE1C,KAAK,MAAM,KAAK,IAAI,QAAQ,EAAE,CAAC;QAC7B,IAAI,uBAAuB,CAAC,KAAK,CAAC,EAAE,CAAC;YACnC,OAAO,IAAI,CAAC;QACd,CAAC;IACH,CAAC;IAED,OAAO,KAAK,CAAC;AACf,CAAC;AAED;;;;;;;;;;;;;;;GAeG;AACH,MAAM,UAAU,gBAAgB,CAAC,EAC/B,OAAO,GAAG,IAAI,EACd,eAAe,GAAG,QAAQ,EAC1B,aAAa,GAAG,EAAE,EAClB,KAAK,GAAG,KAAK,EACb,eAAe,GAAG,CAAC,EACnB,YAAY,GAAG,KAAK,GACE;IACtB,MAAM,CAAC,MAAM,CAAC,GAAG,yBAAyB,EAAE,CAAC;IAE7C,iDAAiD;IACjD,MAAM,WAAW,GAAG,MAAM,EAA0B,CAAC;IACrD,MAAM,SAAS,GAAG,MAAM,EAAoB,CAAC;IAE7C,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;QACzB,WAAW,CAAC,OAAO,GAAG,IAAI,sBAAsB,CAAC;YAC/C,eAAe;YACf,aAAa;YACb,KAAK;YACL,eAAe;YACf,YAAY;SACb,CAAC,CAAC;IACL,CAAC;IAED,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;QACvB,SAAS,CAAC,OAAO,GAAG,IAAI,gBAAgB,CAAC,WAAW,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;IACvE,CAAC;IAED,MAAM,MAAM,GAAG,SAAS,CAAC,OAAO,CAAC;IAEjC,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,CAAC,OAAO,EAAE,CAAC;YACb,OAAO;QACT,CAAC;QAED,OAAO,aAAa;QAClB,yCAAyC;QACzC,MAAM,CAAC,eAAe,CACpB,eAAe,EACf,CAAC,KAA2B,EAAE,EAAE;YAC9B,MAAM,SAAS,GAAG,aAAa,EAAE,CAAC;YAElC,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,EAAE,CAAC;gBAClC,OAAO,KAAK,CAAC;YACf,CAAC;YAED,2CAA2C;YAC3C,MAAM,UAAU,GAAG,SAAS,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;YAC9C,MAAM,eAAe,GAAG,yBAAyB,CAAC,UAAU,CAAC,CAAC;YAE9D,IAAI,CAAC,eAAe,EAAE,CAAC;gBACrB,qDAAqD;gBACrD,OAAO,KAAK,CAAC;YACf,CAAC;YAED,sDAAsD;YACtD,8EAA8E;YAC9E,IAAI,yBAAyB,CAAC,eAAe,CAAC,EAAE,CAAC;gBAC/C,OAAO,KAAK,CAAC,CAAC,0DAA0D;YAC1E,CAAC;YAED,kDAAkD;YAClD,KAAK,EAAE,cAAc,EAAE,CAAC;YAExB,4CAA4C;YAC5C,MAAM,QAAQ,GAAG,eAAe,CAAC,WAAW,EAAE,IAAI,eAAe,CAAC;YAElE,8BAA8B;YAC9B,MAAM,SAAS,GAAG,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;YAEhD,IAAI,KAAK,EAAE,CAAC;gBACV,OAAO,CAAC,GAAG,CACT,kDAAkD,QAAQ,gBAAgB,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,CACtG,CAAC;YACJ,CAAC;YAED,gDAAgD;YAChD,IAAI,SAAS,CAAC,WAAW,EAAE,EAAE,CAAC;gBAC5B,6BAA6B;gBAC7B,SAAS,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;YAClC,CAAC;iBAAM,CAAC;gBACN,0CAA0C;gBAC1C,mBAAmB,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;YAC5C,CAAC;YAED,OAAO,IAAI,CAAC,CAAC,qCAAqC;QACpD,CAAC,EACD,qBAAqB,CACtB;QAED,6DAA6D;QAC7D,MAAM,CAAC,eAAe,CACpB,sBAAsB,EACtB,GAAG,EAAE;YACH,MAAM,SAAS,GAAG,aAAa,EAAE,CAAC;YAElC,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,EAAE,CAAC;gBAClC,OAAO,KAAK,CAAC;YACf,CAAC;YAED,4CAA4C;YAC5C,MAAM,QAAQ,GAAG,wBAAwB,CAAC,SAAS,CAAC,CAAC;YAErD,8BAA8B;YAC9B,MAAM,SAAS,GAAG,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;YAEhD,IAAI,KAAK,EAAE,CAAC;gBACV,OAAO,CAAC,GAAG,CACT,yDAAyD,QAAQ,gBAAgB,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE,CAC7G,CAAC;YACJ,CAAC;YAED,gDAAgD;YAChD,IAAI,SAAS,CAAC,WAAW,EAAE,EAAE,CAAC;gBAC5B,6BAA6B;gBAC7B,SAAS,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;YAClC,CAAC;iBAAM,CAAC;gBACN,0CAA0C;gBAC1C,mBAAmB,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;YAC5C,CAAC;YAED,OAAO,IAAI,CAAC,CAAC,2BAA2B;QAC1C,CAAC,EACD,qBAAqB,CACtB;QAED,4DAA4D;QAC5D,MAAM,CAAC,eAAe,CACpB,iBAAiB,EACjB,CAAC,KAA2B,EAAE,EAAE;YAC9B,MAAM,SAAS,GAAG,aAAa,EAAE,CAAC;YAElC,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,EAAE,CAAC;gBAClC,OAAO,KAAK,CAAC;YACf,CAAC;YAED,2CAA2C;YAC3C,MAAM,UAAU,GAAG,SAAS,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;YAC9C,MAAM,eAAe,GAAG,yBAAyB,CAAC,UAAU,CAAC,CAAC;YAE9D,IAAI,CAAC,eAAe,EAAE,CAAC;gBACrB,0CAA0C;gBAC1C,OAAO,KAAK,CAAC;YACf,CAAC;YAED,kDAAkD;YAClD,IAAI,KAAK,EAAE,QAAQ,EAAE,CAAC;gBACpB,OAAO,KAAK,CAAC;YACf,CAAC;YAED,iCAAiC;YACjC,KAAK,EAAE,cAAc,EAAE,CAAC;YAExB,MAAM,QAAQ,GAAG,eAAe,CAAC,WAAW,EAAE,IAAI,eAAe,CAAC;YAElE,wBAAwB;YACxB,MAAM,WAAW,GAAG,kBAAkB,CAAC,SAAS,CAAC,CAAC;YAClD,MAAM,WAAW,GAAG,WAAW,CAAC,IAAI,EAAE,CAAC;YACvC,MAAM,WAAW,GAAG,WAAW,CAAC,MAAM,KAAK,CAAC,CAAC;YAE7C,IAAI,KAAK,EAAE,CAAC;gBACV,OAAO,CAAC,GAAG,CACT,2CAA2C,QAAQ,0BAA0B,WAAW,eAAe,WAAW,EAAE,CACrH,CAAC;YACJ,CAAC;YAED,IAAI,YAAoB,CAAC;YAEzB,gDAAgD;YAChD,kDAAkD;YAClD,IAAI,WAAW,EAAE,CAAC;gBAChB,IAAI,KAAK,EAAE,CAAC;oBACV,OAAO,CAAC,GAAG,CACT,oEAAoE,CACrE,CAAC;gBACJ,CAAC;gBAED,2DAA2D;gBAC3D,0BAA0B,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;gBAE7C,mDAAmD;gBACnD,YAAY,GAAG,MAAM,CAAC,oBAAoB,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC;gBAE/D,IAAI,KAAK,EAAE,CAAC;oBACV,OAAO,CAAC,GAAG,CACT,kEAAkE,YAAY,sBAAsB,CACrG,CAAC;gBACJ,CAAC;YACH,CAAC;iBAAM,CAAC;gBACN,mEAAmE;gBACnE,MAAM,YAAY,GAAG,MAAM,CAAC,eAAe,CAAC;oBAC1C,WAAW;oBACX,QAAQ;oBACR,aAAa,EAAE,MAAM,CAAC,oBAAoB,CAAC,WAAW,CAAC,CAAC,MAAM;iBAC/D,CAAC,CAAC;gBAEH,YAAY,GAAG,YAAY,CAAC,MAAM,CAAC;gBAEnC,IAAI,KAAK,EAAE,CAAC;oBACV,OAAO,CAAC,GAAG,CAAC,mCAAmC,EAAE,YAAY,CAAC,CAAC;gBACjE,CAAC;YACH,CAAC;YAED,oBAAoB;YACpB,SAAS,CAAC,WAAW,CAAC,CAAC,oBAAoB,EAAE,CAAC,CAAC,CAAC;YAEhD,qBAAqB;YACrB,IAAI,YAAY,GAAG,CAAC,EAAE,CAAC;gBACrB,MAAM,UAAU,GAAG,GAAG,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;gBAC5C,MAAM,UAAU,GAAG,gCAAgC,CAAC,UAAU,CAAC,CAAC;gBAChE,SAAS,CAAC,WAAW,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;gBAEpC,IAAI,KAAK,EAAE,CAAC;oBACV,OAAO,CAAC,GAAG,CAAC,+BAA+B,YAAY,SAAS,CAAC,CAAC;gBACpE,CAAC;YACH,CAAC;YAED,OAAO,IAAI,CAAC,CAAC,qCAAqC;QACpD,CAAC,EACD,qBAAqB,CACtB;QAED,6BAA6B;QAC7B,MAAM,CAAC,eAAe,CACpB,uBAAuB,EACvB,GAAG,EAAE;YACH,MAAM,SAAS,GAAG,aAAa,EAAE,CAAC;YAElC,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,EAAE,CAAC;gBAClC,OAAO,KAAK,CAAC;YACf,CAAC;YAED,MAAM,QAAQ,GAAG,wBAAwB,CAAC,SAAS,CAAC,CAAC;YACrD,MAAM,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;YAE5C,yBAAyB;YACzB,oBAAoB,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;YAEzC,OAAO,IAAI,CAAC,CAAC,2BAA2B;QAC1C,CAAC,EACD,qBAAqB,CACtB,CACF,CAAC;IACJ,CAAC,EAAE,CAAC,MAAM,EAAE,OAAO,EAAE,eAAe,EAAE,KAAK,CAAC,CAAC,CAAC;IAE9C,OAAO,IAAI,CAAC;AACd,CAAC;AAED;;GAEG;AACH,SAAS,wBAAwB,CAC/B,SAA2C;IAE3C,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,EAAE,CAAC;QAClC,OAAO,IAAI,CAAC;IACd,CAAC;IAED,MAAM,UAAU,GAAG,SAAS,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;IAC9C,MAAM,eAAe,GAAG,yBAAyB,CAAC,UAAU,CAAC,CAAC;IAE9D,OAAO,eAAe,EAAE,WAAW,EAAE,IAAI,QAAQ,CAAC;AACpD,CAAC;AAED;;GAEG;AACH,SAAS,yBAAyB,CAAC,IAAiB;IAClD,IAAI,OAAO,GAAuB,IAAI,CAAC;IAEvC,OAAO,OAAO,EAAE,CAAC;QACf,IAAI,mBAAmB,CAAC,OAAO,CAAC,EAAE,CAAC;YACjC,OAAO,OAAO,CAAC;QACjB,CAAC;QACD,OAAO,GAAG,OAAO,CAAC,SAAS,EAAE,CAAC;IAChC,CAAC;IAED,OAAO,IAAI,CAAC;AACd,CAAC;AAED;;;GAGG;AACH,SAAS,kBAAkB,CACzB,SAA2C;IAE3C,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,EAAE,CAAC;QAClC,OAAO,EAAE,CAAC;IACZ,CAAC;IAED,MAAM,UAAU,GAAG,SAAS,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;IAC9C,IAAI,WAAW,GAAuB,UAAU,CAAC;IAEjD,qEAAqE;IACrE,MAAM,aAAa,GAAa,EAAE,CAAC;IAEnC,gDAAgD;IAChD,IAAI,WAAW,CAAC,WAAW,CAAC,EAAE,CAAC;QAC7B,aAAa,CAAC,OAAO,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC,CAAC;QACpD,WAAW,GAAG,WAAW,CAAC,kBAAkB,EAAE,CAAC;IACjD,CAAC;SAAM,CAAC;QACN,4DAA4D;QAC5D,WAAW,GAAG,WAAW,CAAC,kBAAkB,EAAE,CAAC;IACjD,CAAC;IAED,kEAAkE;IAClE,OAAO,WAAW,EAAE,CAAC;QACnB,IAAI,WAAW,CAAC,OAAO,EAAE,KAAK,WAAW,EAAE,CAAC;YAC1C,MAAM;QACR,CAAC;QACD,IAAI,WAAW,CAAC,WAAW,CAAC,EAAE,CAAC;YAC7B,aAAa,CAAC,OAAO,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC,CAAC;QACtD,CAAC;QACD,WAAW,GAAG,WAAW,CAAC,kBAAkB,EAAE,CAAC;IACjD,CAAC;IAED,OAAO,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AAChC,CAAC;AAED;;;GAGG;AACH,SAAS,0BAA0B,CACjC,SAA2C,EAC3C,KAAK,GAAG,KAAK;IAEb,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,EAAE,CAAC;QAClC,IAAI,KAAK,EAAE,CAAC;YACV,OAAO,CAAC,GAAG,CAAC,oDAAoD,CAAC,CAAC;QACpE,CAAC;QACD,OAAO;IACT,CAAC;IAED,MAAM,UAAU,GAAG,SAAS,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;IAC9C,IAAI,WAAW,GAAuB,UAAU,CAAC;IAEjD,IAAI,KAAK,EAAE,CAAC;QACV,OAAO,CAAC,GAAG,CAAC,yDAAyD,EAAE;YACrE,IAAI,EAAE,UAAU,CAAC,OAAO,EAAE;YAC1B,UAAU,EAAE,WAAW,CAAC,UAAU,CAAC;YACnC,OAAO,EAAE,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,KAAK;SACvE,CAAC,CAAC;IACL,CAAC;IAED,6CAA6C;IAC7C,MAAM,SAAS,GAAkB,EAAE,CAAC;IAEpC,uCAAuC;IACvC,IAAI,WAAW,CAAC,WAAW,CAAC,EAAE,CAAC;QAC7B,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAC5B,WAAW,GAAG,WAAW,CAAC,kBAAkB,EAAE,CAAC;IACjD,CAAC;SAAM,CAAC;QACN,WAAW,GAAG,WAAW,CAAC,kBAAkB,EAAE,CAAC;IACjD,CAAC;IAED,gEAAgE;IAChE,OAAO,WAAW,EAAE,CAAC;QACnB,IAAI,WAAW,CAAC,OAAO,EAAE,KAAK,WAAW,EAAE,CAAC;YAC1C,IAAI,KAAK,EAAE,CAAC;gBACV,OAAO,CAAC,GAAG,CAAC,sDAAsD,CAAC,CAAC;YACtE,CAAC;YACD,MAAM;QACR,CAAC;QACD,IAAI,WAAW,CAAC,WAAW,CAAC,EAAE,CAAC;YAC7B,SAAS,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;QACjC,CAAC;QACD,WAAW,GAAG,WAAW,CAAC,kBAAkB,EAAE,CAAC;IACjD,CAAC;IAED,IAAI,KAAK,EAAE,CAAC;QACV,OAAO,CAAC,GAAG,CACT,sCAAsC,SAAS,CAAC,MAAM,sBAAsB,CAC7E,CAAC;QACF,SAAS,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE;YAC5B,IAAI,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC;gBACtB,OAAO,CAAC,GAAG,CACT,uCAAuC,CAAC,MAAM,IAAI,CAAC,cAAc,EAAE,GAAG,CACvE,CAAC;YACJ,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,+DAA+D;IAC/D,IAAI,YAAY,GAAG,CAAC,CAAC;IACrB,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;QACvB,IAAI,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC;YACtB,IAAI,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;YACxB,YAAY,EAAE,CAAC;QACjB,CAAC;IACH,CAAC,CAAC,CAAC;IAEH,IAAI,KAAK,EAAE,CAAC;QACV,OAAO,CAAC,GAAG,CAAC,wCAAwC,YAAY,QAAQ,CAAC,CAAC;IAC5E,CAAC;AACH,CAAC;AAED;;GAEG;AACH,SAAS,mBAAmB,CAC1B,SAA2C,EAC3C,SAAiB;IAEjB,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,EAAE,CAAC;QAClC,OAAO;IACT,CAAC;IAED,MAAM,KAAK,GAAG,SAAS,CAAC,QAAQ,EAAE,CAAC;IAEnC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;QACnB,IAAI,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC;YACtB,MAAM,IAAI,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;YAEnC,0CAA0C;YAC1C,oEAAoE;YACpE,MAAM,WAAW,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC9C,IAAI,WAAW,KAAK,IAAI,IAAI,WAAW,CAAC,OAAO,EAAE,KAAK,WAAW,EAAE,CAAC;gBAClE,IAAI,CAAC,cAAc,CAAC,SAAS,GAAG,IAAI,CAAC,CAAC;YACxC,CAAC;QACH,CAAC;IACH,CAAC,CAAC,CAAC;AACL,CAAC;AAED;;GAEG;AACH,SAAS,oBAAoB,CAC3B,SAA2C,EAC3C,OAAe;IAEf,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,EAAE,CAAC;QAClC,OAAO;IACT,CAAC;IAED,MAAM,KAAK,GAAG,SAAS,CAAC,QAAQ,EAAE,CAAC;IAEnC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;QACnB,IAAI,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC;YACtB,MAAM,IAAI,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;YAEnC,2CAA2C;YAC3C,MAAM,WAAW,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC9C,IAAI,WAAW,KAAK,IAAI,IAAI,WAAW,CAAC,OAAO,EAAE,KAAK,WAAW,EAAE,CAAC;gBAClE,wCAAwC;gBACxC,MAAM,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,MAAM,IAAI,CAAC,CAAC;gBAC7D,MAAM,cAAc,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;gBAExD,IAAI,cAAc,GAAG,CAAC,EAAE,CAAC;oBACvB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,CAAC;gBACtD,CAAC;YACH,CAAC;QACH,CAAC;IACH,CAAC,CAAC,CAAC;AACL,CAAC;AAED,eAAe,gBAAgB,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/plugins/CommentPlugin.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/plugins/CommentPlugin.d.ts
index 0c5402a..5b53794 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/plugins/CommentPlugin.d.ts
+++ b/node_modules/@datalayer/jupyter-lexical/lib/plugins/CommentPlugin.d.ts
@@ -2,7 +2,11 @@ import type { LexicalCommand } from 'lexical';
 import type { Doc } from 'yjs';
 import { WebsocketProvider } from 'y-websocket';
 export declare const INSERT_INLINE_COMMAND: LexicalCommand<void>;
-export declare function CommentPlugin({ providerFactory, }: {
+export declare function CommentPlugin({ providerFactory, showCommentsPanel, showFloatingAddButton, showToggleButton, commentsPanelContainer, }: {
     providerFactory?: (id: string, yjsDocMap: Map<string, Doc>) => WebsocketProvider;
+    showCommentsPanel?: boolean;
+    showFloatingAddButton?: boolean;
+    showToggleButton?: boolean;
+    commentsPanelContainer?: HTMLElement;
 }): JSX.Element;
 export default CommentPlugin;
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/plugins/CommentPlugin.js b/node_modules/@datalayer/jupyter-lexical/lib/plugins/CommentPlugin.js
index 274e240..c886ab9 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/plugins/CommentPlugin.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/plugins/CommentPlugin.js
@@ -16,7 +16,7 @@ import { $createMarkNode, $getMarkIDs, $isMarkNode, $unwrapMarkNode, $wrapSelect
 import { LexicalErrorBoundary } from '@lexical/react/LexicalErrorBoundary';
 import { AutoFocusPlugin } from '@lexical/react/LexicalAutoFocusPlugin';
 import { ClearEditorPlugin } from '@lexical/react/LexicalClearEditorPlugin';
-import { useCollaborationContext } from '@lexical/react/LexicalCollaborationContext';
+import { useCollaborationContext } from '@datalayer/lexical-loro';
 import { LexicalComposer } from '@lexical/react/LexicalComposer';
 import { useLexicalComposerContext } from '@lexical/react/LexicalComposerContext';
 import { HistoryPlugin } from '@lexical/react/LexicalHistoryPlugin';
@@ -273,11 +273,12 @@ function CommentsPanel({ activeIDs, deleteCommentOrThread, comments, submitAddCo
 }
 function useCollabAuthorName() {
     const collabContext = useCollaborationContext();
-    const { yjsDocMap, name } = collabContext;
-    return yjsDocMap.has('comments') ? name : 'Playground User';
+    const { name } = collabContext;
+    // Use collaboration username (from Datalayer auth or OS username)
+    // No longer checking yjsDocMap since we're using Loro, not Yjs
+    return name || 'User';
 }
-export function CommentPlugin({ providerFactory, }) {
-    const collabContext = useCollaborationContext();
+export function CommentPlugin({ providerFactory, showCommentsPanel = true, showFloatingAddButton = true, showToggleButton = true, commentsPanelContainer, }) {
     const [editor] = useLexicalComposerContext();
     const commentStore = useMemo(() => new CommentStore(editor), [editor]);
     const comments = useCommentStore(commentStore);
@@ -288,13 +289,10 @@ export function CommentPlugin({ providerFactory, }) {
     const [activeIDs, setActiveIDs] = useState([]);
     const [showCommentInput, setShowCommentInput] = useState(false);
     const [showComments, setShowComments] = useState(false);
-    const { yjsDocMap } = collabContext;
+    // Sync external showCommentsPanel prop with internal showComments state
     useEffect(() => {
-        if (providerFactory) {
-            const provider = providerFactory('comments', yjsDocMap);
-            return commentStore.registerCollaboration(provider);
-        }
-    }, [commentStore, providerFactory, yjsDocMap]);
+        setShowComments(showCommentsPanel);
+    }, [showCommentsPanel]);
     const cancelAddComment = useCallback(() => {
         editor.update(() => {
             const selection = $getSelection();
@@ -470,11 +468,13 @@ export function CommentPlugin({ providerFactory, }) {
         editor.dispatchCommand(INSERT_INLINE_COMMAND, undefined);
     };
     return (_jsxs(_Fragment, { children: [showCommentInput &&
-                createPortal(_jsx(CommentInputBox, { editor: editor, cancelAddComment: cancelAddComment, submitAddComment: submitAddComment }), document.body), activeAnchorKey !== null &&
+                createPortal(_jsx(CommentInputBox, { editor: editor, cancelAddComment: cancelAddComment, submitAddComment: submitAddComment }), document.body), showFloatingAddButton &&
+                activeAnchorKey !== null &&
                 activeAnchorKey !== undefined &&
                 !showCommentInput &&
-                createPortal(_jsx(AddCommentBox, { anchorKey: activeAnchorKey, editor: editor, onAddComment: onAddComment }), document.body), createPortal(_jsx(Button, { className: `CommentPlugin_ShowCommentsButton ${showComments ? 'active' : ''}`, onClick: () => setShowComments(!showComments), title: showComments ? 'Hide Comments' : 'Show Comments', children: _jsx("i", { className: "comments" }) }), document.body), showComments &&
-                createPortal(_jsx(CommentsPanel, { comments: comments, submitAddComment: submitAddComment, deleteCommentOrThread: deleteCommentOrThread, activeIDs: activeIDs, markNodeMap: markNodeMap }), document.body)] }));
+                createPortal(_jsx(AddCommentBox, { anchorKey: activeAnchorKey, editor: editor, onAddComment: onAddComment }), document.body), showToggleButton &&
+                createPortal(_jsx(Button, { className: `CommentPlugin_ShowCommentsButton ${showComments ? 'active' : ''}`, onClick: () => setShowComments(!showComments), title: showComments ? 'Hide Comments' : 'Show Comments', children: _jsx("i", { className: "comments" }) }), document.body), showComments &&
+                createPortal(_jsx(CommentsPanel, { comments: comments, submitAddComment: submitAddComment, deleteCommentOrThread: deleteCommentOrThread, activeIDs: activeIDs, markNodeMap: markNodeMap }), commentsPanelContainer || document.body)] }));
 }
 export default CommentPlugin;
 //# sourceMappingURL=CommentPlugin.js.map
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/plugins/CommentPlugin.js.map b/node_modules/@datalayer/jupyter-lexical/lib/plugins/CommentPlugin.js.map
index b71ce0a..bf72357 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/plugins/CommentPlugin.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/plugins/CommentPlugin.js.map
@@ -1 +1 @@
-{"version":3,"file":"CommentPlugin.js","sourceRoot":"","sources":["../../src/plugins/CommentPlugin.tsx"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"CommentPlugin.js","sourceRoot":"","sources":["../../src/plugins/CommentPlugin.tsx"],"names":[],"mappings":";AAAA;;;;GAIG;AAEH;;;;GAIG;AAEH,OAAO,EAAE,WAAW,EAAE,SAAS,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AAC1E,OAAO,EAAE,YAAY,EAAE,MAAM,WAAW,CAAC;AAOzC,OAAO,EACL,aAAa,EACb,aAAa,EACb,iBAAiB,EACjB,WAAW,EACX,oBAAoB,EACpB,uBAAuB,EACvB,aAAa,EACb,kBAAkB,GACnB,MAAM,SAAS,CAAC;AAEjB,OAAO,EACL,eAAe,EACf,WAAW,EACX,WAAW,EACX,eAAe,EACf,wBAAwB,EACxB,QAAQ,GACT,MAAM,eAAe,CAAC;AACvB,OAAO,EAAE,oBAAoB,EAAE,MAAM,qCAAqC,CAAC;AAC3E,OAAO,EAAE,eAAe,EAAE,MAAM,uCAAuC,CAAC;AACxE,OAAO,EAAE,iBAAiB,EAAE,MAAM,yCAAyC,CAAC;AAC5E,OAAO,EAAE,uBAAuB,EAAE,MAAM,yBAAyB,CAAC;AAClE,OAAO,EAAE,eAAe,EAAE,MAAM,gCAAgC,CAAC;AACjE,OAAO,EAAE,yBAAyB,EAAE,MAAM,uCAAuC,CAAC;AAClF,OAAO,EAAE,aAAa,EAAE,MAAM,qCAAqC,CAAC;AACpE,OAAO,EAAE,cAAc,EAAE,MAAM,sCAAsC,CAAC;AACtE,OAAO,EAAE,eAAe,EAAE,MAAM,uCAAuC,CAAC;AACxE,OAAO,EAAE,cAAc,EAAE,uBAAuB,EAAE,MAAM,oBAAoB,CAAC;AAC7E,OAAO,EAAE,uBAAuB,EAAE,gBAAgB,EAAE,MAAM,eAAe,CAAC;AAC1E,OAAO,EAAE,aAAa,EAAE,6BAA6B,EAAE,MAAM,gBAAgB,CAAC;AAE9E,OAAO,EAGL,YAAY,EACZ,aAAa,EACb,YAAY,EAEZ,eAAe,GAChB,MAAM,eAAe,CAAC;AACvB,OAAO,kBAAkB,MAAM,8BAA8B,CAAC;AAC9D,OAAO,EACL,QAAQ,EACR,MAAM,EACN,sBAAsB,IAAI,eAAe,EACzC,WAAW,GACZ,MAAM,IAAI,CAAC;AACZ,OAAO,EAAE,mBAAmB,IAAI,eAAe,EAAE,MAAM,IAAI,CAAC;AAE5D,MAAM,CAAC,MAAM,qBAAqB,GAAyB,aAAa,EAAE,CAAC;AAE3E,SAAS,aAAa,CAAC,EACrB,SAAS,EACT,MAAM,EACN,YAAY,GAKb;IACC,MAAM,MAAM,GAAG,MAAM,CAAiB,IAAI,CAAC,CAAC;IAE5C,MAAM,cAAc,GAAG,WAAW,CAAC,GAAG,EAAE;QACtC,MAAM,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;QAC/B,MAAM,WAAW,GAAG,MAAM,CAAC,cAAc,EAAE,CAAC;QAC5C,MAAM,aAAa,GAAG,MAAM,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;QAExD,IAAI,OAAO,KAAK,IAAI,IAAI,WAAW,KAAK,IAAI,IAAI,aAAa,KAAK,IAAI,EAAE,CAAC;YACvE,MAAM,EAAE,KAAK,EAAE,GAAG,WAAW,CAAC,qBAAqB,EAAE,CAAC;YACtD,MAAM,EAAE,GAAG,EAAE,GAAG,aAAa,CAAC,qBAAqB,EAAE,CAAC;YACtD,OAAO,CAAC,KAAK,CAAC,IAAI,GAAG,GAAG,KAAK,GAAG,EAAE,IAAI,CAAC;YACvC,OAAO,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,CAAC;QACtC,CAAC;IACH,CAAC,EAAE,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC,CAAC;IAExB,SAAS,CAAC,GAAG,EAAE;QACb,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,cAAc,CAAC,CAAC;QAElD,OAAO,GAAG,EAAE;YACV,MAAM,CAAC,mBAAmB,CAAC,QAAQ,EAAE,cAAc,CAAC,CAAC;QACvD,CAAC,CAAC;IACJ,CAAC,EAAE,CAAC,MAAM,EAAE,cAAc,CAAC,CAAC,CAAC;IAE7B,eAAe,CAAC,GAAG,EAAE;QACnB,cAAc,EAAE,CAAC;IACnB,CAAC,EAAE,CAAC,SAAS,EAAE,MAAM,EAAE,cAAc,CAAC,CAAC,CAAC;IAExC,OAAO,CACL,cAAK,SAAS,EAAC,6BAA6B,EAAC,GAAG,EAAE,MAAM,YACtD,iBACE,SAAS,EAAC,oCAAoC,EAC9C,OAAO,EAAE,YAAY,YAErB,YAAG,SAAS,EAAC,kBAAkB,GAAG,GAC3B,GACL,CACP,CAAC;AACJ,CAAC;AAED,SAAS,eAAe,CAAC,EACvB,SAAS,GAGV;IACC,MAAM,CAAC,MAAM,CAAC,GAAG,yBAAyB,EAAE,CAAC;IAE7C,eAAe,CAAC,GAAG,EAAE;QACnB,SAAS,CAAC,OAAO,GAAG,MAAM,CAAC;QAC3B,OAAO,GAAG,EAAE;YACV,SAAS,CAAC,OAAO,GAAG,IAAI,CAAC;QAC3B,CAAC,CAAC;IACJ,CAAC,EAAE,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC,CAAC;IAExB,OAAO,IAAI,CAAC;AACd,CAAC;AAED,SAAS,mBAAmB,CAAC,EAC3B,QAAQ,GAGT;IACC,MAAM,CAAC,MAAM,CAAC,GAAG,yBAAyB,EAAE,CAAC;IAE7C,SAAS,CAAC,GAAG,EAAE;QACb,OAAO,MAAM,CAAC,eAAe,CAC3B,kBAAkB,EAClB,CAAC,KAAoB,EAAE,EAAE;YACvB,OAAO,QAAQ,CAAC,KAAK,CAAC,CAAC;QACzB,CAAC,EACD,CAAC,CACF,CAAC;IACJ,CAAC,EAAE,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC,CAAC;IAEvB,OAAO,IAAI,CAAC;AACd,CAAC;AAED,SAAS,eAAe,CAAC,EACvB,SAAS,EACT,SAAS,EACT,QAAQ,EACR,QAAQ,EACR,SAAS,EACT,WAAW,GAAG,mBAAmB,GAQlC;IACC,MAAM,aAAa,GAAG;QACpB,SAAS,EAAE,YAAY;QACvB,KAAK,EAAE,EAAE;QACT,OAAO,EAAE,CAAC,KAAY,EAAE,EAAE;YACxB,MAAM,KAAK,CAAC;QACd,CAAC;QACD,KAAK,EAAE,kBAAkB;KAC1B,CAAC;IAEF,OAAO,CACL,KAAC,eAAe,IAAC,aAAa,EAAE,aAAa,YAC3C,eAAK,SAAS,EAAC,6DAA6D,aAC1E,KAAC,eAAe,IACd,eAAe,EAAE,KAAC,eAAe,IAAC,SAAS,EAAE,SAAS,GAAI,EAC1D,WAAW,EAAE,KAAC,WAAW,cAAE,WAAW,GAAe,EACrD,aAAa,EAAE,oBAAoB,GACnC,EACF,KAAC,cAAc,IAAC,QAAQ,EAAE,QAAQ,GAAI,EACtC,KAAC,aAAa,KAAG,EAChB,SAAS,KAAK,KAAK,IAAI,KAAC,eAAe,KAAG,EAC3C,KAAC,mBAAmB,IAAC,QAAQ,EAAE,QAAQ,GAAI,EAC3C,KAAC,iBAAiB,KAAG,EACpB,SAAS,KAAK,SAAS,IAAI,KAAC,eAAe,IAAC,SAAS,EAAE,SAAS,GAAI,IACjE,GACU,CACnB,CAAC;AACJ,CAAC;AAED,SAAS,WAAW,CAClB,UAAkC,EAClC,YAA0C;IAE1C,OAAO,WAAW,CAChB,CAAC,WAAwB,EAAE,OAAsB,EAAE,EAAE;QACnD,WAAW,CAAC,IAAI,CAAC,GAAG,EAAE;YACpB,UAAU,CAAC,gBAAgB,EAAE,CAAC,CAAC;YAC/B,YAAY,CAAC,CAAC,uBAAuB,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC;QACtE,CAAC,CAAC,CAAC;IACL,CAAC,EACD,CAAC,YAAY,EAAE,UAAU,CAAC,CAC3B,CAAC;AACJ,CAAC;AAED,SAAS,eAAe,CAAC,EACvB,MAAM,EACN,gBAAgB,EAChB,gBAAgB,GAQjB;IACC,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;IAC3C,MAAM,CAAC,SAAS,EAAE,YAAY,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;IAClD,MAAM,MAAM,GAAG,MAAM,CAAiB,IAAI,CAAC,CAAC;IAC5C,MAAM,cAAc,GAAG,OAAO,CAC5B,GAAG,EAAE,CAAC,CAAC;QACL,SAAS,EAAE,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;QACxC,QAAQ,EAAE,EAAE;KACb,CAAC,EACF,EAAE,CACH,CAAC;IACF,MAAM,MAAM,GAAG,mBAAmB,EAAE,CAAC;IAErC,MAAM,cAAc,GAAG,WAAW,CAAC,GAAG,EAAE;QACtC,MAAM,CAAC,cAAc,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE;YAChC,MAAM,SAAS,GAAG,aAAa,EAAE,CAAC;YAElC,IAAI,iBAAiB,CAAC,SAAS,CAAC,EAAE,CAAC;gBACjC,MAAM,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC;gBAChC,MAAM,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;gBAC9B,MAAM,KAAK,GAAG,cAAc,CAC1B,MAAM,EACN,MAAM,CAAC,OAAO,EAAE,EAChB,MAAM,CAAC,MAAM,EACb,KAAK,CAAC,OAAO,EAAE,EACf,KAAK,CAAC,MAAM,CACb,CAAC;gBACF,MAAM,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;gBAC/B,IAAI,KAAK,KAAK,IAAI,IAAI,OAAO,KAAK,IAAI,EAAE,CAAC;oBACvC,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,KAAK,CAAC,qBAAqB,EAAE,CAAC;oBAC9D,MAAM,cAAc,GAAG,uBAAuB,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;oBAC9D,IAAI,aAAa,GACf,cAAc,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,KAAK,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC;oBACpE,IAAI,aAAa,GAAG,EAAE,EAAE,CAAC;wBACvB,aAAa,GAAG,EAAE,CAAC;oBACrB,CAAC;oBACD,OAAO,CAAC,KAAK,CAAC,IAAI,GAAG,GAAG,aAAa,IAAI,CAAC;oBAC1C,OAAO,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,MAAM,GAAG,EAAE,IAAI,CAAC;oBACvC,MAAM,oBAAoB,GAAG,cAAc,CAAC,MAAM,CAAC;oBACnD,MAAM,EAAE,SAAS,EAAE,GAAG,cAAc,CAAC;oBACrC,MAAM,QAAQ,GAA2B,cAAc,CAAC,QAAQ,CAAC;oBACjE,MAAM,cAAc,GAAG,QAAQ,CAAC,MAAM,CAAC;oBAEvC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,oBAAoB,EAAE,CAAC,EAAE,EAAE,CAAC;wBAC9C,MAAM,aAAa,GAAG,cAAc,CAAC,CAAC,CAAC,CAAC;wBACxC,IAAI,IAAI,GAAoB,QAAQ,CAAC,CAAC,CAAC,CAAC;wBACxC,IAAI,IAAI,KAAK,SAAS,EAAE,CAAC;4BACvB,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;4BACtC,QAAQ,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;4BACnB,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;wBAC9B,CAAC;wBACD,MAAM,KAAK,GAAG,aAAa,CAAC;wBAC5B,MAAM,KAAK,GAAG,yBAAyB,aAAa,CAAC,GAAG,WAAW,aAAa,CAAC,IAAI,aAAa,aAAa,CAAC,MAAM,YAAY,aAAa,CAAC,KAAK,4BAA4B,KAAK,uCAAuC,CAAC;wBAC9N,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;oBAC7B,CAAC;oBACD,KAAK,IAAI,CAAC,GAAG,cAAc,GAAG,CAAC,EAAE,CAAC,IAAI,oBAAoB,EAAE,CAAC,EAAE,EAAE,CAAC;wBAChE,MAAM,IAAI,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;wBACzB,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;wBAC5B,QAAQ,CAAC,GAAG,EAAE,CAAC;oBACjB,CAAC;gBACH,CAAC;YACH,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC,EAAE,CAAC,MAAM,EAAE,cAAc,CAAC,CAAC,CAAC;IAE7B,eAAe,CAAC,GAAG,EAAE;QACnB,cAAc,EAAE,CAAC;QACjB,MAAM,SAAS,GAAG,cAAc,CAAC,SAAS,CAAC;QAC3C,MAAM,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC;QAC3B,IAAI,IAAI,KAAK,IAAI,EAAE,CAAC;YAClB,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;YAC5B,OAAO,GAAG,EAAE;gBACV,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;YAC9B,CAAC,CAAC;QACJ,CAAC;IACH,CAAC,EAAE,CAAC,cAAc,CAAC,SAAS,EAAE,cAAc,CAAC,CAAC,CAAC;IAE/C,SAAS,CAAC,GAAG,EAAE;QACb,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,cAAc,CAAC,CAAC;QAElD,OAAO,GAAG,EAAE;YACV,MAAM,CAAC,mBAAmB,CAAC,QAAQ,EAAE,cAAc,CAAC,CAAC;QACvD,CAAC,CAAC;IACJ,CAAC,EAAE,CAAC,cAAc,CAAC,CAAC,CAAC;IAErB,MAAM,QAAQ,GAAG,CAAC,KAAoB,EAAW,EAAE;QACjD,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,gBAAgB,EAAE,CAAC;QACnB,OAAO,IAAI,CAAC;IACd,CAAC,CAAC;IAEF,MAAM,aAAa,GAAG,GAAG,EAAE;QACzB,IAAI,SAAS,EAAE,CAAC;YACd,IAAI,KAAK,GAAG,MAAM,CAAC,cAAc,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE;gBAC5C,MAAM,SAAS,GAAG,aAAa,EAAE,CAAC;gBAClC,OAAO,SAAS,KAAK,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;YAC9D,CAAC,CAAC,CAAC;YACH,IAAI,KAAK,CAAC,MAAM,GAAG,GAAG,EAAE,CAAC;gBACvB,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,GAAG,CAAC;YACnC,CAAC;YACD,gBAAgB,CACd,YAAY,CAAC,KAAK,EAAE,CAAC,aAAa,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,CAAC,EACrD,IAAI,CACL,CAAC;QACJ,CAAC;IACH,CAAC,CAAC;IAEF,MAAM,QAAQ,GAAG,WAAW,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC;IAEvD,OAAO,CACL,eAAK,SAAS,EAAC,+BAA+B,EAAC,GAAG,EAAE,MAAM,aACxD,KAAC,eAAe,IACd,SAAS,EAAC,sCAAsC,EAChD,QAAQ,EAAE,QAAQ,EAClB,QAAQ,EAAE,QAAQ,GAClB,EACF,eAAK,SAAS,EAAC,uCAAuC,aACpD,KAAC,MAAM,IACL,OAAO,EAAE,gBAAgB,EACzB,SAAS,EAAC,sCAAsC,uBAGzC,EACT,KAAC,MAAM,IACL,OAAO,EAAE,aAAa,EACtB,QAAQ,EAAE,CAAC,SAAS,EACpB,SAAS,EAAC,8CAA8C,wBAGjD,IACL,IACF,CACP,CAAC;AACJ,CAAC;AAED,SAAS,gBAAgB,CAAC,EACxB,gBAAgB,EAChB,MAAM,EACN,WAAW,GAUZ;IACC,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;IAC3C,MAAM,CAAC,SAAS,EAAE,YAAY,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;IAClD,MAAM,SAAS,GAAG,MAAM,CAAgB,IAAI,CAAC,CAAC;IAC9C,MAAM,MAAM,GAAG,mBAAmB,EAAE,CAAC;IAErC,MAAM,QAAQ,GAAG,WAAW,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC;IAEvD,MAAM,aAAa,GAAG,GAAG,EAAE;QACzB,IAAI,SAAS,EAAE,CAAC;YACd,gBAAgB,CAAC,aAAa,CAAC,OAAO,EAAE,MAAM,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;YAChE,MAAM,MAAM,GAAG,SAAS,CAAC,OAAO,CAAC;YACjC,IAAI,MAAM,KAAK,IAAI,EAAE,CAAC;gBACpB,MAAM,CAAC,eAAe,CAAC,oBAAoB,EAAE,SAAS,CAAC,CAAC;YAC1D,CAAC;QACH,CAAC;IACH,CAAC,CAAC;IAEF,OAAO,CACL,8BACE,KAAC,eAAe,IACd,SAAS,EAAC,oCAAoC,EAC9C,SAAS,EAAE,KAAK,EAChB,QAAQ,EAAE,GAAG,EAAE;oBACb,OAAO,IAAI,CAAC;gBACd,CAAC,EACD,QAAQ,EAAE,QAAQ,EAClB,SAAS,EAAE,SAAS,EACpB,WAAW,EAAE,WAAW,GACxB,EACF,KAAC,MAAM,IACL,SAAS,EAAC,wCAAwC,EAClD,OAAO,EAAE,aAAa,EACtB,QAAQ,EAAE,CAAC,SAAS,YAEpB,YAAG,SAAS,EAAC,MAAM,GAAG,GACf,IACR,CACJ,CAAC;AACJ,CAAC;AAED,SAAS,+BAA+B,CAAC,EACvC,eAAe,EACf,qBAAqB,EACrB,OAAO,EACP,MAAM,GAAG,SAAS,GAWnB;IACC,OAAO,CACL,uEACwC,eAAe,CAAC,IAAI,OAC1D,eAAK,SAAS,EAAC,gBAAgB,aAC7B,KAAC,MAAM,IACL,OAAO,EAAE,GAAG,EAAE;4BACZ,qBAAqB,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;4BAC/C,OAAO,EAAE,CAAC;wBACZ,CAAC,uBAGM,EAAC,GAAG,EACb,KAAC,MAAM,IACL,OAAO,EAAE,GAAG,EAAE;4BACZ,OAAO,EAAE,CAAC;wBACZ,CAAC,uBAGM,IACL,IACL,CACJ,CAAC;AACJ,CAAC;AAED,SAAS,wBAAwB,CAAC,EAChC,OAAO,EACP,aAAa,EACb,MAAM,EACN,GAAG,GAUJ;IACC,MAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,SAAS,GAAG,WAAW,CAAC,GAAG,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC;IAC3E,MAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,EAAE,CAAC,CAAC;IACzC,MAAM,CAAC,KAAK,EAAE,SAAS,CAAC,GAAG,QAAQ,EAAE,CAAC;IAEtC,OAAO,CACL,cAAI,SAAS,EAAC,0CAA0C,aACtD,eAAK,SAAS,EAAC,0CAA0C,aACvD,eAAM,SAAS,EAAC,iDAAiD,YAC9D,OAAO,CAAC,MAAM,GACV,EACP,gBAAM,SAAS,EAAC,+CAA+C,wBAC1D,OAAO,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,IACxD,IACH,EACN,YACE,SAAS,EACP,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,4CAA4C,CAAC,CAAC,CAAC,EAAE,YAGpE,OAAO,CAAC,OAAO,GACd,EACH,CAAC,OAAO,CAAC,OAAO,IAAI,CACnB,8BACE,KAAC,MAAM,IACL,OAAO,EAAE,GAAG,EAAE;4BACZ,SAAS,CAAC,gBAAgB,EAAE,OAAO,CAAC,EAAE,CAAC,CACrC,KAAC,+BAA+B,IAC9B,eAAe,EAAE,OAAO,EACxB,qBAAqB,EAAE,aAAa,EACpC,MAAM,EAAE,MAAM,EACd,OAAO,EAAE,OAAO,GAChB,CACH,CAAC,CAAC;wBACL,CAAC,EACD,SAAS,EAAC,+CAA+C,YAEzD,YAAG,SAAS,EAAC,QAAQ,GAAG,GACjB,EACR,KAAK,IACL,CACJ,IACE,CACN,CAAC;AACJ,CAAC;AAED,SAAS,iBAAiB,CAAC,EACzB,SAAS,EACT,QAAQ,EACR,qBAAqB,EACrB,OAAO,EACP,gBAAgB,EAChB,WAAW,GAeZ;IACC,MAAM,CAAC,MAAM,CAAC,GAAG,yBAAyB,EAAE,CAAC;IAC7C,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;IAC1C,MAAM,CAAC,KAAK,EAAE,SAAS,CAAC,GAAG,QAAQ,EAAE,CAAC;IACtC,MAAM,GAAG,GAAG,OAAO,CACjB,GAAG,EAAE,CACH,IAAI,IAAI,CAAC,kBAAkB,CAAC,IAAI,EAAE;QAChC,aAAa,EAAE,UAAU;QACzB,OAAO,EAAE,MAAM;QACf,KAAK,EAAE,OAAO;KACf,CAAC,EACJ,EAAE,CACH,CAAC;IAEF,SAAS,CAAC,GAAG,EAAE;QACb,yCAAyC;QACzC,MAAM,EAAE,GAAG,UAAU,CAAC,GAAG,EAAE;YACzB,UAAU,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC;QAC1B,CAAC,EAAE,KAAK,CAAC,CAAC;QAEV,OAAO,GAAG,EAAE;YACV,YAAY,CAAC,EAAE,CAAC,CAAC;QACnB,CAAC,CAAC;IACJ,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;IAEd,OAAO,CACL,aAAI,SAAS,EAAC,kCAAkC,EAAC,GAAG,EAAE,OAAO,YAC1D,QAAQ,CAAC,GAAG,CAAC,eAAe,CAAC,EAAE;YAC9B,MAAM,EAAE,GAAG,eAAe,CAAC,EAAE,CAAC;YAC9B,IAAI,eAAe,CAAC,IAAI,KAAK,QAAQ,EAAE,CAAC;gBACtC,MAAM,iBAAiB,GAAG,GAAG,EAAE;oBAC7B,MAAM,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;oBACzC,IACE,YAAY,KAAK,SAAS;wBAC1B,CAAC,SAAS,KAAK,IAAI,IAAI,SAAS,CAAC,OAAO,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,EACpD,CAAC;wBACD,MAAM,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC;wBAC7C,sDAAsD;wBACtD,0CAA0C;wBAC1C,MAAM,CAAC,MAAM,CACX,GAAG,EAAE;4BACH,MAAM,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;4BAChD,MAAM,QAAQ,GAAG,aAAa,CAAW,WAAW,CAAC,CAAC;4BACtD,IAAI,WAAW,CAAC,QAAQ,CAAC,EAAE,CAAC;gCAC1B,QAAQ,CAAC,WAAW,EAAE,CAAC;4BACzB,CAAC;wBACH,CAAC,EACD;4BACE,QAAQ;gCACN,4CAA4C;gCAC5C,IAAI,aAAa,KAAK,IAAI,EAAE,CAAC;oCAC1B,aAA6B,CAAC,KAAK,EAAE,CAAC;gCACzC,CAAC;4BACH,CAAC;yBACF,CACF,CAAC;oBACJ,CAAC;gBACH,CAAC,CAAC;gBAEF,OAAO,CACL,cAEE,OAAO,EAAE,iBAAiB,EAC1B,SAAS,EAAE,2CACT,WAAW,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,EACxC,IAAI,SAAS,CAAC,OAAO,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,EAAE,aAElD,eAAK,SAAS,EAAC,kDAAkD,aAC/D,sBAAY,SAAS,EAAC,+CAA+C,aAClE,IAAI,EACL,yBAAO,eAAe,CAAC,KAAK,GAAQ,IACzB,EAEb,KAAC,MAAM,IACL,OAAO,EAAE,GAAG,EAAE;wCACZ,SAAS,CAAC,eAAe,EAAE,OAAO,CAAC,EAAE,CAAC,CACpC,KAAC,+BAA+B,IAC9B,eAAe,EAAE,eAAe,EAChC,qBAAqB,EAAE,qBAAqB,EAC5C,OAAO,EAAE,OAAO,GAChB,CACH,CAAC,CAAC;oCACL,CAAC,EACD,SAAS,EAAC,+CAA+C,YAEzD,YAAG,SAAS,EAAC,QAAQ,GAAG,GACjB,EACR,KAAK,IACF,EACN,aAAI,SAAS,EAAC,kDAAkD,YAC7D,eAAe,CAAC,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,CACvC,KAAC,wBAAwB,IAEvB,OAAO,EAAE,OAAO,EAChB,aAAa,EAAE,qBAAqB,EACpC,MAAM,EAAE,eAAe,EACvB,GAAG,EAAE,GAAG,IAJH,OAAO,CAAC,EAAE,CAKf,CACH,CAAC,GACC,EACL,cAAK,SAAS,EAAC,gDAAgD,YAC7D,KAAC,gBAAgB,IACf,gBAAgB,EAAE,gBAAgB,EAClC,MAAM,EAAE,eAAe,EACvB,WAAW,EAAC,qBAAqB,GACjC,GACE,KA7CD,EAAE,CA8CJ,CACN,CAAC;YACJ,CAAC;YACD,OAAO,CACL,KAAC,wBAAwB,IAEvB,OAAO,EAAE,eAAe,EACxB,aAAa,EAAE,qBAAqB,EACpC,GAAG,EAAE,GAAG,IAHH,EAAE,CAIP,CACH,CAAC;QACJ,CAAC,CAAC,GACC,CACN,CAAC;AACJ,CAAC;AAED,SAAS,aAAa,CAAC,EACrB,SAAS,EACT,qBAAqB,EACrB,QAAQ,EACR,gBAAgB,EAChB,WAAW,GAcZ;IACC,MAAM,OAAO,GAAG,MAAM,CAAmB,IAAI,CAAC,CAAC;IAC/C,MAAM,OAAO,GAAG,QAAQ,CAAC,MAAM,KAAK,CAAC,CAAC;IAEtC,OAAO,CACL,eAAK,SAAS,EAAC,2CAA2C,aACxD,aAAI,SAAS,EAAC,qCAAqC,yBAAc,EAChE,OAAO,CAAC,CAAC,CAAC,CACT,cAAK,SAAS,EAAC,mCAAmC,4BAAkB,CACrE,CAAC,CAAC,CAAC,CACF,KAAC,iBAAiB,IAChB,SAAS,EAAE,SAAS,EACpB,QAAQ,EAAE,QAAQ,EAClB,qBAAqB,EAAE,qBAAqB,EAC5C,OAAO,EAAE,OAAO,EAChB,gBAAgB,EAAE,gBAAgB,EAClC,WAAW,EAAE,WAAW,GACxB,CACH,IACG,CACP,CAAC;AACJ,CAAC;AAED,SAAS,mBAAmB;IAC1B,MAAM,aAAa,GAAG,uBAAuB,EAAE,CAAC;IAChD,MAAM,EAAE,IAAI,EAAE,GAAG,aAAa,CAAC;IAC/B,kEAAkE;IAClE,+DAA+D;IAC/D,OAAO,IAAI,IAAI,MAAM,CAAC;AACxB,CAAC;AAED,MAAM,UAAU,aAAa,CAAC,EAC5B,eAAe,EACf,iBAAiB,GAAG,IAAI,EACxB,qBAAqB,GAAG,IAAI,EAC5B,gBAAgB,GAAG,IAAI,EACvB,sBAAsB,GAUvB;IACC,MAAM,CAAC,MAAM,CAAC,GAAG,yBAAyB,EAAE,CAAC;IAC7C,MAAM,YAAY,GAAG,OAAO,CAAC,GAAG,EAAE,CAAC,IAAI,YAAY,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;IACvE,MAAM,QAAQ,GAAG,eAAe,CAAC,YAAY,CAAC,CAAC;IAC/C,MAAM,WAAW,GAAG,OAAO,CAA4B,GAAG,EAAE;QAC1D,OAAO,IAAI,GAAG,EAAE,CAAC;IACnB,CAAC,EAAE,EAAE,CAAC,CAAC;IACP,MAAM,CAAC,eAAe,EAAE,kBAAkB,CAAC,GAAG,QAAQ,EAAkB,CAAC;IACzE,MAAM,CAAC,SAAS,EAAE,YAAY,CAAC,GAAG,QAAQ,CAAgB,EAAE,CAAC,CAAC;IAC9D,MAAM,CAAC,gBAAgB,EAAE,mBAAmB,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;IAChE,MAAM,CAAC,YAAY,EAAE,eAAe,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;IAExD,wEAAwE;IACxE,SAAS,CAAC,GAAG,EAAE;QACb,eAAe,CAAC,iBAAiB,CAAC,CAAC;IACrC,CAAC,EAAE,CAAC,iBAAiB,CAAC,CAAC,CAAC;IAExB,MAAM,gBAAgB,GAAG,WAAW,CAAC,GAAG,EAAE;QACxC,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE;YACjB,MAAM,SAAS,GAAG,aAAa,EAAE,CAAC;YAClC,oBAAoB;YACpB,IAAI,SAAS,KAAK,IAAI,EAAE,CAAC;gBACvB,SAAS,CAAC,KAAK,GAAG,IAAI,CAAC;YACzB,CAAC;QACH,CAAC,CAAC,CAAC;QACH,mBAAmB,CAAC,KAAK,CAAC,CAAC;IAC7B,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;IAEb,MAAM,qBAAqB,GAAG,WAAW,CACvC,CAAC,OAAyB,EAAE,MAAe,EAAE,EAAE;QAC7C,IAAI,OAAO,CAAC,IAAI,KAAK,SAAS,EAAE,CAAC;YAC/B,MAAM,YAAY,GAAG,YAAY,CAAC,qBAAqB,CACrD,OAAO,EACP,MAAM,CACP,CAAC;YACF,IAAI,CAAC,YAAY;gBAAE,OAAO;YAC1B,MAAM,EAAE,aAAa,EAAE,KAAK,EAAE,GAAG,YAAY,CAAC;YAC9C,YAAY,CAAC,UAAU,CAAC,aAAa,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;QACxD,CAAC;aAAM,CAAC;YACN,YAAY,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC;YAC5C,mCAAmC;YACnC,MAAM,EAAE,GAAG,MAAM,KAAK,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;YACzD,MAAM,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;YACzC,IAAI,YAAY,KAAK,SAAS,EAAE,CAAC;gBAC/B,kDAAkD;gBAClD,UAAU,CAAC,GAAG,EAAE;oBACd,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE;wBACjB,KAAK,MAAM,GAAG,IAAI,YAAY,EAAE,CAAC;4BAC/B,MAAM,IAAI,GAAoB,aAAa,CAAC,GAAG,CAAC,CAAC;4BACjD,IAAI,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC;gCACtB,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;gCAClB,IAAI,IAAI,CAAC,MAAM,EAAE,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;oCAC/B,eAAe,CAAC,IAAI,CAAC,CAAC;gCACxB,CAAC;4BACH,CAAC;wBACH,CAAC;oBACH,CAAC,CAAC,CAAC;gBACL,CAAC,CAAC,CAAC;YACL,CAAC;QACH,CAAC;IACH,CAAC,EACD,CAAC,YAAY,EAAE,MAAM,EAAE,WAAW,CAAC,CACpC,CAAC;IAEF,MAAM,gBAAgB,GAAG,WAAW,CAClC,CACE,eAAiC,EACjC,eAAwB,EACxB,MAAe,EACf,EAAE;QACF,YAAY,CAAC,UAAU,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;QACjD,IAAI,eAAe,EAAE,CAAC;YACpB,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE;gBACjB,MAAM,SAAS,GAAG,aAAa,EAAE,CAAC;gBAClC,IAAI,iBAAiB,CAAC,SAAS,CAAC,EAAE,CAAC;oBACjC,MAAM,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;oBAC9B,MAAM,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC;oBAChC,MAAM,UAAU,GAAG,SAAS,CAAC,UAAU,EAAE,CAAC;oBAC1C,MAAM,EAAE,GAAG,eAAe,CAAC,EAAE,CAAC;oBAE9B,6BAA6B;oBAC7B,wBAAwB,CAAC,SAAS,EAAE,UAAU,EAAE,EAAE,CAAC,CAAC;oBAEpD,sCAAsC;oBACtC,IAAI,UAAU,EAAE,CAAC;wBACf,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC;oBACpD,CAAC;yBAAM,CAAC;wBACN,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,EAAE,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;oBAClD,CAAC;gBACH,CAAC;YACH,CAAC,CAAC,CAAC;YACH,mBAAmB,CAAC,KAAK,CAAC,CAAC;QAC7B,CAAC;IACH,CAAC,EACD,CAAC,YAAY,EAAE,MAAM,CAAC,CACvB,CAAC;IAEF,SAAS,CAAC,GAAG,EAAE;QACb,MAAM,YAAY,GAAuB,EAAE,CAAC;QAC5C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YAC1C,MAAM,EAAE,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;YACxB,MAAM,IAAI,GAAG,WAAW,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;YACjC,IAAI,IAAI,KAAK,SAAS,EAAE,CAAC;gBACvB,KAAK,MAAM,GAAG,IAAI,IAAI,EAAE,CAAC;oBACvB,MAAM,IAAI,GAAG,MAAM,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;oBACzC,IAAI,IAAI,KAAK,IAAI,EAAE,CAAC;wBAClB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;wBAC/B,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBACxB,eAAe,CAAC,IAAI,CAAC,CAAC;oBACxB,CAAC;gBACH,CAAC;YACH,CAAC;QACH,CAAC;QACD,OAAO,GAAG,EAAE;YACV,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,YAAY,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC7C,MAAM,WAAW,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC;gBACpC,WAAW,CAAC,SAAS,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;YAC3C,CAAC;QACH,CAAC,CAAC;IACJ,CAAC,EAAE,CAAC,SAAS,EAAE,MAAM,EAAE,WAAW,CAAC,CAAC,CAAC;IAErC,SAAS,CAAC,GAAG,EAAE;QACb,MAAM,iBAAiB,GAAgC,IAAI,GAAG,EAAE,CAAC;QAEjE,OAAO,aAAa,CAClB,6BAA6B,CAC3B,MAAM,EACN,QAAQ,EACR,CAAC,IAAc,EAAE,EAAE;YACjB,OAAO,eAAe,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;QACxC,CAAC,EACD,CAAC,IAAc,EAAE,EAAY,EAAE,EAAE;YAC/B,gBAAgB;YAChB,MAAM,GAAG,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;YAC1B,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE;gBACf,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;YACf,CAAC,CAAC,CAAC;QACL,CAAC,CACF,EACD,MAAM,CAAC,wBAAwB,CAAC,QAAQ,EAAE,SAAS,CAAC,EAAE;YACpD,MAAM,CAAC,cAAc,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE;gBAChC,KAAK,MAAM,CAAC,GAAG,EAAE,QAAQ,CAAC,IAAI,SAAS,EAAE,CAAC;oBACxC,MAAM,IAAI,GAAoB,aAAa,CAAC,GAAG,CAAC,CAAC;oBACjD,IAAI,GAAG,GAAc,EAAE,CAAC;oBAExB,IAAI,QAAQ,KAAK,WAAW,EAAE,CAAC;wBAC7B,GAAG,GAAG,iBAAiB,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;oBACzC,CAAC;yBAAM,IAAI,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC;wBAC7B,GAAG,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;oBACtB,CAAC;oBAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBACpC,MAAM,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;wBAClB,IAAI,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;wBACvC,iBAAiB,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;wBAEhC,IAAI,QAAQ,KAAK,WAAW,EAAE,CAAC;4BAC7B,IAAI,YAAY,KAAK,SAAS,EAAE,CAAC;gCAC/B,YAAY,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gCACzB,IAAI,YAAY,CAAC,IAAI,KAAK,CAAC,EAAE,CAAC;oCAC5B,WAAW,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;gCACzB,CAAC;4BACH,CAAC;wBACH,CAAC;6BAAM,CAAC;4BACN,IAAI,YAAY,KAAK,SAAS,EAAE,CAAC;gCAC/B,YAAY,GAAG,IAAI,GAAG,EAAE,CAAC;gCACzB,WAAW,CAAC,GAAG,CAAC,EAAE,EAAE,YAAY,CAAC,CAAC;4BACpC,CAAC;4BACD,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC;gCAC3B,YAAY,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;4BACxB,CAAC;wBACH,CAAC;oBACH,CAAC;gBACH,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,EACF,MAAM,CAAC,sBAAsB,CAAC,CAAC,EAAE,WAAW,EAAE,IAAI,EAAE,EAAE,EAAE;YACtD,WAAW,CAAC,IAAI,CAAC,GAAG,EAAE;gBACpB,MAAM,SAAS,GAAG,aAAa,EAAE,CAAC;gBAClC,IAAI,YAAY,GAAG,KAAK,CAAC;gBACzB,IAAI,YAAY,GAAG,KAAK,CAAC;gBAEzB,IAAI,iBAAiB,CAAC,SAAS,CAAC,EAAE,CAAC;oBACjC,MAAM,UAAU,GAAG,SAAS,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;oBAE9C,IAAI,WAAW,CAAC,UAAU,CAAC,EAAE,CAAC;wBAC5B,MAAM,UAAU,GAAG,WAAW,CAC5B,UAAU,EACV,SAAS,CAAC,MAAM,CAAC,MAAM,CACxB,CAAC;wBACF,IAAI,UAAU,KAAK,IAAI,EAAE,CAAC;4BACxB,YAAY,CAAC,UAAU,CAAC,CAAC;4BACzB,YAAY,GAAG,IAAI,CAAC;wBACtB,CAAC;wBACD,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,EAAE,CAAC;4BAC7B,kBAAkB,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,CAAC;4BACxC,YAAY,GAAG,IAAI,CAAC;wBACtB,CAAC;oBACH,CAAC;gBACH,CAAC;gBACD,IAAI,CAAC,YAAY,EAAE,CAAC;oBAClB,YAAY,CAAC,UAAU,CAAC,EAAE,CACxB,UAAU,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,CAC1C,CAAC;gBACJ,CAAC;gBACD,IAAI,CAAC,YAAY,EAAE,CAAC;oBAClB,kBAAkB,CAAC,IAAI,CAAC,CAAC;gBAC3B,CAAC;YACH,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,EAAE,CAAC;gBAC/B,mBAAmB,CAAC,KAAK,CAAC,CAAC;YAC7B,CAAC;QACH,CAAC,CAAC,EACF,MAAM,CAAC,eAAe,CACpB,qBAAqB,EACrB,GAAG,EAAE;YACH,MAAM,YAAY,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC;YAC3C,IAAI,YAAY,KAAK,IAAI,EAAE,CAAC;gBAC1B,YAAY,CAAC,eAAe,EAAE,CAAC;YACjC,CAAC;YACD,mBAAmB,CAAC,IAAI,CAAC,CAAC;YAC1B,OAAO,IAAI,CAAC;QACd,CAAC,EACD,uBAAuB,CACxB,CACF,CAAC;IACJ,CAAC,EAAE,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC,CAAC;IAE1B,MAAM,YAAY,GAAG,GAAG,EAAE;QACxB,MAAM,CAAC,eAAe,CAAC,qBAAqB,EAAE,SAAS,CAAC,CAAC;IAC3D,CAAC,CAAC;IAEF,OAAO,CACL,8BACG,gBAAgB;gBACf,YAAY,CACV,KAAC,eAAe,IACd,MAAM,EAAE,MAAM,EACd,gBAAgB,EAAE,gBAAgB,EAClC,gBAAgB,EAAE,gBAAgB,GAClC,EACF,QAAQ,CAAC,IAAI,CACd,EACF,qBAAqB;gBACpB,eAAe,KAAK,IAAI;gBACxB,eAAe,KAAK,SAAS;gBAC7B,CAAC,gBAAgB;gBACjB,YAAY,CACV,KAAC,aAAa,IACZ,SAAS,EAAE,eAAe,EAC1B,MAAM,EAAE,MAAM,EACd,YAAY,EAAE,YAAY,GAC1B,EACF,QAAQ,CAAC,IAAI,CACd,EACF,gBAAgB;gBACf,YAAY,CACV,KAAC,MAAM,IACL,SAAS,EAAE,oCACT,YAAY,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,EAC5B,EAAE,EACF,OAAO,EAAE,GAAG,EAAE,CAAC,eAAe,CAAC,CAAC,YAAY,CAAC,EAC7C,KAAK,EAAE,YAAY,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,eAAe,YAEvD,YAAG,SAAS,EAAC,UAAU,GAAG,GACnB,EACT,QAAQ,CAAC,IAAI,CACd,EACF,YAAY;gBACX,YAAY,CACV,KAAC,aAAa,IACZ,QAAQ,EAAE,QAAQ,EAClB,gBAAgB,EAAE,gBAAgB,EAClC,qBAAqB,EAAE,qBAAqB,EAC5C,SAAS,EAAE,SAAS,EACpB,WAAW,EAAE,WAAW,GACxB,EACF,sBAAsB,IAAI,QAAQ,CAAC,IAAI,CACxC,IACF,CACJ,CAAC;AACJ,CAAC;AAED,eAAe,aAAa,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/plugins/ComponentPickerMenuPlugin.js b/node_modules/@datalayer/jupyter-lexical/lib/plugins/ComponentPickerMenuPlugin.js
index 730a11e..33f35b3 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/plugins/ComponentPickerMenuPlugin.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/plugins/ComponentPickerMenuPlugin.js
@@ -58,7 +58,7 @@ function ComponentPickerMenuItem({ index, isSelected, onClick, onMouseEnter, opt
     const handleMouseEnter = option.disabled ? undefined : onMouseEnter;
     return (_jsxs("li", { tabIndex: option.disabled ? -1 : -1, className: className, ref: option.setRefElement, role: "option", "aria-selected": isSelected && !option.disabled, "aria-disabled": option.disabled, id: 'typeahead-item-' + index, onMouseEnter: handleMouseEnter, onClick: handleClick, style: option.disabled ? { opacity: 0.5, cursor: 'not-allowed' } : undefined, children: [option.icon, _jsx("span", { className: "text", children: option.title })] }, option.key));
 }
-export const ComponentPickerMenuPlugin = ({ kernel, initCode = "print('Hello Jupyter UI')", } = {}) => {
+export const ComponentPickerMenuPlugin = ({ kernel, initCode = '', } = {}) => {
     const [editor] = useLexicalComposerContext();
     const [modal, showModal] = useModal();
     const [queryString, setQueryString] = useState(null);
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/plugins/ComponentPickerMenuPlugin.js.map b/node_modules/@datalayer/jupyter-lexical/lib/plugins/ComponentPickerMenuPlugin.js.map
index f8a068e..cf85b86 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/plugins/ComponentPickerMenuPlugin.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/plugins/ComponentPickerMenuPlugin.js.map
@@ -1 +1 @@
-{"version":3,"file":"ComponentPickerMenuPlugin.js","sourceRoot":"","sources":["../../src/plugins/ComponentPickerMenuPlugin.tsx"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"ComponentPickerMenuPlugin.js","sourceRoot":"","sources":["../../src/plugins/ComponentPickerMenuPlugin.tsx"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/plugins/InlineCompletionConfig.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/plugins/InlineCompletionConfig.d.ts
new file mode 100644
index 0000000..4c4558c
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/plugins/InlineCompletionConfig.d.ts
@@ -0,0 +1,135 @@
+/**
+ * Configuration schema for inline completions.
+ * Supports both code and prose content types with flexible triggering and context options.
+ */
+/**
+ * Content type for inline completions.
+ * - 'code': Jupyter cell code completions
+ * - 'prose': Natural language/markdown text completions
+ */
+export type ContentType = 'code' | 'prose';
+/**
+ * Trigger mode for inline completions.
+ * - 'auto': Automatically trigger after typing (debounced)
+ * - 'manual': Only trigger via keyboard shortcut
+ * - 'disabled': Disable completions for this content type
+ */
+export type TriggerMode = 'auto' | 'manual' | 'disabled';
+/**
+ * Context scope for completions.
+ * - N >= 0: Include N blocks before/after cursor
+ * - -1: Include entire document (all blocks)
+ */
+export type ContextScope = number;
+/**
+ * Configuration for a specific content type.
+ */
+export interface ContentTypeConfig {
+    /**
+     * How completions should be triggered.
+     * @default 'auto' for code, 'manual' for prose
+     */
+    triggerMode: TriggerMode;
+    /**
+     * Number of blocks to include before cursor.
+     * Use -1 for entire document.
+     * @default -1 (entire document)
+     */
+    contextBefore: ContextScope;
+    /**
+     * Number of blocks to include after cursor.
+     * Use -1 for entire document.
+     * @default -1 (entire document)
+     */
+    contextAfter: ContextScope;
+    /**
+     * Programming language for code completions.
+     * Only applicable for 'code' content type.
+     * @default 'python'
+     */
+    language?: string;
+}
+/**
+ * Complete inline completion configuration.
+ */
+export interface InlineCompletionConfig {
+    /**
+     * Configuration for code (Jupyter cell) completions.
+     */
+    code: ContentTypeConfig;
+    /**
+     * Configuration for prose (natural language) completions.
+     */
+    prose: ContentTypeConfig;
+    /**
+     * Debounce delay in milliseconds for auto-trigger mode.
+     * @default 200
+     */
+    debounceMs: number;
+    /**
+     * Keyboard shortcut for manual trigger.
+     * Format: "Modifier+Key" (e.g., "Ctrl+Alt+I", "Cmd+Shift+K")
+     * @default 'Ctrl+Alt+I'
+     */
+    manualTriggerKey: string;
+}
+/**
+ * Default configuration with user-approved settings.
+ * - Code: Auto-trigger with entire document context
+ * - Prose: Manual trigger (Ctrl+Alt+I) with entire document context
+ */
+export declare const DEFAULT_CONFIG: InlineCompletionConfig;
+/**
+ * Partial configuration that can be provided by users.
+ * All fields are optional and will be merged with defaults.
+ */
+export type PartialInlineCompletionConfig = {
+    code?: Partial<ContentTypeConfig>;
+    prose?: Partial<ContentTypeConfig>;
+    debounceMs?: number;
+    manualTriggerKey?: string;
+};
+/**
+ * Merge user configuration with defaults.
+ * Deep merges content type configs, shallow merges top-level options.
+ *
+ * @param userConfig - Partial user configuration
+ * @returns Complete configuration with defaults filled in
+ *
+ * @example
+ * ```typescript
+ * const config = mergeConfig({
+ *   prose: { triggerMode: 'auto' }
+ * });
+ * // Result: prose uses auto-trigger, everything else from defaults
+ * ```
+ */
+export declare function mergeConfig(userConfig?: PartialInlineCompletionConfig): InlineCompletionConfig;
+/**
+ * Validate that a context scope value is valid.
+ *
+ * @param scope - Context scope value to validate
+ * @returns True if valid (-1 or >= 0)
+ */
+export declare function isValidContextScope(scope: number): boolean;
+/**
+ * Check if a content type should auto-trigger completions.
+ *
+ * @param config - Configuration for the content type
+ * @returns True if auto-trigger is enabled
+ */
+export declare function shouldAutoTrigger(config: ContentTypeConfig): boolean;
+/**
+ * Check if a content type should respond to manual triggers.
+ *
+ * @param config - Configuration for the content type
+ * @returns True if manual trigger is enabled
+ */
+export declare function shouldManualTrigger(config: ContentTypeConfig): boolean;
+/**
+ * Check if completions are disabled for a content type.
+ *
+ * @param config - Configuration for the content type
+ * @returns True if completions are disabled
+ */
+export declare function isDisabled(config: ContentTypeConfig): boolean;
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/plugins/InlineCompletionConfig.js b/node_modules/@datalayer/jupyter-lexical/lib/plugins/InlineCompletionConfig.js
new file mode 100644
index 0000000..f1a0f6e
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/plugins/InlineCompletionConfig.js
@@ -0,0 +1,94 @@
+/*
+ * Copyright (c) 2021-2023 Datalayer, Inc.
+ *
+ * MIT License
+ */
+/**
+ * Default configuration with user-approved settings.
+ * - Code: Auto-trigger with entire document context
+ * - Prose: Manual trigger (Ctrl+Alt+I) with entire document context
+ */
+export const DEFAULT_CONFIG = {
+    code: {
+        triggerMode: 'auto',
+        contextBefore: -1, // Entire document
+        contextAfter: -1, // Entire document
+        language: 'python',
+    },
+    prose: {
+        triggerMode: 'manual',
+        contextBefore: -1, // Entire document
+        contextAfter: -1, // Entire document
+    },
+    debounceMs: 200,
+    manualTriggerKey: 'Ctrl+Alt+I', // Cross-platform: Cmd+Option+I on Mac, Ctrl+Alt+I elsewhere
+};
+/**
+ * Merge user configuration with defaults.
+ * Deep merges content type configs, shallow merges top-level options.
+ *
+ * @param userConfig - Partial user configuration
+ * @returns Complete configuration with defaults filled in
+ *
+ * @example
+ * ```typescript
+ * const config = mergeConfig({
+ *   prose: { triggerMode: 'auto' }
+ * });
+ * // Result: prose uses auto-trigger, everything else from defaults
+ * ```
+ */
+export function mergeConfig(userConfig) {
+    if (!userConfig) {
+        return { ...DEFAULT_CONFIG };
+    }
+    return {
+        code: {
+            ...DEFAULT_CONFIG.code,
+            ...userConfig.code,
+        },
+        prose: {
+            ...DEFAULT_CONFIG.prose,
+            ...userConfig.prose,
+        },
+        debounceMs: userConfig.debounceMs ?? DEFAULT_CONFIG.debounceMs,
+        manualTriggerKey: userConfig.manualTriggerKey ?? DEFAULT_CONFIG.manualTriggerKey,
+    };
+}
+/**
+ * Validate that a context scope value is valid.
+ *
+ * @param scope - Context scope value to validate
+ * @returns True if valid (-1 or >= 0)
+ */
+export function isValidContextScope(scope) {
+    return scope === -1 || scope >= 0;
+}
+/**
+ * Check if a content type should auto-trigger completions.
+ *
+ * @param config - Configuration for the content type
+ * @returns True if auto-trigger is enabled
+ */
+export function shouldAutoTrigger(config) {
+    return config.triggerMode === 'auto';
+}
+/**
+ * Check if a content type should respond to manual triggers.
+ *
+ * @param config - Configuration for the content type
+ * @returns True if manual trigger is enabled
+ */
+export function shouldManualTrigger(config) {
+    return config.triggerMode === 'manual' || config.triggerMode === 'auto';
+}
+/**
+ * Check if completions are disabled for a content type.
+ *
+ * @param config - Configuration for the content type
+ * @returns True if completions are disabled
+ */
+export function isDisabled(config) {
+    return config.triggerMode === 'disabled';
+}
+//# sourceMappingURL=InlineCompletionConfig.js.map
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/plugins/InlineCompletionConfig.js.map b/node_modules/@datalayer/jupyter-lexical/lib/plugins/InlineCompletionConfig.js.map
new file mode 100644
index 0000000..f2730f9
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/plugins/InlineCompletionConfig.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"InlineCompletionConfig.js","sourceRoot":"","sources":["../../src/plugins/InlineCompletionConfig.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAyFH;;;;GAIG;AACH,MAAM,CAAC,MAAM,cAAc,GAA2B;IACpD,IAAI,EAAE;QACJ,WAAW,EAAE,MAAM;QACnB,aAAa,EAAE,CAAC,CAAC,EAAE,kBAAkB;QACrC,YAAY,EAAE,CAAC,CAAC,EAAE,kBAAkB;QACpC,QAAQ,EAAE,QAAQ;KACnB;IACD,KAAK,EAAE;QACL,WAAW,EAAE,QAAQ;QACrB,aAAa,EAAE,CAAC,CAAC,EAAE,kBAAkB;QACrC,YAAY,EAAE,CAAC,CAAC,EAAE,kBAAkB;KACrC;IACD,UAAU,EAAE,GAAG;IACf,gBAAgB,EAAE,YAAY,EAAE,4DAA4D;CAC7F,CAAC;AAaF;;;;;;;;;;;;;;GAcG;AACH,MAAM,UAAU,WAAW,CACzB,UAA0C;IAE1C,IAAI,CAAC,UAAU,EAAE,CAAC;QAChB,OAAO,EAAE,GAAG,cAAc,EAAE,CAAC;IAC/B,CAAC;IAED,OAAO;QACL,IAAI,EAAE;YACJ,GAAG,cAAc,CAAC,IAAI;YACtB,GAAG,UAAU,CAAC,IAAI;SACnB;QACD,KAAK,EAAE;YACL,GAAG,cAAc,CAAC,KAAK;YACvB,GAAG,UAAU,CAAC,KAAK;SACpB;QACD,UAAU,EAAE,UAAU,CAAC,UAAU,IAAI,cAAc,CAAC,UAAU;QAC9D,gBAAgB,EACd,UAAU,CAAC,gBAAgB,IAAI,cAAc,CAAC,gBAAgB;KACjE,CAAC;AACJ,CAAC;AAED;;;;;GAKG;AACH,MAAM,UAAU,mBAAmB,CAAC,KAAa;IAC/C,OAAO,KAAK,KAAK,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,CAAC;AACpC,CAAC;AAED;;;;;GAKG;AACH,MAAM,UAAU,iBAAiB,CAAC,MAAyB;IACzD,OAAO,MAAM,CAAC,WAAW,KAAK,MAAM,CAAC;AACvC,CAAC;AAED;;;;;GAKG;AACH,MAAM,UAAU,mBAAmB,CAAC,MAAyB;IAC3D,OAAO,MAAM,CAAC,WAAW,KAAK,QAAQ,IAAI,MAAM,CAAC,WAAW,KAAK,MAAM,CAAC;AAC1E,CAAC;AAED;;;;;GAKG;AACH,MAAM,UAAU,UAAU,CAAC,MAAyB;IAClD,OAAO,MAAM,CAAC,WAAW,KAAK,UAAU,CAAC;AAC3C,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/plugins/InlineCompletionContextExtractor.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/plugins/InlineCompletionContextExtractor.d.ts
new file mode 100644
index 0000000..06b5728
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/plugins/InlineCompletionContextExtractor.d.ts
@@ -0,0 +1,50 @@
+/**
+ * Context extraction for inline completions.
+ * Handles both code and prose content with configurable scope.
+ *
+ * @module plugins/InlineCompletionContextExtractor
+ */
+import type { LexicalNode, RangeSelection } from 'lexical';
+import type { ContentType } from './InlineCompletionConfig';
+/**
+ * Extracted context for completion requests.
+ */
+export interface ExtractedContext {
+    /** Text before cursor */
+    before: string;
+    /** Text after cursor */
+    after: string;
+    /** Full text (for logging/debugging) */
+    fullText: string;
+}
+/**
+ * Extract context based on content type and configuration.
+ *
+ * @param contentType - 'code' or 'prose'
+ * @param anchorNode - Node at cursor position
+ * @param selection - Current selection state
+ * @param contextBefore - Number of blocks before (-1 = all)
+ * @param contextAfter - Number of blocks after (-1 = all)
+ * @returns Extracted context
+ */
+export declare function extractContext(contentType: ContentType, anchorNode: LexicalNode, selection: RangeSelection, contextBefore: number, contextAfter: number): ExtractedContext;
+/**
+ * Extract context for code cells (Jupyter).
+ * Preserves current behavior: entire cell text before/after cursor.
+ *
+ * @param jupyterInputNode - The JupyterInputNode containing the code
+ * @param selection - Current selection state
+ * @returns Extracted context
+ */
+export declare function extractCodeContext(jupyterInputNode: any, selection: RangeSelection): ExtractedContext;
+/**
+ * Extract context for prose/markdown text.
+ * Supports configurable scope: N blocks before/after or entire document (-1).
+ *
+ * @param anchorNode - Node at cursor position
+ * @param selection - Current selection state
+ * @param contextBefore - Number of blocks before cursor (-1 = all)
+ * @param contextAfter - Number of blocks after cursor (-1 = all)
+ * @returns Extracted context
+ */
+export declare function extractProseContext(anchorNode: LexicalNode, selection: RangeSelection, contextBefore: number, contextAfter: number): ExtractedContext;
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/plugins/InlineCompletionContextExtractor.js b/node_modules/@datalayer/jupyter-lexical/lib/plugins/InlineCompletionContextExtractor.js
new file mode 100644
index 0000000..d1cc12a
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/plugins/InlineCompletionContextExtractor.js
@@ -0,0 +1,171 @@
+/*
+ * Copyright (c) 2021-2023 Datalayer, Inc.
+ *
+ * MIT License
+ */
+import { $getRoot, $isParagraphNode } from 'lexical';
+/**
+ * Extract context based on content type and configuration.
+ *
+ * @param contentType - 'code' or 'prose'
+ * @param anchorNode - Node at cursor position
+ * @param selection - Current selection state
+ * @param contextBefore - Number of blocks before (-1 = all)
+ * @param contextAfter - Number of blocks after (-1 = all)
+ * @returns Extracted context
+ */
+export function extractContext(contentType, anchorNode, selection, contextBefore, contextAfter) {
+    if (contentType === 'code') {
+        return extractCodeContext(anchorNode, selection);
+    }
+    else {
+        return extractProseContext(anchorNode, selection, contextBefore, contextAfter);
+    }
+}
+/**
+ * Extract context for code cells (Jupyter).
+ * Preserves current behavior: entire cell text before/after cursor.
+ *
+ * @param jupyterInputNode - The JupyterInputNode containing the code
+ * @param selection - Current selection state
+ * @returns Extracted context
+ */
+export function extractCodeContext(jupyterInputNode, selection) {
+    const cellText = jupyterInputNode.getTextContent();
+    const cursorOffset = getCursorOffset(jupyterInputNode, selection);
+    const before = cellText.substring(0, cursorOffset);
+    const after = cellText.substring(cursorOffset);
+    return {
+        before,
+        after,
+        fullText: cellText,
+    };
+}
+/**
+ * Extract context for prose/markdown text.
+ * Supports configurable scope: N blocks before/after or entire document (-1).
+ *
+ * @param anchorNode - Node at cursor position
+ * @param selection - Current selection state
+ * @param contextBefore - Number of blocks before cursor (-1 = all)
+ * @param contextAfter - Number of blocks after cursor (-1 = all)
+ * @returns Extracted context
+ */
+export function extractProseContext(anchorNode, selection, contextBefore, contextAfter) {
+    const root = $getRoot();
+    const allBlocks = root.getChildren();
+    // Find the paragraph/block containing the cursor
+    const currentBlock = findParagraphParent(anchorNode);
+    if (!currentBlock) {
+        // Fallback: return empty context if we can't find current block
+        return { before: '', after: '', fullText: '' };
+    }
+    const currentIndex = allBlocks.indexOf(currentBlock);
+    if (currentIndex === -1) {
+        // Current block not in root children (shouldn't happen)
+        return { before: '', after: '', fullText: '' };
+    }
+    // Calculate range of blocks to include
+    const startIndex = contextBefore === -1 ? 0 : Math.max(0, currentIndex - contextBefore);
+    const endIndex = contextAfter === -1
+        ? allBlocks.length - 1
+        : Math.min(allBlocks.length - 1, currentIndex + contextAfter);
+    // Extract text from blocks before current block
+    let beforeText = '';
+    for (let i = startIndex; i < currentIndex; i++) {
+        beforeText += allBlocks[i].getTextContent() + '\n';
+    }
+    // Split current block at cursor position
+    const currentBlockText = currentBlock.getTextContent();
+    const cursorOffsetInBlock = getCursorOffsetInNode(currentBlock, selection);
+    beforeText += currentBlockText.substring(0, cursorOffsetInBlock);
+    // Extract text from cursor to end of current block
+    let afterText = currentBlockText.substring(cursorOffsetInBlock);
+    // Extract text from blocks after current block
+    for (let i = currentIndex + 1; i <= endIndex; i++) {
+        afterText += '\n' + allBlocks[i].getTextContent();
+    }
+    // Full text for logging
+    const fullText = beforeText + afterText;
+    return {
+        before: beforeText,
+        after: afterText,
+        fullText,
+    };
+}
+/**
+ * Find the paragraph or block-level parent of a node.
+ *
+ * @param node - Starting node
+ * @returns Parent paragraph/block node or null
+ */
+function findParagraphParent(node) {
+    let current = node;
+    while (current) {
+        // Check if current node is a block-level element
+        if ($isParagraphNode(current)) {
+            return current;
+        }
+        // For headings, lists, etc. - check if it's an ElementNode
+        if (current.getType() === 'heading' || current.getType() === 'listitem') {
+            return current;
+        }
+        current = current.getParent();
+    }
+    // Fallback: return root if we can't find a specific block
+    return $getRoot();
+}
+/**
+ * Get cursor offset within a specific node.
+ *
+ * @param node - The node to measure offset within
+ * @param selection - Current selection state
+ * @returns Offset of cursor in node's text
+ */
+function getCursorOffsetInNode(node, selection) {
+    try {
+        const firstDescendant = node.getFirstDescendant();
+        const startKey = firstDescendant ? firstDescendant.getKey() : node.getKey();
+        const startOffset = 0;
+        const startType = firstDescendant
+            ? 'text'
+            : 'element';
+        const tempSelection = selection.clone();
+        tempSelection.anchor.set(startKey, startOffset, startType);
+        tempSelection.focus.set(selection.anchor.key, selection.anchor.offset, selection.anchor.type);
+        return tempSelection.getTextContent().length;
+    }
+    catch (e) {
+        console.error('[ContextExtractor] Error getting cursor offset:', e);
+        return 0;
+    }
+}
+/**
+ * Get accurate cursor offset using Lexical selection API.
+ * Used for code cells.
+ *
+ * @param jupyterInputNode - The JupyterInputNode
+ * @param selection - Current selection state
+ * @returns Cursor offset in cell text
+ */
+function getCursorOffset(jupyterInputNode, selection) {
+    try {
+        const firstDescendant = jupyterInputNode.getFirstDescendant();
+        const startKey = firstDescendant
+            ? firstDescendant.getKey()
+            : jupyterInputNode.getKey();
+        const startOffset = 0;
+        const startType = firstDescendant
+            ? 'text'
+            : 'element';
+        const tempSelection = selection.clone();
+        tempSelection.anchor.set(startKey, startOffset, startType);
+        tempSelection.focus.set(selection.anchor.key, selection.anchor.offset, selection.anchor.type);
+        return tempSelection.getTextContent().length;
+    }
+    catch (e) {
+        console.error('[ContextExtractor] Error getting cursor offset:', e);
+        return 0;
+    }
+}
+//# sourceMappingURL=InlineCompletionContextExtractor.js.map
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/plugins/InlineCompletionContextExtractor.js.map b/node_modules/@datalayer/jupyter-lexical/lib/plugins/InlineCompletionContextExtractor.js.map
new file mode 100644
index 0000000..bedd14c
--- /dev/null
+++ b/node_modules/@datalayer/jupyter-lexical/lib/plugins/InlineCompletionContextExtractor.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"InlineCompletionContextExtractor.js","sourceRoot":"","sources":["../../src/plugins/InlineCompletionContextExtractor.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/plugins/JupyterInputOutputPlugin.js b/node_modules/@datalayer/jupyter-lexical/lib/plugins/JupyterInputOutputPlugin.js
index acbfbc5..4131d40 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/plugins/JupyterInputOutputPlugin.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/plugins/JupyterInputOutputPlugin.js
@@ -8,7 +8,7 @@ import { $getSelection, $isRangeSelection, createCommand, COMMAND_PRIORITY_EDITO
 import { useLexicalComposerContext } from '@lexical/react/LexicalComposerContext';
 import { OutputAdapter, newUuid, } from '@datalayer/jupyter-react';
 import { UUID } from '@lumino/coreutils';
-import { createNoKernelWarning } from '../nodes/jupyterUtils';
+import { createNoRuntimeWarning } from '../nodes/jupyterUtils';
 import { $createJupyterInputNode, JupyterInputNode, $isJupyterInputNode, } from '../nodes/JupyterInputNode';
 import { registerCodeHighlighting } from '../nodes/JupyterInputHighlighter';
 import { JupyterOutputNode, $createJupyterOutputNode, } from '../nodes/JupyterOutputNode';
@@ -23,7 +23,7 @@ export const DEFAULT_INITIAL_OUTPUTS = [
         data: {
             'text/html': [
                 '<div style="color: #888; font-size: 11px; font-style: italic; padding: 0; margin: 0;">',
-                'Press <kbd style="font-size: 10px; padding: 1px 4px; background: #f0f0f0; border: 1px solid #ccc; border-radius: 3px;">Shift+Enter</kbd> to execute. Please connect to execute code.',
+                'Press <kbd style="font-size: 10px; padding: 1px 4px; background: #f0f0f0; border: 1px solid #ccc; border-radius: 3px;">Shift+Enter</kbd> to execute.',
                 '</div>',
             ],
         },
@@ -58,25 +58,28 @@ export const JupyterInputOutputPlugin = (props) => {
     const isUpdatingKernels = useRef(false);
     const isMovingNodes = useRef(false);
     // Function to update all existing output nodes with the current kernel
+    // CRITICAL: Must run even when kernel is undefined (runtime terminated)!
     const updateAllOutputNodesWithKernel = useCallback(() => {
-        if (!kernel || isUpdatingKernels.current)
+        if (isUpdatingKernels.current)
             return;
         isUpdatingKernels.current = true;
-        editor.update(() => {
-            editor.getEditorState()._nodeMap.forEach(node => {
-                if (node instanceof JupyterOutputNode) {
-                    // Update the kernel for this output node
-                    node.updateKernel(kernel);
-                }
-            });
-        }, { discrete: true }); // Use discrete to prevent triggering update listeners
-        isUpdatingKernels.current = false;
+        // Defer editor.update to next microtask to avoid flushSync warning
+        // This ensures React's render phase completes before we update the editor
+        queueMicrotask(() => {
+            editor.update(() => {
+                editor.getEditorState()._nodeMap.forEach(node => {
+                    if (node instanceof JupyterOutputNode) {
+                        // Update the kernel for this output node (even if undefined!)
+                        node.updateKernel(kernel);
+                    }
+                });
+            }, { discrete: true }); // Use discrete to prevent triggering update listeners
+            isUpdatingKernels.current = false;
+        });
     }, [kernel, editor]);
-    // Update output nodes when kernel becomes available
+    // Update output nodes when kernel changes (including when it becomes undefined!)
     useEffect(() => {
-        if (kernel) {
-            updateAllOutputNodesWithKernel();
-        }
+        updateAllOutputNodesWithKernel();
     }, [kernel, updateAllOutputNodesWithKernel]);
     // Restore mutation listeners with proper recursion protection
     useEffect(() => {
@@ -263,7 +266,7 @@ export const JupyterInputOutputPlugin = (props) => {
                                 // Handle execution
                                 if (!existingAdapter.kernel) {
                                     // Show user-facing warning
-                                    const warningOutput = createNoKernelWarning();
+                                    const warningOutput = createNoRuntimeWarning();
                                     // Update BOTH the node's outputs AND the adapter's model
                                     writableNode.__outputs = [warningOutput];
                                     existingAdapter.setOutputs([warningOutput]);
@@ -516,8 +519,11 @@ export const JupyterInputOutputPlugin = (props) => {
             // Traverse document tree and clear all JupyterOutputNode outputs
             function clearJupyterOutputs(node) {
                 if (node instanceof JupyterOutputNode) {
-                    node.setOutputs([]);
-                    clearedCount++;
+                    // Use outputAdapter.clear() to properly clear the OutputArea model
+                    if (node.__outputAdapter) {
+                        node.__outputAdapter.clear();
+                        clearedCount++;
+                    }
                 }
                 if ($isElementNode(node)) {
                     const children = node.getChildren();
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/plugins/JupyterInputOutputPlugin.js.map b/node_modules/@datalayer/jupyter-lexical/lib/plugins/JupyterInputOutputPlugin.js.map
index 82713a1..8c9dbea 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/plugins/JupyterInputOutputPlugin.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/plugins/JupyterInputOutputPlugin.js.map
@@ -1 +1 @@
-{"version":3,"file":"JupyterInputOutputPlugin.js","sourceRoot":"","sources":["../../src/plugins/JupyterInputOutputPlugin.tsx"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"JupyterInputOutputPlugin.js","sourceRoot":"","sources":["../../src/plugins/JupyterInputOutputPlugin.tsx"],"names":[],"mappings":"AAAA;;;;GAIG;AAEH,OAAO,EAAE,SAAS,EAAE,WAAW,EAAE,MAAM,EAAE,MAAM,OAAO,CAAC;AACvD,OAAO,EACL,aAAa,EACb,iBAAiB,EACjB,aAAa,EAEb,uBAAuB,EACvB,yBAAyB,EACzB,qBAAqB,EACrB,yBAAyB,EACzB,iBAAiB,EACjB,oBAAoB,EACpB,oBAAoB,EACpB,qBAAqB,EAErB,aAAa,EACb,oBAAoB,EACpB,aAAa,EACb,kBAAkB,EAClB,QAAQ,EACR,cAAc,GACf,MAAM,SAAS,CAAC;AACjB,OAAO,EAAE,yBAAyB,EAAE,MAAM,uCAAuC,CAAC;AAClF,OAAO,EACL,aAAa,EACb,OAAO,GAGR,MAAM,0BAA0B,CAAC;AAClC,OAAO,EAAE,IAAI,EAAE,MAAM,mBAAmB,CAAC;AAIzC,OAAO,EAAE,sBAAsB,EAAE,MAAM,uBAAuB,CAAC;AAC/D,OAAO,EACL,uBAAuB,EACvB,gBAAgB,EAChB,mBAAmB,GACpB,MAAM,2BAA2B,CAAC;AACnC,OAAO,EAAE,wBAAwB,EAAE,MAAM,kCAAkC,CAAC;AAC5E,OAAO,EACL,iBAAiB,EACjB,wBAAwB,GACzB,MAAM,4BAA4B,CAAC;AAIpC,MAAM,CAAC,MAAM,wBAAwB,GAAG,IAAI,GAAG,EAA6B,CAAC;AAC7E,MAAM,CAAC,MAAM,sBAAsB,GAAG,IAAI,GAAG,EAA6B,CAAC;AAC3E,MAAM,CAAC,MAAM,yBAAyB,GAAG,IAAI,GAAG,EAA0B,CAAC;AAC3E,MAAM,CAAC,MAAM,wBAAwB,GAAG,IAAI,GAAG,EAA0B,CAAC;AAC1E,MAAM,CAAC,MAAM,yBAAyB,GAAG,IAAI,GAAG,EAA6B,CAAC;AAE9E,MAAM,CAAC,MAAM,uBAAuB,GAAc;IAChD;QACE,WAAW,EAAE,gBAAgB;QAC7B,IAAI,EAAE;YACJ,WAAW,EAAE;gBACX,wFAAwF;gBACxF,sJAAsJ;gBACtJ,QAAQ;aACT;SACF;QACD,eAAe,EAAE,CAAC;QAClB,QAAQ,EAAE,EAAE;KACb;CACF,CAAC;AAgBF,MAAM,CAAC,MAAM,mCAAmC,GAC9C,aAAa,EAA2B,CAAC;AAE3C;;;GAGG;AACH,MAAM,CAAC,MAAM,wBAAwB,GAAG,aAAa,EAAQ,CAAC;AAE9D;;;GAGG;AACH,MAAM,CAAC,MAAM,6BAA6B,GAAG,aAAa,EAAQ,CAAC;AAEnE;;;GAGG;AACH,MAAM,CAAC,MAAM,8BAA8B,GAAG,aAAa,EAAQ,CAAC;AAEpE;;;GAGG;AACH,MAAM,CAAC,MAAM,yBAAyB,GAAG,aAAa,EAAQ,CAAC;AAE/D,MAAM,CAAC,MAAM,wBAAwB,GAAG,CACtC,KAAqC,EACrC,EAAE;IACF,MAAM,EAAE,MAAM,EAAE,mBAAmB,EAAE,GAAG,KAAK,IAAI,EAAE,CAAC;IACpD,MAAM,CAAC,MAAM,CAAC,GAAG,yBAAyB,EAAE,CAAC;IAC7C,MAAM,iBAAiB,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC;IACxC,MAAM,aAAa,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC;IAEpC,uEAAuE;IACvE,yEAAyE;IACzE,MAAM,8BAA8B,GAAG,WAAW,CAAC,GAAG,EAAE;QACtD,IAAI,iBAAiB,CAAC,OAAO;YAAE,OAAO;QAEtC,iBAAiB,CAAC,OAAO,GAAG,IAAI,CAAC;QAEjC,mEAAmE;QACnE,0EAA0E;QAC1E,cAAc,CAAC,GAAG,EAAE;YAClB,MAAM,CAAC,MAAM,CACX,GAAG,EAAE;gBACH,MAAM,CAAC,cAAc,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;oBAC9C,IAAI,IAAI,YAAY,iBAAiB,EAAE,CAAC;wBACtC,8DAA8D;wBAC9D,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;oBAC5B,CAAC;gBACH,CAAC,CAAC,CAAC;YACL,CAAC,EACD,EAAE,QAAQ,EAAE,IAAI,EAAE,CACnB,CAAC,CAAC,sDAAsD;YACzD,iBAAiB,CAAC,OAAO,GAAG,KAAK,CAAC;QACpC,CAAC,CAAC,CAAC;IACL,CAAC,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC;IAErB,iFAAiF;IACjF,SAAS,CAAC,GAAG,EAAE;QACb,8BAA8B,EAAE,CAAC;IACnC,CAAC,EAAE,CAAC,MAAM,EAAE,8BAA8B,CAAC,CAAC,CAAC;IAE7C,8DAA8D;IAC9D,SAAS,CAAC,GAAG,EAAE;QACb,OAAO,MAAM,CAAC,wBAAwB,CACpC,gBAAgB,EAChB,CAAC,YAA+B,EAAE,EAAE;YAClC,0DAA0D;YAC1D,IAAI,aAAa,CAAC,OAAO;gBAAE,OAAO;YAElC,KAAK,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,IAAI,YAAY,EAAE,CAAC;gBAC/C,IAAI,QAAQ,KAAK,WAAW,EAAE,CAAC;oBAC7B,MAAM,CAAC,MAAM,CACX,GAAG,EAAE;wBACH,IAAI,oBAAwC,CAAC;wBAC7C,IAAI,qBAAyC,CAAC;wBAE9C,6CAA6C;wBAC7C,sBAAsB,CAAC,OAAO,CAC5B,CAAC,OAAgB,EAAE,QAAc,EAAE,EAAE;4BACnC,IAAI,OAAO,KAAK,OAAO,EAAE,CAAC;gCACxB,oBAAoB,GAAG,QAAQ,CAAC;gCAChC,qBAAqB;oCACnB,yBAAyB,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;4BAC5C,CAAC;wBACH,CAAC,CACF,CAAC;wBAEF,IAAI,oBAAoB,IAAI,qBAAqB,EAAE,CAAC;4BAClD,uCAAuC;4BACvC,MAAM,aAAa,GAAG,yBAAyB,CAAC,GAAG,CACjD,qBAAqB,CACtB,CAAC;4BACF,IAAI,aAAa,EAAE,CAAC;gCAClB,MAAM,UAAU,GAAG,aAAa,CAAC,aAAa,CAAC,CAAC;gCAChD,IAAI,UAAU,EAAE,CAAC;oCACf,UAAU,CAAC,SAAS,EAAE,CAAC;oCACtB,UAAgC,CAAC,WAAW,EAAE,CAAC;gCAClD,CAAC;4BACH,CAAC;4BAED,2BAA2B;4BAC3B,sBAAsB,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC;4BACpD,wBAAwB,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC;4BACtD,yBAAyB,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC;4BACvD,wBAAwB,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAC;4BACvD,yBAAyB,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAC;wBAC1D,CAAC;oBACH,CAAC,EACD,EAAE,QAAQ,EAAE,IAAI,EAAE,CACnB,CAAC;gBACJ,CAAC;qBAAM,IAAI,QAAQ,KAAK,SAAS,EAAE,CAAC;oBAClC,sDAAsD;oBACtD,MAAM,CAAC,MAAM,CACX,GAAG,EAAE;wBACH,MAAM,SAAS,GAAG,aAAa,CAAC,OAAO,CAAC,CAAC;wBACzC,IAAI,SAAS,IAAI,mBAAmB,CAAC,SAAS,CAAC,EAAE,CAAC;4BAChD,MAAM,SAAS,GAAG,SAAS,CAAC,uBAAuB,EAAE,CAAC;4BACtD,MAAM,SAAS,GAAG,wBAAwB,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;4BAE1D,IAAI,SAAS,EAAE,CAAC;gCACd,MAAM,UAAU,GAAG,aAAa,CAAC,SAAS,CAAC,CAAC;gCAC5C,IAAI,UAAU,EAAE,CAAC;oCACf,MAAM,gBAAgB,GAAG,SAAS,CAAC,cAAc,EAAE,CAAC;oCAEpD,uEAAuE;oCACvE,IAAI,gBAAgB,KAAK,UAAU,EAAE,CAAC;wCACpC,aAAa,CAAC,OAAO,GAAG,IAAI,CAAC;wCAC7B,IAAI,CAAC;4CACH,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;4CACzB,SAAS,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;wCACpC,CAAC;gDAAS,CAAC;4CACT,aAAa,CAAC,OAAO,GAAG,KAAK,CAAC;wCAChC,CAAC;oCACH,CAAC;gCACH,CAAC;4BACH,CAAC;wBACH,CAAC;oBACH,CAAC,EACD,EAAE,QAAQ,EAAE,IAAI,EAAE,CACnB,CAAC;gBACJ,CAAC;YACH,CAAC;QACH,CAAC,CACF,CAAC;IACJ,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;IAEb,kEAAkE;IAClE,SAAS,CAAC,GAAG,EAAE;QACb,OAAO,MAAM,CAAC,wBAAwB,CACpC,iBAAiB,EACjB,CAAC,YAA+B,EAAE,EAAE;YAClC,0DAA0D;YAC1D,IAAI,aAAa,CAAC,OAAO;gBAAE,OAAO;YAElC,KAAK,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,IAAI,YAAY,EAAE,CAAC;gBAC/C,IAAI,QAAQ,KAAK,SAAS,EAAE,CAAC;oBAC3B,MAAM,CAAC,MAAM,CACX,GAAG,EAAE;wBACH,MAAM,UAAU,GAAG,aAAa,CAAC,OAAO,CAAC,CAAC;wBAC1C,IAAI,UAAU,EAAE,CAAC;4BACf,MAAM,UAAU,GACd,UACD,CAAC,wBAAwB,EAAE,CAAC;4BAC7B,MAAM,SAAS,GAAG,wBAAwB,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;4BAE3D,IAAI,SAAS,EAAE,CAAC;gCACd,MAAM,QAAQ,GAAG,sBAAsB,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;gCACvD,IAAI,QAAQ,EAAE,CAAC;oCACb,MAAM,SAAS,GAAG,aAAa,CAAC,QAAQ,CAAC,CAAC;oCAC1C,IAAI,SAAS,EAAE,CAAC;wCACd,MAAM,gBAAgB,GAAG,SAAS,CAAC,cAAc,EAAE,CAAC;wCAEpD,wEAAwE;wCACxE,IAAI,gBAAgB,KAAK,UAAU,EAAE,CAAC;4CACpC,aAAa,CAAC,OAAO,GAAG,IAAI,CAAC;4CAC7B,IAAI,CAAC;gDACH,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;gDACzB,SAAS,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;4CACpC,CAAC;oDAAS,CAAC;gDACT,aAAa,CAAC,OAAO,GAAG,KAAK,CAAC;4CAChC,CAAC;wCACH,CAAC;oCACH,CAAC;gCACH,CAAC;4BACH,CAAC;wBACH,CAAC;oBACH,CAAC,EACD,EAAE,QAAQ,EAAE,IAAI,EAAE,CACnB,CAAC;gBACJ,CAAC;YACH,CAAC;QACH,CAAC,CACF,CAAC;IACJ,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;IAEb,mEAAmE;IACnE,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,CAAC,mBAAmB;YAAE,OAAO;QAEjC,sFAAsF;QACtF,eAAe;QACf,IAAI,MAAM,EAAE,CAAC;YACX,mBAAmB,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;YACpC,IAAI,MAAM,CAAC,OAAO,EAAE,CAAC;gBACnB,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,OAAO,CAClC,CAAC,iBAA6C,EAAE,OAAe,EAAE,EAAE;oBACjE,mBAAmB,CAAC,iBAAiB,CAAC,CAAC;gBACzC,CAAC,CACF,CAAC;gBACF,MAAM,CAAC,OAAO,CAAC,uBAAuB,CAAC,OAAO,CAC5C,CACE,iBAA6C,EAC7C,iBAAyB,EACzB,EAAE;oBACF,mBAAmB,CAAC,iBAAiB,CAAC,CAAC;gBACzC,CAAC,CACF,CAAC;YACJ,CAAC;QACH,CAAC;aAAM,CAAC;YACN,kDAAkD;YAClD,mBAAmB,CAAC,SAAS,CAAC,CAAC;QACjC,CAAC;IACH,CAAC,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,mBAAmB,CAAC,CAAC,CAAC;IAEnD,SAAS,CAAC,GAAG,EAAE;QACb,OAAO,wBAAwB,CAAC,MAAM,CAAC,CAAC;IAC1C,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;IACb,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,iBAAiB,CAAC,CAAC,EAAE,CAAC;YAC1C,MAAM,IAAI,KAAK,CACb,sEAAsE,CACvE,CAAC;QACJ,CAAC;QACD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,gBAAgB,CAAC,CAAC,EAAE,CAAC;YACzC,MAAM,IAAI,KAAK,CACb,qEAAqE,CACtE,CAAC;QACJ,CAAC;IACH,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;IAEb,SAAS,CAAC,GAAG,EAAE;QACb,OAAO,MAAM,CAAC,eAAe,CAC3B,yBAAyB,EACzB,MAAM,CAAC,EAAE;YACP,MAAM,SAAS,GAAG,aAAa,EAAE,CAAC;YAClC,MAAM,IAAI,GAAG,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC,CAAC;YACtC,IAAI,IAAI,EAAE,QAAQ,EAAE,CAAC;gBACnB,MAAM,UAAU,GAAG,aAAa,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;gBACjD,IAAI,UAAU,IAAI,mBAAmB,CAAC,UAAU,CAAC,EAAE,CAAC;oBAClD,yDAAyD;oBACzD,qEAAqE;oBACrE,OAAO,KAAK,CAAC;gBACf,CAAC;YACH,CAAC;YACD,OAAO,KAAK,CAAC;QACf,CAAC,EACD,qBAAqB,CACtB,CAAC;IACJ,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;IAEb,+DAA+D;IAC/D,SAAS,CAAC,GAAG,EAAE;QACb,OAAO,MAAM,CAAC,eAAe,CAC3B,iBAAiB,EACjB,KAAK,CAAC,EAAE;YACN,MAAM,SAAS,GAAG,aAAa,EAAE,CAAC;YAClC,MAAM,IAAI,GAAG,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC,CAAC;YACtC,IAAI,IAAI,EAAE,QAAQ,EAAE,CAAC;gBACnB,MAAM,UAAU,GAAG,aAAa,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;gBACjD,IAAI,UAAU,IAAI,mBAAmB,CAAC,UAAU,CAAC,EAAE,CAAC;oBAClD,IAAI,KAAK,CAAC,QAAQ,EAAE,CAAC;wBACnB,4BAA4B;wBAC5B,KAAK,CAAC,cAAc,EAAE,CAAC;wBACvB,MAAM,IAAI,GAAG,UAAU,CAAC,cAAc,EAAE,CAAC;wBACzC,MAAM,oBAAoB,GACxB,UACD,CAAC,uBAAuB,EAAE,CAAC;wBAE5B,MAAM,oBAAoB,GACxB,wBAAwB,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;wBAErD,IAAI,oBAAoB,EAAE,CAAC;4BACzB,MAAM,iBAAiB,GAAG,aAAa,CACrC,oBAAoB,CACA,CAAC;4BACvB,IAAI,iBAAiB,EAAE,CAAC;gCACtB,kDAAkD;gCAClD,MAAM,eAAe,GAAG,iBAAiB,CAAC,eAAe,CAAC;gCAE1D,sCAAsC;gCACtC,MAAM,YAAY,GAChB,iBAAiB,CAAC,WAAW,EAAuB,CAAC;gCAEvD,0BAA0B;gCAC1B,IAAI,CAAC,eAAe,CAAC,MAAM,IAAI,MAAM,EAAE,CAAC;oCACtC,eAAe,CAAC,MAAM,GAAG,MAAM,CAAC;gCAClC,CAAC;gCAED,eAAe;gCACf,YAAY,CAAC,MAAM,GAAG,IAAI,CAAC;gCAE3B,mBAAmB;gCACnB,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;oCAC5B,2BAA2B;oCAC3B,MAAM,aAAa,GAAG,sBAAsB,EAAE,CAAC;oCAC/C,yDAAyD;oCACzD,YAAY,CAAC,SAAS,GAAG,CAAC,aAAa,CAAC,CAAC;oCACzC,eAAe,CAAC,UAAU,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;oCAC5C,YAAY,CAAC,eAAe,EAAE,CAAC;gCACjC,CAAC;qCAAM,CAAC;oCACN,eAAe,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gCAChC,CAAC;gCAED,OAAO,IAAI,CAAC;4BACd,CAAC;wBACH,CAAC;wBACD,yBAAyB;wBACzB,MAAM,aAAa,GAAG,IAAI,aAAa,CAAC,OAAO,EAAE,EAAE,MAAM,EAAE,EAAE,CAAC,CAAC;wBAC/D,MAAM,iBAAiB,GAAG,wBAAwB,CAChD,IAAI,EACJ,aAAa,EACb,EAAE,EACF,IAAI,EACJ,oBAAoB,EACpB,IAAI,CAAC,KAAK,EAAE,CACb,CAAC;wBAEF,0DAA0D;wBAC1D,UAAU,CAAC,WAAW,CAAC,iBAAiB,CAAC,CAAC;wBAC1C,MAAM,aAAa,GAAG,oBAAoB,EAAE,CAAC;wBAC7C,aAAa,CAAC,GAAG,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;wBACpC,aAAa,CAAC,aAAa,CAAC,CAAC;wBAC7B,OAAO,IAAI,CAAC;oBACd,CAAC;oBACD,8CAA8C;oBAC9C,MAAM,SAAS,GAAG,aAAa,EAAE,CAAC;oBAClC,IAAI,iBAAiB,CAAC,SAAS,CAAC,EAAE,CAAC;wBACjC,MAAM,SAAS,GAAG,oBAAoB,EAAE,CAAC;wBACzC,SAAS,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;wBACnC,KAAK,CAAC,cAAc,EAAE,CAAC;wBACvB,OAAO,IAAI,CAAC;oBACd,CAAC;oBACD,OAAO,KAAK,CAAC;gBACf,CAAC;YACH,CAAC;YACD,OAAO,KAAK,CAAC;QACf,CAAC,EACD,oBAAoB,CACrB,CAAC;IACJ,CAAC,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC;IAErB,kEAAkE;IAClE,4EAA4E;IAC5E,SAAS,CAAC,GAAG,EAAE;QACb,OAAO,MAAM,CAAC,eAAe,CAC3B,kBAAkB,EAClB,CAAC,KAAoB,EAAE,EAAE;YACvB,MAAM,SAAS,GAAG,aAAa,EAAE,CAAC;YAClC,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,EAAE,CAAC;gBAClC,OAAO,KAAK,CAAC;YACf,CAAC;YAED,gEAAgE;YAChE,IAAI,WAAW,GAAuB,SAAS,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;YACjE,IAAI,gBAAgB,GAA4B,IAAI,CAAC;YACrD,IAAI,KAAK,GAAG,CAAC,CAAC;YACd,MAAM,QAAQ,GAAG,EAAE,CAAC;YAEpB,OAAO,WAAW,IAAI,KAAK,GAAG,QAAQ,EAAE,CAAC;gBACvC,IAAI,mBAAmB,CAAC,WAAW,CAAC,EAAE,CAAC;oBACrC,gBAAgB,GAAG,WAA+B,CAAC;oBACnD,MAAM;gBACR,CAAC;gBAED,WAAW,GAAG,WAAW,CAAC,SAAS,EAAE,CAAC;gBACtC,KAAK,EAAE,CAAC;YACV,CAAC;YAED,IAAI,gBAAgB,EAAE,CAAC;gBACrB,KAAK,CAAC,cAAc,EAAE,CAAC;gBACvB,KAAK,CAAC,eAAe,EAAE,CAAC;gBAExB,6EAA6E;gBAC7E,MAAM,WAAW,GAAG,SAAS,CAAC,WAAW,EAAE,CAAC;gBAC5C,MAAM,OAAO,GAAG,gBAAgB,CAAC,MAAM,EAAE,CAAC;gBAC1C,MAAM,QAAQ,GAAG,gBAAgB,CAAC,eAAe,EAAE,CAAC;gBAEpD,kFAAkF;gBAClF,wFAAwF;gBACxF,IAAI,yBAAyB,GAAG,KAAK,CAAC;gBAEtC,IAAI,CAAC,WAAW,EAAE,CAAC;oBACjB,iCAAiC;oBACjC,MAAM,UAAU,GAAG,SAAS,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;oBAC9C,MAAM,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;oBAE5C,yEAAyE;oBACzE,MAAM,YAAY,GAChB,UAAU,CAAC,MAAM,EAAE,KAAK,OAAO;wBAC/B,UAAU,CAAC,SAAS,EAAE,EAAE,MAAM,EAAE,KAAK,OAAO,CAAC;oBAC/C,MAAM,WAAW,GACf,SAAS,CAAC,MAAM,EAAE,KAAK,OAAO;wBAC9B,SAAS,CAAC,SAAS,EAAE,EAAE,MAAM,EAAE,KAAK,OAAO,CAAC;oBAE9C,IAAI,YAAY,IAAI,WAAW,EAAE,CAAC;wBAChC,uDAAuD;wBACvD,MAAM,YAAY,GAAG,SAAS,CAAC,cAAc,EAAE,CAAC;wBAChD,MAAM,QAAQ,GAAG,gBAAgB,CAAC,cAAc,EAAE,CAAC;wBACnD,yBAAyB,GAAG,YAAY,KAAK,QAAQ,CAAC;oBACxD,CAAC;gBACH,CAAC;gBAED,OAAO,CAAC,IAAI,CAAC,qBAAqB,EAAE;oBAClC,WAAW;oBACX,yBAAyB;oBACzB,YAAY,EAAE,SAAS,CAAC,cAAc,EAAE,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC;oBACzD,QAAQ,EAAE,gBAAgB,CAAC,cAAc,EAAE,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC;iBAC7D,CAAC,CAAC;gBAEH,IAAI,yBAAyB,EAAE,CAAC;oBAC9B,uCAAuC;oBACvC,OAAO,CAAC,IAAI,CACV,uDAAuD,CACxD,CAAC;oBACF,MAAM,IAAI,GAAG,QAAQ,EAAE,CAAC;oBACxB,MAAM,cAAc,GAAG,qBAAqB,EAAE,CAAC;oBAC/C,cAAc,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,SAAS,CAAC,CAAC;oBACvD,cAAc,CAAC,KAAK,CAAC,GAAG,CACtB,IAAI,CAAC,MAAM,EAAE,EACb,IAAI,CAAC,eAAe,EAAE,EACtB,SAAS,CACV,CAAC;oBACF,aAAa,CAAC,cAAc,CAAC,CAAC;oBAC9B,OAAO,IAAI,CAAC;gBACd,CAAC;qBAAM,CAAC;oBACN,sDAAsD;oBACtD,OAAO,CAAC,IAAI,CAAC,mDAAmD,CAAC,CAAC;oBAClE,MAAM,cAAc,GAAG,qBAAqB,EAAE,CAAC;oBAC/C,cAAc,CAAC,MAAM,CAAC,GAAG,CAAC,gBAAgB,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,SAAS,CAAC,CAAC;oBACnE,cAAc,CAAC,KAAK,CAAC,GAAG,CACtB,gBAAgB,CAAC,MAAM,EAAE,EACzB,QAAQ,EACR,SAAS,CACV,CAAC;oBACF,aAAa,CAAC,cAAc,CAAC,CAAC;oBAC9B,OAAO,IAAI,CAAC;gBACd,CAAC;YACH,CAAC;YAED,OAAO,KAAK,CAAC,CAAC,kDAAkD;QAClE,CAAC,EACD,yBAAyB,CAC1B,CAAC;IACJ,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;IAEb,SAAS,CAAC,GAAG,EAAE;QACb,OAAO,MAAM,CAAC,eAAe,CAC3B,mCAAmC,EACnC,CAAC,KAA8B,EAAE,EAAE;YACjC,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,KAAK,CAAC;YAChC,MAAM,SAAS,GAAG,aAAa,EAAE,CAAC;YAClC,IAAI,iBAAiB,CAAC,SAAS,CAAC,EAAE,CAAC;gBACjC,uCAAuC;gBACvC,SAAS,CAAC,UAAU,EAAE,CAAC;gBAEvB,8CAA8C;gBAC9C,MAAM,eAAe,GAAG,uBAAuB,CAAC,QAAQ,CAAC,CAAC;gBAC1D,MAAM,eAAe,GAAG,eAAe,CAAC,uBAAuB,EAAE,CAAC;gBAElE,SAAS,CAAC,WAAW,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;gBAEzC,yCAAyC;gBACzC,IAAI,IAAI,EAAE,CAAC;oBACT,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;gBAChC,CAAC;gBAED,qEAAqE;gBACrE,MAAM,aAAa,GAAG,IAAI,aAAa,CAAC,OAAO,EAAE,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC;gBACpE,MAAM,iBAAiB,GAAG,wBAAwB,CAChD,IAAI,EACJ,aAAa,EACb,OAAO,IAAI,EAAE,EACb,IAAI,EACJ,eAAe,EACf,IAAI,CAAC,KAAK,EAAE,CACb,CAAC;gBAEF,aAAa,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAC5C,CACE,WAA6B,EAC7B,KAAmC,EACnC,EAAE;oBACF,MAAM,CAAC,MAAM,CACX,GAAG,EAAE;wBACH,iBAAiB,CAAC,UAAU,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,CAAC;oBACrD,CAAC,EACD,EAAE,QAAQ,EAAE,IAAI,EAAE,CACnB,CAAC,CAAC,8CAA8C;gBACnD,CAAC,CACF,CAAC;gBAEF,2CAA2C;gBAC3C,MAAM,MAAM,GAAG,eAAe,CAAC,SAAS,EAAE,CAAC;gBAC3C,IAAI,MAAM,EAAE,CAAC;oBACX,0DAA0D;oBAC1D,eAAe,CAAC,WAAW,CAAC,iBAAiB,CAAC,CAAC;gBACjD,CAAC;gBAED,6DAA6D;gBAC7D,eAAe,CAAC,WAAW,EAAE,CAAC;YAChC,CAAC;YACD,OAAO,IAAI,CAAC;QACd,CAAC,EACD,uBAAuB,CACxB,CAAC;IACJ,CAAC,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC;IAErB;;;OAGG;IACH,MAAM,gBAAgB,GAAG,WAAW,CAClC,CAAC,IAAsB,EAAE,WAAmB,EAAE,EAAE;QAC9C,MAAM,IAAI,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;QACnC,MAAM,oBAAoB,GAAG,IAAI,CAAC,uBAAuB,EAAE,CAAC;QAC5D,MAAM,oBAAoB,GACxB,wBAAwB,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;QAErD,IAAI,oBAAoB,EAAE,CAAC;YACzB,MAAM,iBAAiB,GAAG,aAAa,CAAC,oBAAoB,CAAC,CAAC;YAC9D,IAAI,iBAAiB,EAAE,CAAC;gBACtB,kDAAkD;gBACjD,iBAAuC,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;gBAClE,iBAAuC,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;gBAC3D,OAAO,IAAI,CAAC;YACd,CAAC;QACH,CAAC;QACD,OAAO,KAAK,CAAC;IACf,CAAC,EACD,EAAE,CACH,CAAC;IAEF,mEAAmE;IACnE,SAAS,CAAC,GAAG,EAAE;QACb,OAAO,MAAM,CAAC,eAAe,CAC3B,wBAAwB,EACxB,GAAG,EAAE;YACH,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO,CAAC,IAAI,CAAC,0CAA0C,CAAC,CAAC;gBACzD,OAAO,KAAK,CAAC;YACf,CAAC;YAED,MAAM,SAAS,GAAG,aAAa,EAAE,CAAC;YAClC,IAAI,CAAC,SAAS;gBAAE,OAAO,KAAK,CAAC;YAE7B,MAAM,KAAK,GAAG,SAAS,CAAC,QAAQ,EAAE,CAAC;YACnC,MAAM,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;YAEtB,gDAAgD;YAChD,MAAM,UAAU,GAAG,IAAI,EAAE,SAAS,EAAE,CAAC;YACrC,IAAI,UAAU,IAAI,mBAAmB,CAAC,UAAU,CAAC,EAAE,CAAC;gBAClD,wCAAwC;gBACxC,OAAO,gBAAgB,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;YAC9C,CAAC;YACD,OAAO,KAAK,CAAC;QACf,CAAC,EACD,uBAAuB,CACxB,CAAC;IACJ,CAAC,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,gBAAgB,CAAC,CAAC,CAAC;IAEvC,6EAA6E;IAC7E,SAAS,CAAC,GAAG,EAAE;QACb,OAAO,MAAM,CAAC,eAAe,CAC3B,6BAA6B,EAC7B,GAAG,EAAE;YACH,IAAI,CAAC,MAAM,EAAE,CAAC;gBACZ,OAAO,CAAC,IAAI,CAAC,6CAA6C,CAAC,CAAC;gBAC5D,OAAO,KAAK,CAAC;YACf,CAAC;YAED,mEAAmE;YACnE,MAAM,UAAU,GAAuB,EAAE,CAAC;YAE1C,SAAS,wBAAwB,CAAC,IAAiB;gBACjD,IAAI,mBAAmB,CAAC,IAAI,CAAC,EAAE,CAAC;oBAC9B,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACxB,CAAC;gBACD,IAAI,cAAc,CAAC,IAAI,CAAC,EAAE,CAAC;oBACzB,MAAM,QAAQ,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;oBACpC,KAAK,MAAM,KAAK,IAAI,QAAQ,EAAE,CAAC;wBAC7B,wBAAwB,CAAC,KAAK,CAAC,CAAC;oBAClC,CAAC;gBACH,CAAC;YACH,CAAC;YAED,MAAM,IAAI,GAAG,QAAQ,EAAE,CAAC;YACxB,wBAAwB,CAAC,IAAI,CAAC,CAAC;YAE/B,IAAI,UAAU,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;gBAC5B,OAAO,CAAC,IAAI,CAAC,qCAAqC,CAAC,CAAC;gBACpD,OAAO,KAAK,CAAC;YACf,CAAC;YAED,OAAO,CAAC,GAAG,CACT,gBAAgB,UAAU,CAAC,MAAM,0BAA0B,CAC5D,CAAC;YAEF,0DAA0D;YAC1D,UAAU,CAAC,OAAO,CAAC,CAAC,IAAsB,EAAE,EAAE;gBAC5C,gBAAgB,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;YACjC,CAAC,CAAC,CAAC;YAEH,OAAO,IAAI,CAAC;QACd,CAAC,EACD,uBAAuB,CACxB,CAAC;IACJ,CAAC,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,gBAAgB,CAAC,CAAC,CAAC;IAEvC,6DAA6D;IAC7D,SAAS,CAAC,GAAG,EAAE;QACb,OAAO,MAAM,CAAC,eAAe,CAC3B,8BAA8B,EAC9B,GAAG,EAAE;YACH,IAAI,CAAC,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC;gBAC7B,OAAO,CAAC,IAAI,CAAC,0CAA0C,CAAC,CAAC;gBACzD,OAAO,KAAK,CAAC;YACf,CAAC;YAED,kDAAkD;YAClD,CAAC,KAAK,IAAI,EAAE;gBACV,IAAI,CAAC;oBACH,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;wBAC3B,OAAO,CAAC,KAAK,CAAC,qCAAqC,CAAC,CAAC;wBACrD,OAAO;oBACT,CAAC;oBACD,OAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;oBACvC,MAAM,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;oBACtC,OAAO,CAAC,GAAG,CAAC,iCAAiC,CAAC,CAAC;gBACjD,CAAC;gBAAC,OAAO,KAAK,EAAE,CAAC;oBACf,OAAO,CAAC,KAAK,CAAC,6BAA6B,EAAE,KAAK,CAAC,CAAC;gBACtD,CAAC;YACH,CAAC,CAAC,EAAE,CAAC;YAEL,OAAO,IAAI,CAAC;QACd,CAAC,EACD,uBAAuB,CACxB,CAAC;IACJ,CAAC,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC;IAErB,kEAAkE;IAClE,SAAS,CAAC,GAAG,EAAE;QACb,OAAO,MAAM,CAAC,eAAe,CAC3B,yBAAyB,EACzB,GAAG,EAAE;YACH,IAAI,YAAY,GAAG,CAAC,CAAC;YAErB,iEAAiE;YACjE,SAAS,mBAAmB,CAAC,IAAiB;gBAC5C,IAAI,IAAI,YAAY,iBAAiB,EAAE,CAAC;oBACtC,mEAAmE;oBACnE,IAAI,IAAI,CAAC,eAAe,EAAE,CAAC;wBACzB,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;wBAC7B,YAAY,EAAE,CAAC;oBACjB,CAAC;gBACH,CAAC;gBACD,IAAI,cAAc,CAAC,IAAI,CAAC,EAAE,CAAC;oBACzB,MAAM,QAAQ,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;oBACpC,KAAK,MAAM,KAAK,IAAI,QAAQ,EAAE,CAAC;wBAC7B,mBAAmB,CAAC,KAAK,CAAC,CAAC;oBAC7B,CAAC;gBACH,CAAC;YACH,CAAC;YAED,MAAM,IAAI,GAAG,QAAQ,EAAE,CAAC;YACxB,mBAAmB,CAAC,IAAI,CAAC,CAAC;YAE1B,IAAI,YAAY,GAAG,CAAC,EAAE,CAAC;gBACrB,OAAO,CAAC,GAAG,CAAC,0BAA0B,YAAY,QAAQ,CAAC,CAAC;YAC9D,CAAC;iBAAM,CAAC;gBACN,OAAO,CAAC,IAAI,CAAC,mCAAmC,CAAC,CAAC;YACpD,CAAC;YAED,OAAO,IAAI,CAAC;QACd,CAAC,EACD,uBAAuB,CACxB,CAAC;IACJ,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;IAEb,OAAO,IAAI,CAAC;AACd,CAAC,CAAC;AAEF,eAAe,wBAAwB,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/plugins/LexicalInlineCompletionPlugin.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/plugins/LexicalInlineCompletionPlugin.d.ts
index 998047b..fb6e139 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/plugins/LexicalInlineCompletionPlugin.d.ts
+++ b/node_modules/@datalayer/jupyter-lexical/lib/plugins/LexicalInlineCompletionPlugin.d.ts
@@ -1,3 +1,10 @@
+import { type LexicalCommand } from 'lexical';
+import { type PartialInlineCompletionConfig } from './InlineCompletionConfig';
+/**
+ * Command to manually trigger inline completion.
+ * Dispatched by keyboard shortcut (e.g., Ctrl+Space).
+ */
+export declare const TRIGGER_INLINE_COMPLETION_COMMAND: LexicalCommand<void>;
 /**
  * Provider interface for LLM completion services.
  * Implement this to integrate your LLM backend.
@@ -23,6 +30,8 @@ export interface CompletionRequest {
     offset: number;
     /** Programming language (e.g., 'python') */
     language?: string;
+    /** Content type: 'code' for Jupyter cells, 'prose' for natural language */
+    contentType?: 'code' | 'prose';
 }
 /**
  * Context information for completion request.
@@ -53,10 +62,18 @@ export interface CompletionItem {
 export interface LexicalInlineCompletionPluginProps {
     /** Array of completion providers (currently uses first one) */
     providers: IInlineCompletionProvider[];
-    /** Debounce delay in milliseconds before requesting completion */
+    /**
+     * Debounce delay in milliseconds before requesting completion.
+     * @deprecated Use config.debounceMs instead
+     */
     debounceMs?: number;
     /** Whether completions are enabled */
     enabled?: boolean;
+    /**
+     * Configuration for inline completions.
+     * Supports both code and prose content types with flexible triggering.
+     */
+    config?: PartialInlineCompletionConfig;
 }
 /**
  * Lexical plugin component for inline code completions.
@@ -65,5 +82,5 @@ export interface LexicalInlineCompletionPluginProps {
  * @param props - Plugin configuration
  * @returns null - Plugin has no visual component
  */
-export declare function LexicalInlineCompletionPlugin({ providers, debounceMs, enabled, }: LexicalInlineCompletionPluginProps): null;
+export declare function LexicalInlineCompletionPlugin({ providers, debounceMs: deprecatedDebounceMs, enabled, config: userConfig, }: LexicalInlineCompletionPluginProps): null;
 export default LexicalInlineCompletionPlugin;
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/plugins/LexicalInlineCompletionPlugin.js b/node_modules/@datalayer/jupyter-lexical/lib/plugins/LexicalInlineCompletionPlugin.js
index 9346e0a..055a59c 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/plugins/LexicalInlineCompletionPlugin.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/plugins/LexicalInlineCompletionPlugin.js
@@ -36,10 +36,17 @@
  */
 import { useEffect, useState, useRef, useCallback } from 'react';
 import { useLexicalComposerContext } from '@lexical/react/LexicalComposerContext';
-import { $getSelection, $isRangeSelection, $getNodeByKey, $createTextNode, COMMAND_PRIORITY_LOW, COMMAND_PRIORITY_HIGH, KEY_TAB_COMMAND, KEY_ESCAPE_COMMAND, } from 'lexical';
+import { $getSelection, $isRangeSelection, $getNodeByKey, $createTextNode, COMMAND_PRIORITY_LOW, COMMAND_PRIORITY_HIGH, KEY_TAB_COMMAND, KEY_ESCAPE_COMMAND, createCommand, } from 'lexical';
 import { $isJupyterInputNode, JupyterInputNode, } from '../nodes/JupyterInputNode';
 import { $isJupyterInputHighlightNode } from '../nodes/JupyterInputHighlightNode';
 import { $createInlineCompletionNode, $isInlineCompletionNode, } from '../nodes/InlineCompletionNode';
+import { mergeConfig, } from './InlineCompletionConfig';
+import { extractContext } from './InlineCompletionContextExtractor';
+/**
+ * Command to manually trigger inline completion.
+ * Dispatched by keyboard shortcut (e.g., Ctrl+Space).
+ */
+export const TRIGGER_INLINE_COMPLETION_COMMAND = createCommand('TRIGGER_INLINE_COMPLETION_COMMAND');
 /**
  * Lexical plugin component for inline code completions.
  * Must be used within LexicalComposer context.
@@ -47,9 +54,14 @@ import { $createInlineCompletionNode, $isInlineCompletionNode, } from '../nodes/
  * @param props - Plugin configuration
  * @returns null - Plugin has no visual component
  */
-export function LexicalInlineCompletionPlugin({ providers, debounceMs = 200, enabled = true, }) {
+export function LexicalInlineCompletionPlugin({ providers, debounceMs: deprecatedDebounceMs, enabled = true, config: userConfig, }) {
     const [editor] = useLexicalComposerContext();
     const [currentCompletion, setCurrentCompletion] = useState(null);
+    // Merge user config with defaults
+    const config = mergeConfig(userConfig);
+    // Debounce precedence: userConfig (new) > deprecatedDebounceMs (old) > default
+    // Note: Using ?? operator, so 0 values will fall through (not a realistic use case)
+    const debounceMs = userConfig?.debounceMs ?? deprecatedDebounceMs ?? config.debounceMs;
     const debounceTimerRef = useRef(null);
     const lastRequestRef = useRef('');
     const lastCellTextRef = useRef('');
@@ -59,12 +71,7 @@ export function LexicalInlineCompletionPlugin({ providers, debounceMs = 200, ena
      * Cleanup on unmount
      */
     useEffect(() => {
-        console.warn('[InlineCompletionPlugin] Mounted', {
-            enabled,
-            providers: providers.length,
-        });
         return () => {
-            console.warn('[InlineCompletionPlugin] Unmounted - cleaning up timer');
             if (debounceTimerRef.current) {
                 clearTimeout(debounceTimerRef.current);
                 debounceTimerRef.current = null;
@@ -74,41 +81,25 @@ export function LexicalInlineCompletionPlugin({ providers, debounceMs = 200, ena
     /**
      * Request completion from providers
      */
-    const requestCompletion = useCallback(async (cellText, cursorOffset, language) => {
+    const requestCompletion = useCallback(async (cellText, cursorOffset, language, contentType = 'code') => {
         if (!providers || providers.length === 0) {
-            console.warn('[InlineCompletionPlugin]  No provider configured');
             return;
         }
         const provider = providers[0];
         try {
-            console.warn('[InlineCompletionPlugin]  Requesting completion:', {
-                textLength: cellText.length,
-                cursorOffset,
-                language,
-                before: cellText
-                    .substring(0, cursorOffset)
-                    .substring(Math.max(0, cursorOffset - 50)),
-                after: cellText.substring(cursorOffset, cursorOffset + 50),
-            });
             const before = cellText.substring(0, cursorOffset);
             const after = cellText.substring(cursorOffset);
-            const result = await provider.fetch({ text: cellText, offset: cursorOffset, language }, { before, after });
-            console.warn('[InlineCompletionPlugin]  Received response:', {
-                itemCount: result?.items?.length || 0,
-                firstItem: result?.items?.[0]?.insertText?.substring(0, 100),
-            });
+            const result = await provider.fetch({ text: cellText, offset: cursorOffset, language, contentType }, { before, after });
             if (result && result.items && result.items.length > 0) {
                 const completion = result.items[0].insertText;
-                console.warn('[InlineCompletionPlugin]  Setting completion:', completion.substring(0, 100));
                 setCurrentCompletion(completion);
             }
             else {
-                console.warn('[InlineCompletionPlugin]  No completion items');
                 setCurrentCompletion(null);
             }
         }
         catch (error) {
-            console.error('[InlineCompletionPlugin]  Error requesting completion:', error);
+            console.error('[InlineCompletionPlugin] Error requesting completion:', error);
             setCurrentCompletion(null);
         }
     }, [providers]);
@@ -122,177 +113,146 @@ export function LexicalInlineCompletionPlugin({ providers, debounceMs = 200, ena
     useEffect(() => {
         if (!enabled)
             return;
-        console.warn('[InlineCompletionPlugin]  Registering update listener');
         return editor.registerUpdateListener(({ editorState }) => {
-            console.warn('[InlineCompletionPlugin]  Editor update fired');
             editorState.read(() => {
                 const selection = $getSelection();
-                console.warn('[InlineCompletionPlugin] Selection:', {
-                    type: selection?.constructor.name,
-                    isRange: $isRangeSelection(selection),
-                    isCollapsed: $isRangeSelection(selection)
-                        ? selection.isCollapsed()
-                        : false,
-                });
                 if (!$isRangeSelection(selection) || !selection.isCollapsed()) {
-                    console.warn('[InlineCompletionPlugin]  Not collapsed selection');
                     setCurrentCompletion(null);
                     return;
                 }
                 const anchorNode = selection.anchor.getNode();
-                console.warn('[InlineCompletionPlugin] Anchor node:', {
-                    type: anchorNode.getType(),
-                    key: anchorNode.getKey(),
-                });
-                const jupyterInputNode = findJupyterInputParent(anchorNode);
-                if (!jupyterInputNode) {
-                    console.warn('[InlineCompletionPlugin]  Not in JupyterInputNode');
-                    setCurrentCompletion(null);
-                    return;
-                }
-                console.warn('[InlineCompletionPlugin]  Inside JupyterInputNode');
-                // Get cell text and cursor position
-                const cellText = jupyterInputNode.getTextContent();
-                const cursorOffset = getCursorOffset(jupyterInputNode, selection);
-                // Check if cell text actually changed (not just cursor movement)
-                if (cellText === lastCellTextRef.current) {
-                    console.warn('[InlineCompletionPlugin]  Cell text unchanged, skipping (cursor movement only)');
-                    return;
-                }
-                // Update last cell text
-                lastCellTextRef.current = cellText;
-                console.warn('[InlineCompletionPlugin] Cell state:', {
-                    cellLength: cellText.length,
-                    cursorOffset,
-                    lastChars: cellText.substring(Math.max(0, cursorOffset - 20), cursorOffset),
-                });
-                // Check if there's ANY non-whitespace content before cursor
-                // (either on current line or previous lines)
-                const textBeforeCursor = cellText.substring(0, cursorOffset);
-                if (textBeforeCursor.trim().length === 0) {
-                    console.warn('[InlineCompletionPlugin]  No content before cursor (empty or whitespace only)');
+                // Detect content type (code vs prose)
+                const contentType = detectContentType(anchorNode);
+                // Check if auto-trigger is enabled for this content type
+                const contentConfig = contentType === 'code' ? config.code : config.prose;
+                if (contentConfig.triggerMode !== 'auto') {
                     setCurrentCompletion(null);
                     return;
                 }
-                // Also check if current line is empty (e.g., just pressed Enter)
-                // Find start of current line
-                const lineStart = textBeforeCursor.lastIndexOf('\n') + 1;
-                const currentLineBeforeCursor = textBeforeCursor.substring(lineStart);
-                if (currentLineBeforeCursor.trim().length === 0) {
-                    console.warn('[InlineCompletionPlugin]  Current line is empty (no completion on blank lines)');
-                    setCurrentCompletion(null);
-                    return;
-                }
-                // Only request at end of line (current line, not entire cell)
-                const textAfterCursor = cellText.substring(cursorOffset);
-                const nextNewline = textAfterCursor.indexOf('\n');
-                // Get text after cursor on CURRENT LINE only (before next newline)
-                const textAfterCursorOnLine = nextNewline === -1
-                    ? textAfterCursor
-                    : textAfterCursor.substring(0, nextNewline);
-                console.warn('[InlineCompletionPlugin] After cursor:', {
-                    nextNewline,
-                    onCurrentLine: textAfterCursorOnLine,
-                    trimmedOnLineLength: textAfterCursorOnLine.trim().length,
-                });
-                // Check if there's text after cursor ON THE CURRENT LINE
-                if (textAfterCursorOnLine.trim().length > 0) {
-                    let hasCompletionNode = false;
-                    const children = jupyterInputNode.getChildren();
-                    for (const child of children) {
-                        if ($isInlineCompletionNode(child)) {
-                            hasCompletionNode = true;
-                            break;
+                // For code: require JupyterInputNode (backward compatibility)
+                if (contentType === 'code') {
+                    const jupyterInputNode = findJupyterInputParent(anchorNode);
+                    if (!jupyterInputNode) {
+                        setCurrentCompletion(null);
+                        return;
+                    }
+                    // Get cell text and cursor position
+                    const cellText = jupyterInputNode.getTextContent();
+                    const cursorOffset = getCursorOffset(jupyterInputNode, selection);
+                    // Check if cell text actually changed (not just cursor movement)
+                    if (cellText === lastCellTextRef.current) {
+                        return;
+                    }
+                    // Update last cell text
+                    lastCellTextRef.current = cellText;
+                    // Check if there's ANY non-whitespace content before cursor
+                    const textBeforeCursor = cellText.substring(0, cursorOffset);
+                    if (textBeforeCursor.trim().length === 0) {
+                        setCurrentCompletion(null);
+                        return;
+                    }
+                    // Check if current line is empty
+                    const lineStart = textBeforeCursor.lastIndexOf('\n') + 1;
+                    const currentLineBeforeCursor = textBeforeCursor.substring(lineStart);
+                    if (currentLineBeforeCursor.trim().length === 0) {
+                        setCurrentCompletion(null);
+                        return;
+                    }
+                    // Only request at end of line
+                    const textAfterCursor = cellText.substring(cursorOffset);
+                    const nextNewline = textAfterCursor.indexOf('\n');
+                    const textAfterCursorOnLine = nextNewline === -1
+                        ? textAfterCursor
+                        : textAfterCursor.substring(0, nextNewline);
+                    if (textAfterCursorOnLine.trim().length > 0) {
+                        let hasCompletionNode = false;
+                        const children = jupyterInputNode.getChildren();
+                        for (const child of children) {
+                            if ($isInlineCompletionNode(child)) {
+                                hasCompletionNode = true;
+                                break;
+                            }
                         }
+                        if (!hasCompletionNode) {
+                            setCurrentCompletion(null);
+                            return;
+                        }
+                    }
+                    // Debounce requests
+                    if (debounceTimerRef.current) {
+                        clearTimeout(debounceTimerRef.current);
                     }
-                    console.warn('[InlineCompletionPlugin] Text after cursor check:', {
-                        textAfterLength: textAfterCursor.trim().length,
-                        hasCompletionNode,
-                        childrenCount: children.length,
-                    });
-                    if (!hasCompletionNode) {
-                        console.warn('[InlineCompletionPlugin]  Not at end of line (no completion node found)');
+                    const requestKey = `${cellText}:${cursorOffset}`;
+                    if (cellText.trim().length < 2) {
                         setCurrentCompletion(null);
+                        lastRequestRef.current = '';
                         return;
                     }
-                    // If we found our completion node, continue (don't clear it)
-                    console.warn('[InlineCompletionPlugin]  Has completion node, allowing');
-                }
-                // Debounce requests
-                if (debounceTimerRef.current) {
-                    clearTimeout(debounceTimerRef.current);
-                }
-                const requestKey = `${cellText}:${cursorOffset}`;
-                if (cellText.trim().length < 2) {
-                    console.warn('[InlineCompletionPlugin]  Text too short');
-                    setCurrentCompletion(null);
-                    lastRequestRef.current = '';
-                    return;
+                    // Schedule timer
+                    debounceTimerRef.current = setTimeout(() => {
+                        if (requestKey !== lastRequestRef.current) {
+                            lastRequestRef.current = requestKey;
+                            requestCompletionRef.current?.(cellText, cursorOffset, contentConfig.language || 'python', 'code');
+                        }
+                    }, debounceMs);
                 }
-                // Schedule timer even if same request (debounce behavior)
-                console.warn('[InlineCompletionPlugin]  Scheduling request in', debounceMs, 'ms', requestKey === lastRequestRef.current
-                    ? '(same request)'
-                    : '(new request)');
-                debounceTimerRef.current = setTimeout(() => {
-                    console.warn('[InlineCompletionPlugin]  Firing completion request');
-                    // Only make actual request if different from last
-                    if (requestKey !== lastRequestRef.current) {
-                        lastRequestRef.current = requestKey;
-                        requestCompletionRef.current?.(cellText, cursorOffset, 'python');
+                else {
+                    // Prose content - extract context and request completion
+                    const context = extractContext(contentType, anchorNode, selection, contentConfig.contextBefore, contentConfig.contextAfter);
+                    // Check if text actually changed
+                    if (context.fullText === lastCellTextRef.current) {
+                        return;
+                    }
+                    lastCellTextRef.current = context.fullText;
+                    // Minimum content check
+                    if (context.before.trim().length < 10) {
+                        setCurrentCompletion(null);
+                        return;
                     }
-                    else {
-                        console.warn('[InlineCompletionPlugin]  Same as last completed request, skipping API call');
+                    // Debounce requests
+                    if (debounceTimerRef.current) {
+                        clearTimeout(debounceTimerRef.current);
                     }
-                }, debounceMs);
+                    const requestKey = `prose:${context.fullText.length}`;
+                    // Schedule timer
+                    debounceTimerRef.current = setTimeout(() => {
+                        if (requestKey !== lastRequestRef.current) {
+                            lastRequestRef.current = requestKey;
+                            // Request prose completion with extracted context
+                            requestCompletionRef.current?.(context.fullText, context.before.length, // Cursor offset is at end of "before" text
+                            contentConfig.language || 'markdown', 'prose');
+                        }
+                    }, debounceMs);
+                }
             });
         });
-    }, [editor, enabled, debounceMs]); // Removed requestCompletion dependency
+    }, [editor, enabled, debounceMs, config.code, config.prose]);
     /**
      * Insert/update/remove the InlineCompletionNode based on currentCompletion
      */
     useEffect(() => {
         if (!enabled)
             return;
-        console.warn('[InlineCompletionPlugin]  Node management effect triggered:', {
-            hasCompletion: !!currentCompletion,
-            completionLength: currentCompletion?.length || 0,
-            hasExistingNode: !!completionNodeKeyRef.current,
-        });
         editor.update(() => {
             const selection = $getSelection();
-            console.warn('[InlineCompletionPlugin] Selection for insertion:', {
-                type: selection?.constructor.name,
-                isRange: $isRangeSelection(selection),
-            });
             if (!$isRangeSelection(selection)) {
-                console.warn('[InlineCompletionPlugin]  Cannot manage nodes - no range selection');
                 return;
             }
             // Remove existing completion node
             if (completionNodeKeyRef.current) {
-                console.warn('[InlineCompletionPlugin]  Removing existing node:', completionNodeKeyRef.current);
                 const existingNode = $getNodeByKey(completionNodeKeyRef.current);
                 if (existingNode && $isInlineCompletionNode(existingNode)) {
                     existingNode.remove();
-                    console.warn('[InlineCompletionPlugin]  Removed old node');
-                }
-                else {
-                    console.warn('[InlineCompletionPlugin]  Old node not found');
                 }
                 completionNodeKeyRef.current = null;
             }
             // Insert new completion node if we have completion text
             if (currentCompletion && currentCompletion.trim().length > 0) {
-                console.warn('[InlineCompletionPlugin]  Inserting completion node:', currentCompletion.substring(0, 50));
                 const completionNode = $createInlineCompletionNode(currentCompletion);
                 // Insert completion node at cursor position
                 // Get anchor node and insert without breaking selection
                 const anchorNode = selection.anchor.getNode();
                 const anchorOffset = selection.anchor.offset;
-                console.warn('[InlineCompletionPlugin]  Anchor:', {
-                    node: anchorNode.getType(),
-                    offset: anchorOffset,
-                });
                 // Handle different node types at cursor
                 if (anchorNode.getType() === 'text') {
                     const textNode = anchorNode; // TextNode
@@ -301,43 +261,16 @@ export function LexicalInlineCompletionPlugin({ providers, debounceMs = 200, ena
                     const nodeAfterSplit = splitNodes[0];
                     // Insert completion after the first part
                     nodeAfterSplit.insertAfter(completionNode);
-                    console.warn('[InlineCompletionPlugin]  Inserted after text split');
                 }
                 else if (anchorNode.getType() === 'jupyter-input-highlight') {
                     // We're in a syntax highlight wrapper - insert after it
-                    console.warn('[InlineCompletionPlugin] In highlight node, inserting after highlight wrapper');
                     anchorNode.insertAfter(completionNode);
                 }
                 else {
                     // For any other node type, insert after it
-                    console.warn('[InlineCompletionPlugin] Unknown node type, inserting after node');
                     anchorNode.insertAfter(completionNode);
                 }
                 completionNodeKeyRef.current = completionNode.getKey();
-                console.warn('[InlineCompletionPlugin]  Inserted DecoratorNode with key:', completionNode.getKey());
-                // Verify node persists in tree after insertion
-                setTimeout(() => {
-                    editor.read(() => {
-                        const node = $getNodeByKey(completionNode.getKey());
-                        if (node) {
-                            console.warn('[InlineCompletionPlugin]  Node still in tree after 10ms');
-                        }
-                        else {
-                            console.error('[InlineCompletionPlugin]  Node REMOVED from tree within 10ms!');
-                        }
-                    });
-                }, 10);
-                setTimeout(() => {
-                    editor.read(() => {
-                        const node = $getNodeByKey(completionNode.getKey());
-                        if (node) {
-                            console.warn('[InlineCompletionPlugin]  Node still in tree after 100ms');
-                        }
-                        else {
-                            console.error('[InlineCompletionPlugin]  Node REMOVED from tree within 100ms!');
-                        }
-                    });
-                }, 100);
             }
         });
     }, [editor, currentCompletion, enabled]);
@@ -348,7 +281,6 @@ export function LexicalInlineCompletionPlugin({ providers, debounceMs = 200, ena
     useEffect(() => {
         if (!enabled || !currentCompletion)
             return;
-        console.warn('[InlineCompletionPlugin]  Registering JupyterInputNode transform to maintain completion');
         return editor.registerNodeTransform(JupyterInputNode, (node) => {
             // Only add completion to the JupyterInputNode that contains the cursor
             const selection = $getSelection();
@@ -365,30 +297,22 @@ export function LexicalInlineCompletionPlugin({ providers, debounceMs = 200, ena
             const hasCompletion = children.some((child) => $isInlineCompletionNode(child));
             // If we have a completion to show but it's not in the tree, add it
             if (!hasCompletion && currentCompletion.trim()) {
-                console.warn('[InlineCompletionPlugin]  Transform: Re-adding completion to JupyterInputNode');
                 const completionNode = $createInlineCompletionNode(currentCompletion);
                 // Insert at cursor position, not at end
                 const anchorNode = selection.anchor.getNode();
                 const anchorOffset = selection.anchor.offset;
-                console.warn('[InlineCompletionPlugin]  Transform anchor:', {
-                    type: anchorNode.getType(),
-                    offset: anchorOffset,
-                });
                 // Use same insertion logic as initial insert
                 if (anchorNode.getType() === 'text') {
                     const textNode = anchorNode;
                     const splitNodes = textNode.splitText(anchorOffset);
                     const nodeAfterSplit = splitNodes[0];
                     nodeAfterSplit.insertAfter(completionNode);
-                    console.warn('[InlineCompletionPlugin]  Transform: Inserted after text split');
                 }
                 else if (anchorNode.getType() === 'jupyter-input-highlight') {
                     anchorNode.insertAfter(completionNode);
-                    console.warn('[InlineCompletionPlugin]  Transform: Inserted after highlight node');
                 }
                 else {
                     anchorNode.insertAfter(completionNode);
-                    console.warn('[InlineCompletionPlugin]  Transform: Inserted after unknown node');
                 }
                 completionNodeKeyRef.current = completionNode.getKey();
             }
@@ -435,8 +359,208 @@ export function LexicalInlineCompletionPlugin({ providers, debounceMs = 200, ena
             return true;
         }, COMMAND_PRIORITY_LOW);
     }, [editor, enabled, currentCompletion]);
+    /**
+     * Keyboard shortcut listener for manual trigger
+     */
+    useEffect(() => {
+        if (!enabled)
+            return;
+        const handleKeyDown = (event) => {
+            // Ignore modifier-only key events (Alt, Control, Meta, Shift, Dead, etc.)
+            const modifierKeys = [
+                'Alt',
+                'AltGraph',
+                'Control',
+                'Meta',
+                'Shift',
+                'Dead',
+                'CapsLock',
+                'NumLock',
+                'ScrollLock',
+                'Fn',
+            ];
+            if (modifierKeys.includes(event.key)) {
+                return; // Skip modifier-only events
+            }
+            if (matchesShortcut(event, config.manualTriggerKey)) {
+                event.preventDefault();
+                editor.dispatchCommand(TRIGGER_INLINE_COMPLETION_COMMAND, undefined);
+            }
+        };
+        const rootElement = editor.getRootElement();
+        if (rootElement) {
+            rootElement.addEventListener('keydown', handleKeyDown);
+            return () => {
+                rootElement.removeEventListener('keydown', handleKeyDown);
+            };
+        }
+        return undefined;
+    }, [editor, enabled, config.manualTriggerKey]);
+    /**
+     * Handle manual trigger command (e.g., Ctrl+Space)
+     * Supports both code and prose content types
+     */
+    useEffect(() => {
+        if (!enabled)
+            return;
+        return editor.registerCommand(TRIGGER_INLINE_COMPLETION_COMMAND, () => {
+            editor.getEditorState().read(() => {
+                const selection = $getSelection();
+                if (!$isRangeSelection(selection) || !selection.isCollapsed()) {
+                    return;
+                }
+                const anchorNode = selection.anchor.getNode();
+                // Detect content type
+                const contentType = detectContentType(anchorNode);
+                // Check if manual trigger is enabled for this content type
+                const contentConfig = contentType === 'code' ? config.code : config.prose;
+                if (contentConfig.triggerMode === 'disabled') {
+                    return;
+                }
+                // Clear any pending debounce timer
+                if (debounceTimerRef.current) {
+                    clearTimeout(debounceTimerRef.current);
+                    debounceTimerRef.current = null;
+                }
+                if (contentType === 'code') {
+                    // Code cell manual trigger
+                    const jupyterInputNode = findJupyterInputParent(anchorNode);
+                    if (!jupyterInputNode) {
+                        return;
+                    }
+                    const cellText = jupyterInputNode.getTextContent();
+                    const cursorOffset = getCursorOffset(jupyterInputNode, selection);
+                    const requestKey = `${cellText}:${cursorOffset}`;
+                    lastRequestRef.current = requestKey;
+                    requestCompletionRef.current?.(cellText, cursorOffset, contentConfig.language || 'python', 'code');
+                }
+                else {
+                    // Prose manual trigger
+                    const context = extractContext(contentType, anchorNode, selection, contentConfig.contextBefore, contentConfig.contextAfter);
+                    // Minimum content check
+                    if (context.before.trim().length < 10) {
+                        return;
+                    }
+                    const requestKey = `prose:manual:${context.fullText.length}`;
+                    lastRequestRef.current = requestKey;
+                    requestCompletionRef.current?.(context.fullText, context.before.length, contentConfig.language || 'markdown', 'prose');
+                }
+            });
+            return true;
+        }, COMMAND_PRIORITY_HIGH);
+    }, [editor, enabled, config]);
     return null;
 }
+/**
+ * Map of friendly key names to event.code values for physical key matching.
+ * Using event.code instead of event.key because Alt/Option on Mac produces special characters.
+ */
+const KEY_CODE_MAP = {
+    space: 'Space',
+    enter: 'Enter',
+    tab: 'Tab',
+    escape: 'Escape',
+    backspace: 'Backspace',
+    delete: 'Delete',
+    arrowup: 'ArrowUp',
+    arrowdown: 'ArrowDown',
+    arrowleft: 'ArrowLeft',
+    arrowright: 'ArrowRight',
+    // Letter keys
+    a: 'KeyA',
+    b: 'KeyB',
+    c: 'KeyC',
+    d: 'KeyD',
+    e: 'KeyE',
+    f: 'KeyF',
+    g: 'KeyG',
+    h: 'KeyH',
+    i: 'KeyI',
+    j: 'KeyJ',
+    k: 'KeyK',
+    l: 'KeyL',
+    m: 'KeyM',
+    n: 'KeyN',
+    o: 'KeyO',
+    p: 'KeyP',
+    q: 'KeyQ',
+    r: 'KeyR',
+    s: 'KeyS',
+    t: 'KeyT',
+    u: 'KeyU',
+    v: 'KeyV',
+    w: 'KeyW',
+    x: 'KeyX',
+    y: 'KeyY',
+    z: 'KeyZ',
+};
+/**
+ * Parse keyboard shortcut string and check if event matches.
+ * Supports format: "Modifier+Key" (e.g., "Ctrl+Space", "Cmd+Shift+I")
+ * Uses event.code for key matching to handle Mac Option key correctly.
+ *
+ * @param event - Keyboard event to check
+ * @param shortcut - Shortcut string from config
+ * @returns True if event matches shortcut
+ */
+function matchesShortcut(event, shortcut) {
+    const parts = shortcut.split('+').map(s => s.trim().toLowerCase());
+    const key = parts[parts.length - 1]; // Last part is the key
+    const modifiers = parts.slice(0, -1); // Everything else is modifiers
+    // Map key name to event.code (e.g., 'i' -> 'KeyI', 'space' -> 'Space')
+    const expectedCode = KEY_CODE_MAP[key];
+    if (!expectedCode) {
+        // Fallback to event.key for unmapped keys
+        const eventKey = event.key.toLowerCase();
+        if (eventKey !== key) {
+            return false;
+        }
+    }
+    else {
+        // Use event.code for reliable key matching (works with Alt/Option on Mac)
+        if (event.code !== expectedCode) {
+            return false;
+        }
+    }
+    // Check modifiers
+    const hasCtrl = modifiers.includes('ctrl');
+    const hasCmd = modifiers.includes('cmd') || modifiers.includes('meta');
+    const hasShift = modifiers.includes('shift');
+    const hasAlt = modifiers.includes('alt');
+    // Check specific modifier requirements
+    if (hasCtrl && !event.ctrlKey) {
+        return false;
+    }
+    if (hasCmd && !event.metaKey) {
+        return false;
+    }
+    if (hasShift && !event.shiftKey) {
+        return false;
+    }
+    if (hasAlt && !event.altKey) {
+        return false;
+    }
+    return true;
+}
+/**
+ * Detect content type based on cursor position.
+ * Returns 'code' if inside a JupyterInputNode, 'prose' otherwise.
+ *
+ * @param anchorNode - The node at the cursor position
+ * @returns 'code' or 'prose'
+ */
+function detectContentType(anchorNode) {
+    let current = anchorNode;
+    // Traverse up the tree looking for JupyterInputNode
+    while (current) {
+        if ($isJupyterInputNode(current)) {
+            return 'code';
+        }
+        current = current.getParent();
+    }
+    // Not in a Jupyter cell - must be prose
+    return 'prose';
+}
 /**
  * Find parent JupyterInputNode
  */
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/plugins/LexicalInlineCompletionPlugin.js.map b/node_modules/@datalayer/jupyter-lexical/lib/plugins/LexicalInlineCompletionPlugin.js.map
index e1cf384..83242fb 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/plugins/LexicalInlineCompletionPlugin.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/plugins/LexicalInlineCompletionPlugin.js.map
@@ -1 +1 @@
-{"version":3,"file":"LexicalInlineCompletionPlugin.js","sourceRoot":"","sources":["../../src/plugins/LexicalInlineCompletionPlugin.tsx"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"LexicalInlineCompletionPlugin.js","sourceRoot":"","sources":["../../src/plugins/LexicalInlineCompletionPlugin.tsx"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/plugins/index.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/plugins/index.d.ts
index 1f16dd3..85aa819 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/plugins/index.d.ts
+++ b/node_modules/@datalayer/jupyter-lexical/lib/plugins/index.d.ts
@@ -1,4 +1,5 @@
 export * from './AutoEmbedPlugin';
+export * from './AutoIndentPlugin';
 export * from './AutoLinkPlugin';
 export * from './CodeActionMenuPlugin';
 export * from './CommentPlugin';
@@ -8,6 +9,7 @@ export * from './EquationsPlugin';
 export * from './FloatingTextFormatToolbarPlugin';
 export * from './HorizontalRulePlugin';
 export * from './ImagesPlugin';
+export * from './InlineCompletionConfig';
 export * from './JupyterCellPlugin';
 export * from './JupyterInputOutputPlugin';
 export * from './LexicalInlineCompletionPlugin';
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/plugins/index.js b/node_modules/@datalayer/jupyter-lexical/lib/plugins/index.js
index 2853778..07da049 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/plugins/index.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/plugins/index.js
@@ -4,6 +4,7 @@
  * MIT License
  */
 export * from './AutoEmbedPlugin';
+export * from './AutoIndentPlugin';
 export * from './AutoLinkPlugin';
 export * from './CodeActionMenuPlugin';
 export * from './CommentPlugin';
@@ -13,6 +14,7 @@ export * from './EquationsPlugin';
 export * from './FloatingTextFormatToolbarPlugin';
 export * from './HorizontalRulePlugin';
 export * from './ImagesPlugin';
+export * from './InlineCompletionConfig';
 export * from './JupyterCellPlugin';
 export * from './JupyterInputOutputPlugin';
 export * from './LexicalInlineCompletionPlugin';
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/plugins/index.js.map b/node_modules/@datalayer/jupyter-lexical/lib/plugins/index.js.map
index 28ee777..4951aed 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/plugins/index.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/plugins/index.js.map
@@ -1 +1 @@
-{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/plugins/index.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAEH,cAAc,mBAAmB,CAAC;AAClC,cAAc,kBAAkB,CAAC;AACjC,cAAc,wBAAwB,CAAC;AACvC,cAAc,iBAAiB,CAAC;AAChC,cAAc,6BAA6B,CAAC;AAC5C,cAAc,wBAAwB,CAAC;AACvC,cAAc,mBAAmB,CAAC;AAClC,cAAc,mCAAmC,CAAC;AAClD,cAAc,wBAAwB,CAAC;AACvC,cAAc,gBAAgB,CAAC;AAC/B,cAAc,qBAAqB,CAAC;AACpC,cAAc,4BAA4B,CAAC;AAC3C,cAAc,iCAAiC,CAAC;AAChD,cAAc,sBAAsB,CAAC;AACrC,cAAc,4BAA4B,CAAC;AAC3C,cAAc,kBAAkB,CAAC;AACjC,cAAc,yBAAyB,CAAC;AACxC,cAAc,mBAAmB,CAAC;AAClC,cAAc,yBAAyB,CAAC;AACxC,cAAc,iBAAiB,CAAC;AAChC,cAAc,kBAAkB,CAAC;AACjC,cAAc,iBAAiB,CAAC"}
\ No newline at end of file
+{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/plugins/index.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAEH,cAAc,mBAAmB,CAAC;AAClC,cAAc,oBAAoB,CAAC;AACnC,cAAc,kBAAkB,CAAC;AACjC,cAAc,wBAAwB,CAAC;AACvC,cAAc,iBAAiB,CAAC;AAChC,cAAc,6BAA6B,CAAC;AAC5C,cAAc,wBAAwB,CAAC;AACvC,cAAc,mBAAmB,CAAC;AAClC,cAAc,mCAAmC,CAAC;AAClD,cAAc,wBAAwB,CAAC;AACvC,cAAc,gBAAgB,CAAC;AAC/B,cAAc,0BAA0B,CAAC;AACzC,cAAc,qBAAqB,CAAC;AACpC,cAAc,4BAA4B,CAAC;AAC3C,cAAc,iCAAiC,CAAC;AAChD,cAAc,sBAAsB,CAAC;AACrC,cAAc,4BAA4B,CAAC;AAC3C,cAAc,kBAAkB,CAAC;AACjC,cAAc,yBAAyB,CAAC;AACxC,cAAc,mBAAmB,CAAC;AAClC,cAAc,yBAAyB,CAAC;AACxC,cAAc,iBAAiB,CAAC;AAChC,cAAc,kBAAkB,CAAC;AACjC,cAAc,iBAAiB,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalAdapter.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalAdapter.d.ts
index b8e97ef..3be4f4a 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalAdapter.d.ts
+++ b/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalAdapter.d.ts
@@ -41,6 +41,11 @@ export declare class LexicalAdapter {
      * Get the underlying Lexical editor instance.
      */
     get editor(): LexicalEditor;
+    /**
+     * Get the service manager instance.
+     * Provides access to kernel connections for monitoring and operations.
+     */
+    get serviceManager(): any;
     /**
      * Set the default block type for new blocks.
      * Similar to Notebook2Adapter.setDefaultCellType()
@@ -90,13 +95,26 @@ export declare class LexicalAdapter {
      */
     updateBlock(blockId: string, block: LexicalBlock): Promise<OperationResult>;
     /**
-     * Run a specific block (jupyter-cell or jupyter-input)
+     * Run a specific block (jupyter-cell or jupyter-input).
+     * If blockId is not provided, attempts to run the currently focused block.
      */
-    runBlock(blockId: string): Promise<OperationResult>;
+    runBlock(blockId?: string): Promise<OperationResult>;
     /**
      * Run all executable blocks in the document
      */
     runAllBlocks(): Promise<OperationResult>;
+    /**
+     * Clear all outputs from all Jupyter cells in the lexical document.
+     *
+     * @remarks
+     * Removes all execution outputs from all jupyter-cell blocks. This operation:
+     * - Clears outputs but preserves cell source code
+     * - Resets execution counts for jupyter cells
+     * - Cannot be undone
+     *
+     * @returns Promise with operation result
+     */
+    clearAllOutputs(): Promise<OperationResult>;
     /**
      * Check if a block type requires command-based insertion
      */
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalAdapter.js b/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalAdapter.js
index c68f9c4..91e922c 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalAdapter.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalAdapter.js
@@ -3,7 +3,7 @@
  *
  * MIT License
  */
-import { $getRoot, $createParagraphNode, $createTextNode } from 'lexical';
+import { $getRoot, $getSelection, $createParagraphNode, $createTextNode, } from 'lexical';
 import { $createHeadingNode, $createQuoteNode, } from '@lexical/rich-text';
 import { $createCodeNode } from '@lexical/code';
 import { $createListNode, $createListItemNode } from '@lexical/list';
@@ -32,6 +32,13 @@ export class LexicalAdapter {
     get editor() {
         return this._editor;
     }
+    /**
+     * Get the service manager instance.
+     * Provides access to kernel connections for monitoring and operations.
+     */
+    get serviceManager() {
+        return this._serviceManager;
+    }
     /**
      * Set the default block type for new blocks.
      * Similar to Notebook2Adapter.setDefaultCellType()
@@ -154,9 +161,43 @@ export class LexicalAdapter {
         return this.insertBlock(block, insertAfterId);
     }
     /**
-     * Run a specific block (jupyter-cell or jupyter-input)
+     * Run a specific block (jupyter-cell or jupyter-input).
+     * If blockId is not provided, attempts to run the currently focused block.
      */
     async runBlock(blockId) {
+        // If no blockId provided, find the currently focused jupyter-cell
+        if (!blockId) {
+            let foundBlockId = null;
+            this._editor.getEditorState().read(() => {
+                const selection = $getSelection();
+                if (!selection)
+                    return;
+                const nodes = selection.getNodes();
+                if (nodes.length === 0)
+                    return;
+                const node = nodes[0];
+                // Find parent jupyter-cell or jupyter-input
+                let current = node;
+                while (current) {
+                    const type = current.getType();
+                    if (type === 'jupyter-cell' || type === 'jupyter-input') {
+                        foundBlockId = current.getKey();
+                        break;
+                    }
+                    const parent = current.getParent();
+                    if (!parent)
+                        break;
+                    current = parent;
+                }
+            });
+            if (!foundBlockId) {
+                return {
+                    success: false,
+                    error: 'No jupyter cell is currently focused',
+                };
+            }
+            blockId = foundBlockId;
+        }
         const block = await this.getBlockById(blockId);
         if (!block) {
             return {
@@ -284,6 +325,50 @@ export class LexicalAdapter {
                 : undefined,
         };
     }
+    /**
+     * Clear all outputs from all Jupyter cells in the lexical document.
+     *
+     * @remarks
+     * Removes all execution outputs from all jupyter-cell blocks. This operation:
+     * - Clears outputs but preserves cell source code
+     * - Resets execution counts for jupyter cells
+     * - Cannot be undone
+     *
+     * @returns Promise with operation result
+     */
+    async clearAllOutputs() {
+        return new Promise(resolve => {
+            this._editor.update(() => {
+                let clearedCount = 0;
+                // Traverse document tree and clear all JupyterOutputNode outputs
+                function clearJupyterOutputs(node) {
+                    // Check if node is a JupyterOutputNode by checking its type
+                    if (node.getType && node.getType() === 'jupyter-output') {
+                        // Use outputAdapter.clear() to properly clear the OutputArea model
+                        if (node.__outputAdapter) {
+                            node.__outputAdapter.clear();
+                            clearedCount++;
+                        }
+                    }
+                    // Traverse children if this is an element node
+                    if (node.getChildren) {
+                        const children = node.getChildren();
+                        for (const child of children) {
+                            clearJupyterOutputs(child);
+                        }
+                    }
+                }
+                const root = $getRoot();
+                clearJupyterOutputs(root);
+                resolve({
+                    success: true,
+                    message: clearedCount > 0
+                        ? `Cleared outputs from ${clearedCount} jupyter cells`
+                        : 'No jupyter cells found to clear',
+                });
+            });
+        });
+    }
     /**
      * Check if a block type requires command-based insertion
      */
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalAdapter.js.map b/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalAdapter.js.map
index 5d69486..c343d23 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalAdapter.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalAdapter.js.map
@@ -1 +1 @@
-{"version":3,"file":"LexicalAdapter.js","sourceRoot":"","sources":["../../src/state/LexicalAdapter.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"LexicalAdapter.js","sourceRoot":"","sources":["../../src/state/LexicalAdapter.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalState.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalState.d.ts
index 0660220..b61af72 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalState.d.ts
+++ b/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalState.d.ts
@@ -1,4 +1,4 @@
-import { LexicalAdapter } from './LexicalAdapter';
+import { LexicalAdapter, type OperationResult } from './LexicalAdapter';
 import type { LexicalBlock, BlockFormat, BriefBlock } from '../tools/core/types';
 /**
  * State for a single Lexical document
@@ -62,6 +62,7 @@ export type LexicalState = ILexicalsState & {
     runBlock: (id: string, blockId?: string) => Promise<any>;
     runAllBlocks: (id: string) => Promise<any>;
     executeCode: (id: string, code?: string, storeHistory?: boolean, silent?: boolean, stopOnError?: boolean) => Promise<any>;
+    clearAllOutputs: (id: string) => Promise<OperationResult>;
     getBlockCount: (id: string) => Promise<number>;
     reset: () => void;
 };
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalState.js b/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalState.js
index dd472fb..096aca6 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalState.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalState.js
@@ -131,6 +131,14 @@ export const lexicalStore = createStore((set, get) => ({
             .lexicals.get(params.id)
             ?.adapter?.executeCode(params.code, params.storeHistory, params.silent, params.stopOnError)) ?? { success: false, error: 'Adapter not found' });
     },
+    clearAllOutputs: async (id) => {
+        const params = typeof id === 'object' ? id : { id };
+        const adapter = get().lexicals.get(params.id)?.adapter;
+        if (!adapter) {
+            return { success: false, error: 'Adapter not found' };
+        }
+        return await adapter.clearAllOutputs();
+    },
     getBlockCount: async (id) => {
         const blocks = await get().readAllBlocks(id);
         return blocks.length;
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalState.js.map b/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalState.js.map
index ad3a1b8..1b13581 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalState.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/state/LexicalState.js.map
@@ -1 +1 @@
-{"version":3,"file":"LexicalState.js","sourceRoot":"","sources":["../../src/state/LexicalState.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"LexicalState.js","sourceRoot":"","sources":["../../src/state/LexicalState.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/core/index.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/tools/core/index.d.ts
index 2ffd94d..67ba79f 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/core/index.d.ts
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/core/index.d.ts
@@ -16,4 +16,4 @@ export * from '../operations/listAvailableBlocks';
 export * from './interfaces';
 export * from './types';
 export * from './executor';
-export { type ToolConfig, type ToolDefinition, } from '@datalayer/jupyter-react/lib/tools/core';
+export { type ToolConfig, type ToolDefinition } from '@datalayer/jupyter-react';
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/core/interfaces.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/tools/core/interfaces.d.ts
index b63016b..dfda40c 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/core/interfaces.d.ts
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/core/interfaces.d.ts
@@ -5,7 +5,7 @@
  * @module tools/core/interfaces
  */
 import type { LexicalBlock, LexicalMetadata, RegisteredNodeInfo } from './types';
-import type { ToolExecutionContext } from '@datalayer/jupyter-react';
+import type { ToolExecutionContext } from '@datalayer/jupyter-react/tools';
 export type { LexicalBlock, LexicalMetadata, RegisteredNodeInfo };
 export type { ToolExecutionContext };
 /**
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/deleteBlock.js b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/deleteBlock.js
index b6228a9..10e8b8e 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/deleteBlock.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/deleteBlock.js
@@ -3,7 +3,7 @@
  *
  * MIT License
  */
-import { zodToToolParameters } from '@datalayer/jupyter-react/lib/tools/core/zodUtils';
+import { zodToToolParameters } from '@datalayer/jupyter-react/tools';
 import { deleteBlockParamsSchema } from '../schemas/deleteBlock';
 /**
  * Tool definition for deleting one or more blocks from a Lexical document
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/deleteBlock.js.map b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/deleteBlock.js.map
index 209e66c..f1985e6 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/deleteBlock.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/deleteBlock.js.map
@@ -1 +1 @@
-{"version":3,"file":"deleteBlock.js","sourceRoot":"","sources":["../../../src/tools/definitions/deleteBlock.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AASH,OAAO,EAAE,mBAAmB,EAAE,MAAM,kDAAkD,CAAC;AACvF,OAAO,EAAE,uBAAuB,EAAE,MAAM,wBAAwB,CAAC;AAEjE;;;;GAIG;AACH,MAAM,CAAC,MAAM,eAAe,GAAmB;IAC7C,IAAI,EAAE,uBAAuB;IAC7B,WAAW,EAAE,yBAAyB;IACtC,iBAAiB,EAAE,aAAa;IAChC,WAAW,EACT,sYAAsY;IAExY,UAAU,EAAE,mBAAmB,CAAC,uBAAuB,CAAC;IAExD,SAAS,EAAE,aAAa;IAExB,MAAM,EAAE;QACN,mBAAmB,EAAE,CAAC,MAAyB,EAAE,EAAE;YACjD,MAAM,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC;YAChC,OAAO,KAAK,KAAK,CAAC;gBAChB,CAAC,CAAC,gBAAgB,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,iCAAiC;gBAChE,CAAC,CAAC,UAAU,KAAK,YAAY,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,kCAAkC,CAAC;QACzF,CAAC;QACD,iBAAiB,EAAE,CAAC,MAAyB,EAAE,EAAE;YAC/C,MAAM,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC;YAChC,OAAO,KAAK,KAAK,CAAC;gBAChB,CAAC,CAAC,kBAAkB,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,wBAAwB;gBACzD,CAAC,CAAC,YAAY,KAAK,+BAA+B,CAAC;QACvD,CAAC;QACD,oBAAoB,EAAE,IAAI;QAC1B,uBAAuB,EAAE,IAAI;QAC7B,QAAQ,EAAE,MAAM;KACjB;IAED,IAAI,EAAE,CAAC,SAAS,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,CAAC;CAC7C,CAAC"}
\ No newline at end of file
+{"version":3,"file":"deleteBlock.js","sourceRoot":"","sources":["../../../src/tools/definitions/deleteBlock.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AASH,OAAO,EAAE,mBAAmB,EAAE,MAAM,gCAAgC,CAAC;AACrE,OAAO,EAAE,uBAAuB,EAAE,MAAM,wBAAwB,CAAC;AAEjE;;;;GAIG;AACH,MAAM,CAAC,MAAM,eAAe,GAAmB;IAC7C,IAAI,EAAE,uBAAuB;IAC7B,WAAW,EAAE,yBAAyB;IACtC,iBAAiB,EAAE,aAAa;IAChC,WAAW,EACT,sYAAsY;IAExY,UAAU,EAAE,mBAAmB,CAAC,uBAAuB,CAAC;IAExD,SAAS,EAAE,aAAa;IAExB,MAAM,EAAE;QACN,mBAAmB,EAAE,CAAC,MAAyB,EAAE,EAAE;YACjD,MAAM,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC;YAChC,OAAO,KAAK,KAAK,CAAC;gBAChB,CAAC,CAAC,gBAAgB,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,iCAAiC;gBAChE,CAAC,CAAC,UAAU,KAAK,YAAY,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,kCAAkC,CAAC;QACzF,CAAC;QACD,iBAAiB,EAAE,CAAC,MAAyB,EAAE,EAAE;YAC/C,MAAM,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC;YAChC,OAAO,KAAK,KAAK,CAAC;gBAChB,CAAC,CAAC,kBAAkB,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,wBAAwB;gBACzD,CAAC,CAAC,YAAY,KAAK,+BAA+B,CAAC;QACvD,CAAC;QACD,oBAAoB,EAAE,IAAI;QAC1B,uBAAuB,EAAE,IAAI;QAC7B,QAAQ,EAAE,MAAM;KACjB;IAED,IAAI,EAAE,CAAC,SAAS,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,CAAC;CAC7C,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/executeCode.js b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/executeCode.js
index 8a98f62..019d82c 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/executeCode.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/executeCode.js
@@ -3,7 +3,7 @@
  *
  * MIT License
  */
-import { zodToToolParameters } from '@datalayer/jupyter-react/lib/tools/core/zodUtils';
+import { zodToToolParameters } from '@datalayer/jupyter-react/tools';
 import { executeCodeParamsSchema } from '../schemas/executeCode';
 /**
  * Tool definition for executing code directly in the kernel
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/executeCode.js.map b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/executeCode.js.map
index 6d541a4..29a8343 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/executeCode.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/executeCode.js.map
@@ -1 +1 @@
-{"version":3,"file":"executeCode.js","sourceRoot":"","sources":["../../../src/tools/definitions/executeCode.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AASH,OAAO,EAAE,mBAAmB,EAAE,MAAM,kDAAkD,CAAC;AACvF,OAAO,EAAE,uBAAuB,EAAE,MAAM,wBAAwB,CAAC;AAEjE;;;;GAIG;AACH,MAAM,CAAC,MAAM,eAAe,GAAmB;IAC7C,IAAI,EAAE,+BAA+B;IACrC,WAAW,EAAE,kCAAkC;IAC/C,iBAAiB,EAAE,aAAa;IAChC,WAAW,EACT,oSAAoS;IAEtS,UAAU,EAAE,mBAAmB,CAAC,uBAAuB,CAAC;IAExD,SAAS,EAAE,aAAa;IAExB,MAAM,EAAE;QACN,mBAAmB,EAAE,CAAC,MAAwB,EAAE,EAAE,CAChD,iBAAiB,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,GAAG;QACzF,iBAAiB,EAAE,GAAG,EAAE,CAAC,0BAA0B;QACnD,oBAAoB,EAAE,KAAK;QAC3B,uBAAuB,EAAE,IAAI;QAC7B,QAAQ,EAAE,MAAM;KACjB;IAED,IAAI,EAAE,CAAC,SAAS,EAAE,QAAQ,EAAE,SAAS,EAAE,MAAM,EAAE,YAAY,CAAC;CAC7D,CAAC"}
\ No newline at end of file
+{"version":3,"file":"executeCode.js","sourceRoot":"","sources":["../../../src/tools/definitions/executeCode.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AASH,OAAO,EAAE,mBAAmB,EAAE,MAAM,gCAAgC,CAAC;AACrE,OAAO,EAAE,uBAAuB,EAAE,MAAM,wBAAwB,CAAC;AAEjE;;;;GAIG;AACH,MAAM,CAAC,MAAM,eAAe,GAAmB;IAC7C,IAAI,EAAE,+BAA+B;IACrC,WAAW,EAAE,kCAAkC;IAC/C,iBAAiB,EAAE,aAAa;IAChC,WAAW,EACT,oSAAoS;IAEtS,UAAU,EAAE,mBAAmB,CAAC,uBAAuB,CAAC;IAExD,SAAS,EAAE,aAAa;IAExB,MAAM,EAAE;QACN,mBAAmB,EAAE,CAAC,MAAwB,EAAE,EAAE,CAChD,iBAAiB,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,GAAG;QACzF,iBAAiB,EAAE,GAAG,EAAE,CAAC,0BAA0B;QACnD,oBAAoB,EAAE,KAAK;QAC3B,uBAAuB,EAAE,IAAI;QAC7B,QAAQ,EAAE,MAAM;KACjB;IAED,IAAI,EAAE,CAAC,SAAS,EAAE,QAAQ,EAAE,SAAS,EAAE,MAAM,EAAE,YAAY,CAAC;CAC7D,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/insertBlock.js b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/insertBlock.js
index 51a661e..5a14e90 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/insertBlock.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/insertBlock.js
@@ -3,7 +3,7 @@
  *
  * MIT License
  */
-import { zodToToolParameters } from '@datalayer/jupyter-react/lib/tools/core/zodUtils';
+import { zodToToolParameters } from '@datalayer/jupyter-react/tools';
 import { insertBlockParamsSchema } from '../schemas/insertBlock';
 /**
  * Tool definition for inserting a block into a Lexical document
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/insertBlock.js.map b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/insertBlock.js.map
index cf1d3d3..c096b37 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/insertBlock.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/insertBlock.js.map
@@ -1 +1 @@
-{"version":3,"file":"insertBlock.js","sourceRoot":"","sources":["../../../src/tools/definitions/insertBlock.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AASH,OAAO,EAAE,mBAAmB,EAAE,MAAM,kDAAkD,CAAC;AACvF,OAAO,EAAE,uBAAuB,EAAE,MAAM,wBAAwB,CAAC;AAEjE;;;;;;;;;;GAUG;AACH,MAAM,CAAC,MAAM,eAAe,GAAmB;IAC7C,IAAI,EAAE,uBAAuB;IAC7B,WAAW,EAAE,sBAAsB;IACnC,iBAAiB,EAAE,aAAa;IAChC,WAAW,EACT,quBAAquB;IAEvuB,UAAU,EAAE,mBAAmB,CAAC,uBAAuB,CAAC;IAExD,SAAS,EAAE,aAAa;IAExB,MAAM,EAAE;QACN,mBAAmB,EAAE,CAAC,MAIrB,EAAE,EAAE,CACH,UAAU,MAAM,CAAC,IAAI,UAAU,MAAM,CAAC,OAAO,KAAK,KAAK,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,KAAK,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,eAAe,MAAM,CAAC,OAAO,EAAE,QAAQ,MAAM,CAAC,MAAM,EAAE;QAC5K,iBAAiB,EAAE,CAAC,MAAwB,EAAE,EAAE,CAC9C,aAAa,MAAM,CAAC,IAAI,8BAA8B;QACxD,oBAAoB,EAAE,IAAI;QAC1B,uBAAuB,EAAE,IAAI;QAC7B,QAAQ,EAAE,MAAM;KACjB;IAED,IAAI,EAAE,CAAC,SAAS,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,CAAC;CAC7C,CAAC"}
\ No newline at end of file
+{"version":3,"file":"insertBlock.js","sourceRoot":"","sources":["../../../src/tools/definitions/insertBlock.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AASH,OAAO,EAAE,mBAAmB,EAAE,MAAM,gCAAgC,CAAC;AACrE,OAAO,EAAE,uBAAuB,EAAE,MAAM,wBAAwB,CAAC;AAEjE;;;;;;;;;;GAUG;AACH,MAAM,CAAC,MAAM,eAAe,GAAmB;IAC7C,IAAI,EAAE,uBAAuB;IAC7B,WAAW,EAAE,sBAAsB;IACnC,iBAAiB,EAAE,aAAa;IAChC,WAAW,EACT,quBAAquB;IAEvuB,UAAU,EAAE,mBAAmB,CAAC,uBAAuB,CAAC;IAExD,SAAS,EAAE,aAAa;IAExB,MAAM,EAAE;QACN,mBAAmB,EAAE,CAAC,MAIrB,EAAE,EAAE,CACH,UAAU,MAAM,CAAC,IAAI,UAAU,MAAM,CAAC,OAAO,KAAK,KAAK,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,KAAK,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,eAAe,MAAM,CAAC,OAAO,EAAE,QAAQ,MAAM,CAAC,MAAM,EAAE;QAC5K,iBAAiB,EAAE,CAAC,MAAwB,EAAE,EAAE,CAC9C,aAAa,MAAM,CAAC,IAAI,8BAA8B;QACxD,oBAAoB,EAAE,IAAI;QAC1B,uBAAuB,EAAE,IAAI;QAC7B,QAAQ,EAAE,MAAM;KACjB;IAED,IAAI,EAAE,CAAC,SAAS,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,CAAC;CAC7C,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/listAvailableBlocks.js b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/listAvailableBlocks.js
index 58d6079..05111a4 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/listAvailableBlocks.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/listAvailableBlocks.js
@@ -3,7 +3,7 @@
  *
  * MIT License
  */
-import { zodToToolParameters } from '@datalayer/jupyter-react/lib/tools/core/zodUtils';
+import { zodToToolParameters } from '@datalayer/jupyter-react/tools';
 import { listAvailableBlocksParamsSchema } from '../schemas/listAvailableBlocks';
 /**
  * Tool definition for listing available Lexical block types
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/listAvailableBlocks.js.map b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/listAvailableBlocks.js.map
index 55e0d64..eb4089e 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/listAvailableBlocks.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/listAvailableBlocks.js.map
@@ -1 +1 @@
-{"version":3,"file":"listAvailableBlocks.js","sourceRoot":"","sources":["../../../src/tools/definitions/listAvailableBlocks.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AASH,OAAO,EAAE,mBAAmB,EAAE,MAAM,kDAAkD,CAAC;AACvF,OAAO,EAAE,+BAA+B,EAAE,MAAM,gCAAgC,CAAC;AAEjF;;;;;;;;;;;GAWG;AACH,MAAM,CAAC,MAAM,uBAAuB,GAAmB;IACrD,IAAI,EAAE,+BAA+B;IACrC,WAAW,EAAE,+BAA+B;IAC5C,iBAAiB,EAAE,qBAAqB;IACxC,WAAW,EACT,uYAAuY;IAEzY,UAAU,EAAE,mBAAmB,CAAC,+BAA+B,CAAC;IAEhE,SAAS,EAAE,qBAAqB;IAEhC,MAAM,EAAE;QACN,mBAAmB,EAAE,CAAC,MAA6B,EAAE,EAAE,CACrD,MAAM,CAAC,QAAQ;YACb,CAAC,CAAC,kBAAkB,MAAM,CAAC,QAAQ,eAAe;YAClD,CAAC,CAAC,iCAAiC;QACvC,iBAAiB,EAAE,CAAC,MAA6B,EAAE,EAAE,CACnD,MAAM,CAAC,QAAQ;YACb,CAAC,CAAC,WAAW,MAAM,CAAC,QAAQ,cAAc;YAC1C,CAAC,CAAC,mCAAmC;QACzC,oBAAoB,EAAE,KAAK;QAC3B,uBAAuB,EAAE,IAAI;QAC7B,QAAQ,EAAE,KAAK;KAChB;IAED,IAAI,EAAE,CAAC,SAAS,EAAE,QAAQ,EAAE,WAAW,EAAE,QAAQ,CAAC;CACnD,CAAC"}
\ No newline at end of file
+{"version":3,"file":"listAvailableBlocks.js","sourceRoot":"","sources":["../../../src/tools/definitions/listAvailableBlocks.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AASH,OAAO,EAAE,mBAAmB,EAAE,MAAM,gCAAgC,CAAC;AACrE,OAAO,EAAE,+BAA+B,EAAE,MAAM,gCAAgC,CAAC;AAEjF;;;;;;;;;;;GAWG;AACH,MAAM,CAAC,MAAM,uBAAuB,GAAmB;IACrD,IAAI,EAAE,+BAA+B;IACrC,WAAW,EAAE,+BAA+B;IAC5C,iBAAiB,EAAE,qBAAqB;IACxC,WAAW,EACT,uYAAuY;IAEzY,UAAU,EAAE,mBAAmB,CAAC,+BAA+B,CAAC;IAEhE,SAAS,EAAE,qBAAqB;IAEhC,MAAM,EAAE;QACN,mBAAmB,EAAE,CAAC,MAA6B,EAAE,EAAE,CACrD,MAAM,CAAC,QAAQ;YACb,CAAC,CAAC,kBAAkB,MAAM,CAAC,QAAQ,eAAe;YAClD,CAAC,CAAC,iCAAiC;QACvC,iBAAiB,EAAE,CAAC,MAA6B,EAAE,EAAE,CACnD,MAAM,CAAC,QAAQ;YACb,CAAC,CAAC,WAAW,MAAM,CAAC,QAAQ,cAAc;YAC1C,CAAC,CAAC,mCAAmC;QACzC,oBAAoB,EAAE,KAAK;QAC3B,uBAAuB,EAAE,IAAI;QAC7B,QAAQ,EAAE,KAAK;KAChB;IAED,IAAI,EAAE,CAAC,SAAS,EAAE,QAAQ,EAAE,WAAW,EAAE,QAAQ,CAAC;CACnD,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/readAllBlocks.js b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/readAllBlocks.js
index 0b803bb..f1306df 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/readAllBlocks.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/readAllBlocks.js
@@ -3,7 +3,7 @@
  *
  * MIT License
  */
-import { zodToToolParameters } from '@datalayer/jupyter-react/lib/tools/core/zodUtils';
+import { zodToToolParameters } from '@datalayer/jupyter-react/tools';
 import { readAllBlocksParamsSchema } from '../schemas/readAllBlocks';
 /**
  * Tool definition for reading all blocks from a Lexical document
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/readAllBlocks.js.map b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/readAllBlocks.js.map
index 80909ea..7238344 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/readAllBlocks.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/readAllBlocks.js.map
@@ -1 +1 @@
-{"version":3,"file":"readAllBlocks.js","sourceRoot":"","sources":["../../../src/tools/definitions/readAllBlocks.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AASH,OAAO,EAAE,mBAAmB,EAAE,MAAM,kDAAkD,CAAC;AACvF,OAAO,EAAE,yBAAyB,EAAE,MAAM,0BAA0B,CAAC;AAErE;;;;GAIG;AACH,MAAM,CAAC,MAAM,iBAAiB,GAAmB;IAC/C,IAAI,EAAE,yBAAyB;IAC/B,WAAW,EAAE,yBAAyB;IACtC,iBAAiB,EAAE,eAAe;IAClC,WAAW,EACT,85BAA85B;IAEh6B,UAAU,EAAE,mBAAmB,CAAC,yBAAyB,CAAC;IAE1D,SAAS,EAAE,eAAe;IAE1B,MAAM,EAAE;QACN,mBAAmB,EAAE,GAAG,EAAE,CAAC,4CAA4C;QACvE,iBAAiB,EAAE,GAAG,EAAE,CAAC,0CAA0C;QACnE,oBAAoB,EAAE,KAAK;QAC3B,uBAAuB,EAAE,IAAI;QAC7B,QAAQ,EAAE,QAAQ;KACnB;IAED,IAAI,EAAE,CAAC,SAAS,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,CAAC;CAC3C,CAAC"}
\ No newline at end of file
+{"version":3,"file":"readAllBlocks.js","sourceRoot":"","sources":["../../../src/tools/definitions/readAllBlocks.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AASH,OAAO,EAAE,mBAAmB,EAAE,MAAM,gCAAgC,CAAC;AACrE,OAAO,EAAE,yBAAyB,EAAE,MAAM,0BAA0B,CAAC;AAErE;;;;GAIG;AACH,MAAM,CAAC,MAAM,iBAAiB,GAAmB;IAC/C,IAAI,EAAE,yBAAyB;IAC/B,WAAW,EAAE,yBAAyB;IACtC,iBAAiB,EAAE,eAAe;IAClC,WAAW,EACT,85BAA85B;IAEh6B,UAAU,EAAE,mBAAmB,CAAC,yBAAyB,CAAC;IAE1D,SAAS,EAAE,eAAe;IAE1B,MAAM,EAAE;QACN,mBAAmB,EAAE,GAAG,EAAE,CAAC,4CAA4C;QACvE,iBAAiB,EAAE,GAAG,EAAE,CAAC,0CAA0C;QACnE,oBAAoB,EAAE,KAAK;QAC3B,uBAAuB,EAAE,IAAI;QAC7B,QAAQ,EAAE,QAAQ;KACnB;IAED,IAAI,EAAE,CAAC,SAAS,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,CAAC;CAC3C,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/readBlock.js b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/readBlock.js
index db9224f..57aa24d 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/readBlock.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/readBlock.js
@@ -3,7 +3,7 @@
  *
  * MIT License
  */
-import { zodToToolParameters } from '@datalayer/jupyter-react/lib/tools/core/zodUtils';
+import { zodToToolParameters } from '@datalayer/jupyter-react/tools';
 import { readBlockParamsSchema } from '../schemas/readBlock';
 /**
  * Tool definition for reading a single block from a Lexical document
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/readBlock.js.map b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/readBlock.js.map
index 7828fdb..79a882d 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/readBlock.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/readBlock.js.map
@@ -1 +1 @@
-{"version":3,"file":"readBlock.js","sourceRoot":"","sources":["../../../src/tools/definitions/readBlock.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AASH,OAAO,EAAE,mBAAmB,EAAE,MAAM,kDAAkD,CAAC;AACvF,OAAO,EAAE,qBAAqB,EAAE,MAAM,sBAAsB,CAAC;AAE7D;;;;GAIG;AACH,MAAM,CAAC,MAAM,aAAa,GAAmB;IAC3C,IAAI,EAAE,qBAAqB;IAC3B,WAAW,EAAE,oBAAoB;IACjC,iBAAiB,EAAE,WAAW;IAC9B,WAAW,EACT,2WAA2W;IAE7W,UAAU,EAAE,mBAAmB,CAAC,qBAAqB,CAAC;IAEtD,SAAS,EAAE,WAAW;IAEtB,MAAM,EAAE;QACN,mBAAmB,EAAE,CAAC,MAAsB,EAAE,EAAE,CAC9C,cAAc,MAAM,CAAC,EAAE,6BAA6B;QACtD,iBAAiB,EAAE,CAAC,MAAsB,EAAE,EAAE,CAC5C,iBAAiB,MAAM,CAAC,EAAE,wBAAwB;QACpD,oBAAoB,EAAE,KAAK;QAC3B,uBAAuB,EAAE,IAAI;QAC7B,QAAQ,EAAE,QAAQ;KACnB;IAED,IAAI,EAAE,CAAC,SAAS,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,CAAC;CAC7C,CAAC"}
\ No newline at end of file
+{"version":3,"file":"readBlock.js","sourceRoot":"","sources":["../../../src/tools/definitions/readBlock.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AASH,OAAO,EAAE,mBAAmB,EAAE,MAAM,gCAAgC,CAAC;AACrE,OAAO,EAAE,qBAAqB,EAAE,MAAM,sBAAsB,CAAC;AAE7D;;;;GAIG;AACH,MAAM,CAAC,MAAM,aAAa,GAAmB;IAC3C,IAAI,EAAE,qBAAqB;IAC3B,WAAW,EAAE,oBAAoB;IACjC,iBAAiB,EAAE,WAAW;IAC9B,WAAW,EACT,2WAA2W;IAE7W,UAAU,EAAE,mBAAmB,CAAC,qBAAqB,CAAC;IAEtD,SAAS,EAAE,WAAW;IAEtB,MAAM,EAAE;QACN,mBAAmB,EAAE,CAAC,MAAsB,EAAE,EAAE,CAC9C,cAAc,MAAM,CAAC,EAAE,6BAA6B;QACtD,iBAAiB,EAAE,CAAC,MAAsB,EAAE,EAAE,CAC5C,iBAAiB,MAAM,CAAC,EAAE,wBAAwB;QACpD,oBAAoB,EAAE,KAAK;QAC3B,uBAAuB,EAAE,IAAI;QAC7B,QAAQ,EAAE,QAAQ;KACnB;IAED,IAAI,EAAE,CAAC,SAAS,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,CAAC;CAC7C,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/runAllBlocks.js b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/runAllBlocks.js
index 9708916..bd7a876 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/runAllBlocks.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/runAllBlocks.js
@@ -3,7 +3,7 @@
  *
  * MIT License
  */
-import { zodToToolParameters } from '@datalayer/jupyter-react/lib/tools/core/zodUtils';
+import { zodToToolParameters } from '@datalayer/jupyter-react/tools';
 import { runAllBlocksParamsSchema } from '../schemas/runAllBlocks';
 /**
  * Tool definition for running all executable blocks in sequence
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/runAllBlocks.js.map b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/runAllBlocks.js.map
index 528b2dd..674f505 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/runAllBlocks.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/runAllBlocks.js.map
@@ -1 +1 @@
-{"version":3,"file":"runAllBlocks.js","sourceRoot":"","sources":["../../../src/tools/definitions/runAllBlocks.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AASH,OAAO,EAAE,mBAAmB,EAAE,MAAM,kDAAkD,CAAC;AACvF,OAAO,EAAE,wBAAwB,EAAE,MAAM,yBAAyB,CAAC;AAEnE;;;;GAIG;AACH,MAAM,CAAC,MAAM,gBAAgB,GAAmB;IAC9C,IAAI,EAAE,wBAAwB;IAC9B,WAAW,EAAE,wBAAwB;IACrC,iBAAiB,EAAE,cAAc;IACjC,WAAW,EACT,oWAAoW;IAEtW,UAAU,EAAE,mBAAmB,CAAC,wBAAwB,CAAC;IAEzD,SAAS,EAAE,cAAc;IAEzB,MAAM,EAAE;QACN,mBAAmB,EAAE,GAAG,EAAE,CACxB,oDAAoD;QACtD,iBAAiB,EAAE,GAAG,EAAE,CACtB,mDAAmD;QACrD,oBAAoB,EAAE,IAAI;QAC1B,uBAAuB,EAAE,IAAI;QAC7B,QAAQ,EAAE,MAAM;KACjB;IAED,IAAI,EAAE,CAAC,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE,SAAS,CAAC;CAChE,CAAC"}
\ No newline at end of file
+{"version":3,"file":"runAllBlocks.js","sourceRoot":"","sources":["../../../src/tools/definitions/runAllBlocks.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AASH,OAAO,EAAE,mBAAmB,EAAE,MAAM,gCAAgC,CAAC;AACrE,OAAO,EAAE,wBAAwB,EAAE,MAAM,yBAAyB,CAAC;AAEnE;;;;GAIG;AACH,MAAM,CAAC,MAAM,gBAAgB,GAAmB;IAC9C,IAAI,EAAE,wBAAwB;IAC9B,WAAW,EAAE,wBAAwB;IACrC,iBAAiB,EAAE,cAAc;IACjC,WAAW,EACT,oWAAoW;IAEtW,UAAU,EAAE,mBAAmB,CAAC,wBAAwB,CAAC;IAEzD,SAAS,EAAE,cAAc;IAEzB,MAAM,EAAE;QACN,mBAAmB,EAAE,GAAG,EAAE,CACxB,oDAAoD;QACtD,iBAAiB,EAAE,GAAG,EAAE,CACtB,mDAAmD;QACrD,oBAAoB,EAAE,IAAI;QAC1B,uBAAuB,EAAE,IAAI;QAC7B,QAAQ,EAAE,MAAM;KACjB;IAED,IAAI,EAAE,CAAC,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE,SAAS,CAAC;CAChE,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/runBlock.js b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/runBlock.js
index 6e0abfd..90b3d75 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/runBlock.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/runBlock.js
@@ -3,7 +3,7 @@
  *
  * MIT License
  */
-import { zodToToolParameters } from '@datalayer/jupyter-react/lib/tools/core/zodUtils';
+import { zodToToolParameters } from '@datalayer/jupyter-react/tools';
 import { runBlockParamsSchema } from '../schemas/runBlock';
 /**
  * Tool definition for running a single executable block
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/runBlock.js.map b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/runBlock.js.map
index 0320dd4..5d78a1b 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/runBlock.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/runBlock.js.map
@@ -1 +1 @@
-{"version":3,"file":"runBlock.js","sourceRoot":"","sources":["../../../src/tools/definitions/runBlock.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AASH,OAAO,EAAE,mBAAmB,EAAE,MAAM,kDAAkD,CAAC;AACvF,OAAO,EAAE,oBAAoB,EAAE,MAAM,qBAAqB,CAAC;AAE3D;;;;GAIG;AACH,MAAM,CAAC,MAAM,YAAY,GAAmB;IAC1C,IAAI,EAAE,oBAAoB;IAC1B,WAAW,EAAE,mBAAmB;IAChC,iBAAiB,EAAE,UAAU;IAC7B,WAAW,EACT,2fAA2f;IAE7f,UAAU,EAAE,mBAAmB,CAAC,oBAAoB,CAAC;IAErD,SAAS,EAAE,UAAU;IAErB,MAAM,EAAE;QACN,mBAAmB,EAAE,CAAC,MAAsB,EAAE,EAAE,CAAC,aAAa,MAAM,CAAC,EAAE,GAAG;QAC1E,iBAAiB,EAAE,CAAC,MAAsB,EAAE,EAAE,CAAC,iBAAiB,MAAM,CAAC,EAAE,EAAE;QAC3E,oBAAoB,EAAE,IAAI;QAC1B,uBAAuB,EAAE,IAAI;QAC7B,QAAQ,EAAE,MAAM;KACjB;IAED,IAAI,EAAE,CAAC,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE,OAAO,EAAE,SAAS,CAAC;CACxD,CAAC"}
\ No newline at end of file
+{"version":3,"file":"runBlock.js","sourceRoot":"","sources":["../../../src/tools/definitions/runBlock.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AASH,OAAO,EAAE,mBAAmB,EAAE,MAAM,gCAAgC,CAAC;AACrE,OAAO,EAAE,oBAAoB,EAAE,MAAM,qBAAqB,CAAC;AAE3D;;;;GAIG;AACH,MAAM,CAAC,MAAM,YAAY,GAAmB;IAC1C,IAAI,EAAE,oBAAoB;IAC1B,WAAW,EAAE,mBAAmB;IAChC,iBAAiB,EAAE,UAAU;IAC7B,WAAW,EACT,2fAA2f;IAE7f,UAAU,EAAE,mBAAmB,CAAC,oBAAoB,CAAC;IAErD,SAAS,EAAE,UAAU;IAErB,MAAM,EAAE;QACN,mBAAmB,EAAE,CAAC,MAAsB,EAAE,EAAE,CAAC,aAAa,MAAM,CAAC,EAAE,GAAG;QAC1E,iBAAiB,EAAE,CAAC,MAAsB,EAAE,EAAE,CAAC,iBAAiB,MAAM,CAAC,EAAE,EAAE;QAC3E,oBAAoB,EAAE,IAAI;QAC1B,uBAAuB,EAAE,IAAI;QAC7B,QAAQ,EAAE,MAAM;KACjB;IAED,IAAI,EAAE,CAAC,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE,OAAO,EAAE,SAAS,CAAC;CACxD,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/updateBlock.js b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/updateBlock.js
index 38f71c3..2fefde6 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/updateBlock.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/updateBlock.js
@@ -3,7 +3,7 @@
  *
  * MIT License
  */
-import { zodToToolParameters } from '@datalayer/jupyter-react/lib/tools/core/zodUtils';
+import { zodToToolParameters } from '@datalayer/jupyter-react/tools';
 import { updateBlockParamsSchema } from '../schemas/updateBlock';
 /**
  * Tool definition for updating an existing block
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/updateBlock.js.map b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/updateBlock.js.map
index c61e319..4b5a3ff 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/updateBlock.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/definitions/updateBlock.js.map
@@ -1 +1 @@
-{"version":3,"file":"updateBlock.js","sourceRoot":"","sources":["../../../src/tools/definitions/updateBlock.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AASH,OAAO,EAAE,mBAAmB,EAAE,MAAM,kDAAkD,CAAC;AACvF,OAAO,EAAE,uBAAuB,EAAE,MAAM,wBAAwB,CAAC;AAEjE;;;;GAIG;AACH,MAAM,CAAC,MAAM,eAAe,GAAmB;IAC7C,IAAI,EAAE,uBAAuB;IAC7B,WAAW,EAAE,sBAAsB;IACnC,iBAAiB,EAAE,aAAa;IAChC,WAAW,EACT,wVAAwV;IAE1V,UAAU,EAAE,mBAAmB,CAAC,uBAAuB,CAAC;IAExD,SAAS,EAAE,aAAa;IAExB,MAAM,EAAE;QACN,mBAAmB,EAAE,CAAC,MAKrB,EAAE,EAAE;YACH,MAAM,OAAO,GAAa,EAAE,CAAC;YAC7B,IAAI,MAAM,CAAC,IAAI;gBAAE,OAAO,CAAC,IAAI,CAAC,WAAW,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC;YACxD,IAAI,MAAM,CAAC,MAAM;gBAAE,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC1C,IAAI,MAAM,CAAC,UAAU;gBAAE,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YAClD,OAAO,gBAAgB,MAAM,CAAC,EAAE,KAAK,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;QAC9D,CAAC;QACD,iBAAiB,EAAE,CAAC,MAAsB,EAAE,EAAE,CAC5C,kBAAkB,MAAM,CAAC,EAAE,EAAE;QAC/B,oBAAoB,EAAE,IAAI;QAC1B,uBAAuB,EAAE,IAAI;QAC7B,QAAQ,EAAE,MAAM;KACjB;IAED,IAAI,EAAE,CAAC,SAAS,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,CAAC;CACvD,CAAC"}
\ No newline at end of file
+{"version":3,"file":"updateBlock.js","sourceRoot":"","sources":["../../../src/tools/definitions/updateBlock.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AASH,OAAO,EAAE,mBAAmB,EAAE,MAAM,gCAAgC,CAAC;AACrE,OAAO,EAAE,uBAAuB,EAAE,MAAM,wBAAwB,CAAC;AAEjE;;;;GAIG;AACH,MAAM,CAAC,MAAM,eAAe,GAAmB;IAC7C,IAAI,EAAE,uBAAuB;IAC7B,WAAW,EAAE,sBAAsB;IACnC,iBAAiB,EAAE,aAAa;IAChC,WAAW,EACT,wVAAwV;IAE1V,UAAU,EAAE,mBAAmB,CAAC,uBAAuB,CAAC;IAExD,SAAS,EAAE,aAAa;IAExB,MAAM,EAAE;QACN,mBAAmB,EAAE,CAAC,MAKrB,EAAE,EAAE;YACH,MAAM,OAAO,GAAa,EAAE,CAAC;YAC7B,IAAI,MAAM,CAAC,IAAI;gBAAE,OAAO,CAAC,IAAI,CAAC,WAAW,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC;YACxD,IAAI,MAAM,CAAC,MAAM;gBAAE,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC1C,IAAI,MAAM,CAAC,UAAU;gBAAE,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YAClD,OAAO,gBAAgB,MAAM,CAAC,EAAE,KAAK,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;QAC9D,CAAC;QACD,iBAAiB,EAAE,CAAC,MAAsB,EAAE,EAAE,CAC5C,kBAAkB,MAAM,CAAC,EAAE,EAAE;QAC/B,oBAAoB,EAAE,IAAI;QAC1B,uBAAuB,EAAE,IAAI;QAC7B,QAAQ,EAAE,MAAM;KACjB;IAED,IAAI,EAAE,CAAC,SAAS,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,CAAC;CACvD,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/deleteBlock.js b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/deleteBlock.js
index 138fced..564e150 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/deleteBlock.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/deleteBlock.js
@@ -4,7 +4,7 @@
  * MIT License
  */
 import { readAllBlocksOperation } from './readAllBlocks';
-import { validateWithZod } from '@datalayer/jupyter-react/lib/tools/core/zodUtils';
+import { validateWithZod } from '@datalayer/jupyter-react/tools';
 import { deleteBlockParamsSchema, } from '../schemas/deleteBlock';
 /**
  * Delete block operation - removes one or more blocks from a Lexical document
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/deleteBlock.js.map b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/deleteBlock.js.map
index e455e12..99f69b0 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/deleteBlock.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/deleteBlock.js.map
@@ -1 +1 @@
-{"version":3,"file":"deleteBlock.js","sourceRoot":"","sources":["../../../src/tools/operations/deleteBlock.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"deleteBlock.js","sourceRoot":"","sources":["../../../src/tools/operations/deleteBlock.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/executeCode.js b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/executeCode.js
index b9c3b1e..80c836a 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/executeCode.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/executeCode.js
@@ -3,7 +3,7 @@
  *
  * MIT License
  */
-import { validateWithZod } from '@datalayer/jupyter-react/lib/tools/core/zodUtils';
+import { validateWithZod } from '@datalayer/jupyter-react/tools';
 import { executeCodeParamsSchema, } from '../schemas/executeCode';
 /**
  * Executes code directly in the kernel without creating a block.
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/executeCode.js.map b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/executeCode.js.map
index cf34e8e..bf8ed7a 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/executeCode.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/executeCode.js.map
@@ -1 +1 @@
-{"version":3,"file":"executeCode.js","sourceRoot":"","sources":["../../../src/tools/operations/executeCode.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAUH,OAAO,EAAE,eAAe,EAAE,MAAM,kDAAkD,CAAC;AACnF,OAAO,EACL,uBAAuB,GAExB,MAAM,wBAAwB,CAAC;AAkBhC;;;;;;;;GAQG;AACH,MAAM,CAAC,MAAM,oBAAoB,GAG7B;IACF,IAAI,EAAE,aAAa;IAEnB,KAAK,CAAC,OAAO,CACX,MAAe,EACf,OAA6B;QAE7B,OAAO,CAAC,GAAG,CAAC,4CAA4C,EAAE,MAAM,CAAC,CAAC;QAClE,OAAO,CAAC,GAAG,CAAC,iCAAiC,EAAE;YAC7C,UAAU,EAAE,OAAO,CAAC,UAAU;YAC9B,WAAW,EAAE,CAAC,CAAC,OAAO,CAAC,QAAQ;SAChC,CAAC,CAAC;QAEH,4BAA4B;QAC5B,MAAM,eAAe,GAAG,eAAe,CACrC,uBAA8B,EAC9B,MAAM,EACN,aAAa,CACO,CAAC;QAEvB,OAAO,CAAC,GAAG,CAAC,0CAA0C,EAAE,eAAe,CAAC,CAAC;QAEzE,MAAM,EAAE,UAAU,EAAE,GAAG,OAAO,CAAC;QAE/B,IAAI,CAAC,UAAU,EAAE,CAAC;YAChB,OAAO;gBACL,OAAO,EAAE,KAAK;gBACd,KAAK,EAAE,6CAA6C;aACrD,CAAC;QACJ,CAAC;QAED,+BAA+B;QAC/B,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;YACtB,MAAM,IAAI,KAAK,CACb,kDAAkD;gBAChD,iFAAiF,CACpF,CAAC;QACJ,CAAC;QAED,IAAI,CAAC;YACH,OAAO,CAAC,GAAG,CAAC,uDAAuD,EAAE;gBACnE,aAAa,EAAE,IAAI,CAAC,IAAI;gBACxB,eAAe;aAChB,CAAC,CAAC;YAEH,mDAAmD;YACnD,MAAM,MAAM,GAAG,CAAC,MAAM,OAAO,CAAC,QAAQ,CAAC,OAAO,CAC5C,IAAI,CAAC,IAAI,EACT,eAAe,CAChB,CAAsB,CAAC;YAExB,OAAO,CAAC,GAAG,CAAC,yCAAyC,EAAE,MAAM,CAAC,CAAC;YAC/D,OAAO,MAAM,CAAC;QAChB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,YAAY,GAChB,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YACzD,MAAM,IAAI,KAAK,CAAC,2BAA2B,YAAY,EAAE,CAAC,CAAC;QAC7D,CAAC;IACH,CAAC;CACF,CAAC"}
\ No newline at end of file
+{"version":3,"file":"executeCode.js","sourceRoot":"","sources":["../../../src/tools/operations/executeCode.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAUH,OAAO,EAAE,eAAe,EAAE,MAAM,gCAAgC,CAAC;AACjE,OAAO,EACL,uBAAuB,GAExB,MAAM,wBAAwB,CAAC;AAkBhC;;;;;;;;GAQG;AACH,MAAM,CAAC,MAAM,oBAAoB,GAG7B;IACF,IAAI,EAAE,aAAa;IAEnB,KAAK,CAAC,OAAO,CACX,MAAe,EACf,OAA6B;QAE7B,OAAO,CAAC,GAAG,CAAC,4CAA4C,EAAE,MAAM,CAAC,CAAC;QAClE,OAAO,CAAC,GAAG,CAAC,iCAAiC,EAAE;YAC7C,UAAU,EAAE,OAAO,CAAC,UAAU;YAC9B,WAAW,EAAE,CAAC,CAAC,OAAO,CAAC,QAAQ;SAChC,CAAC,CAAC;QAEH,4BAA4B;QAC5B,MAAM,eAAe,GAAG,eAAe,CACrC,uBAA8B,EAC9B,MAAM,EACN,aAAa,CACO,CAAC;QAEvB,OAAO,CAAC,GAAG,CAAC,0CAA0C,EAAE,eAAe,CAAC,CAAC;QAEzE,MAAM,EAAE,UAAU,EAAE,GAAG,OAAO,CAAC;QAE/B,IAAI,CAAC,UAAU,EAAE,CAAC;YAChB,OAAO;gBACL,OAAO,EAAE,KAAK;gBACd,KAAK,EAAE,6CAA6C;aACrD,CAAC;QACJ,CAAC;QAED,+BAA+B;QAC/B,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;YACtB,MAAM,IAAI,KAAK,CACb,kDAAkD;gBAChD,iFAAiF,CACpF,CAAC;QACJ,CAAC;QAED,IAAI,CAAC;YACH,OAAO,CAAC,GAAG,CAAC,uDAAuD,EAAE;gBACnE,aAAa,EAAE,IAAI,CAAC,IAAI;gBACxB,eAAe;aAChB,CAAC,CAAC;YAEH,mDAAmD;YACnD,MAAM,MAAM,GAAG,CAAC,MAAM,OAAO,CAAC,QAAQ,CAAC,OAAO,CAC5C,IAAI,CAAC,IAAI,EACT,eAAe,CAChB,CAAsB,CAAC;YAExB,OAAO,CAAC,GAAG,CAAC,yCAAyC,EAAE,MAAM,CAAC,CAAC;YAC/D,OAAO,MAAM,CAAC;QAChB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,YAAY,GAChB,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YACzD,MAAM,IAAI,KAAK,CAAC,2BAA2B,YAAY,EAAE,CAAC,CAAC;QAC7D,CAAC;IACH,CAAC;CACF,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/insertBlock.js b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/insertBlock.js
index f5a9369..7d58a19 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/insertBlock.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/insertBlock.js
@@ -3,7 +3,7 @@
  *
  * MIT License
  */
-import { validateWithZod } from '@datalayer/jupyter-react/lib/tools/core/zodUtils';
+import { validateWithZod } from '@datalayer/jupyter-react/tools';
 import { insertBlockParamsSchema, } from '../schemas/insertBlock';
 /**
  * Insert block operation - adds a new block to a Lexical document
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/insertBlock.js.map b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/insertBlock.js.map
index 805bc04..8d80d58 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/insertBlock.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/insertBlock.js.map
@@ -1 +1 @@
-{"version":3,"file":"insertBlock.js","sourceRoot":"","sources":["../../../src/tools/operations/insertBlock.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AASH,OAAO,EAAE,eAAe,EAAE,MAAM,kDAAkD,CAAC;AACnF,OAAO,EACL,uBAAuB,GAExB,MAAM,wBAAwB,CAAC;AAgBhC;;;;;;;;;GASG;AACH,MAAM,CAAC,MAAM,oBAAoB,GAG7B;IACF,IAAI,EAAE,aAAa;IAEnB,KAAK,CAAC,OAAO,CACX,MAAe,EACf,OAA6B;QAE7B,4BAA4B;QAC5B,MAAM,eAAe,GAAG,eAAe,CACrC,uBAA8B,EAC9B,MAAM,EACN,aAAa,CACO,CAAC;QAEvB,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,MAAM,EAAE,UAAU,EAAE,GAAG,eAAe,CAAC;QAC9D,MAAM,EAAE,UAAU,EAAE,GAAG,OAAO,CAAC;QAE/B,mBAAmB;QACnB,IAAI,CAAC,UAAU,EAAE,CAAC;YAChB,MAAM,IAAI,KAAK,CACb,qDAAqD;gBACnD,gEAAgE,CACnE,CAAC;QACJ,CAAC;QAED,+BAA+B;QAC/B,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;YACtB,MAAM,IAAI,KAAK,CACb,kDAAkD;gBAChD,iFAAiF,CACpF,CAAC;QACJ,CAAC;QAED,IAAI,CAAC;YACH,sEAAsE;YACtE,gEAAgE;YAChE,MAAM,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;gBACxC,IAAI;gBACJ,MAAM;gBACN,UAAU;gBACV,OAAO;aACR,CAAC,CAAC;YAEH,MAAM,OAAO,GACX,OAAO,KAAK,KAAK;gBACf,CAAC,CAAC,kBAAkB,IAAI,6CAA6C;gBACrE,CAAC,CAAC,OAAO,KAAK,QAAQ;oBACpB,CAAC,CAAC,kBAAkB,IAAI,uCAAuC;oBAC/D,CAAC,CAAC,kBAAkB,IAAI,2BAA2B,OAAO,GAAG,CAAC;YAEpE,OAAO;gBACL,OAAO,EAAE,IAAI;gBACb,OAAO;aACR,CAAC;QACJ,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,YAAY,GAChB,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YACzD,MAAM,IAAI,KAAK,CAAC,2BAA2B,YAAY,EAAE,CAAC,CAAC;QAC7D,CAAC;IACH,CAAC;CACF,CAAC"}
\ No newline at end of file
+{"version":3,"file":"insertBlock.js","sourceRoot":"","sources":["../../../src/tools/operations/insertBlock.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AASH,OAAO,EAAE,eAAe,EAAE,MAAM,gCAAgC,CAAC;AACjE,OAAO,EACL,uBAAuB,GAExB,MAAM,wBAAwB,CAAC;AAgBhC;;;;;;;;;GASG;AACH,MAAM,CAAC,MAAM,oBAAoB,GAG7B;IACF,IAAI,EAAE,aAAa;IAEnB,KAAK,CAAC,OAAO,CACX,MAAe,EACf,OAA6B;QAE7B,4BAA4B;QAC5B,MAAM,eAAe,GAAG,eAAe,CACrC,uBAA8B,EAC9B,MAAM,EACN,aAAa,CACO,CAAC;QAEvB,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,MAAM,EAAE,UAAU,EAAE,GAAG,eAAe,CAAC;QAC9D,MAAM,EAAE,UAAU,EAAE,GAAG,OAAO,CAAC;QAE/B,mBAAmB;QACnB,IAAI,CAAC,UAAU,EAAE,CAAC;YAChB,MAAM,IAAI,KAAK,CACb,qDAAqD;gBACnD,gEAAgE,CACnE,CAAC;QACJ,CAAC;QAED,+BAA+B;QAC/B,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;YACtB,MAAM,IAAI,KAAK,CACb,kDAAkD;gBAChD,iFAAiF,CACpF,CAAC;QACJ,CAAC;QAED,IAAI,CAAC;YACH,sEAAsE;YACtE,gEAAgE;YAChE,MAAM,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;gBACxC,IAAI;gBACJ,MAAM;gBACN,UAAU;gBACV,OAAO;aACR,CAAC,CAAC;YAEH,MAAM,OAAO,GACX,OAAO,KAAK,KAAK;gBACf,CAAC,CAAC,kBAAkB,IAAI,6CAA6C;gBACrE,CAAC,CAAC,OAAO,KAAK,QAAQ;oBACpB,CAAC,CAAC,kBAAkB,IAAI,uCAAuC;oBAC/D,CAAC,CAAC,kBAAkB,IAAI,2BAA2B,OAAO,GAAG,CAAC;YAEpE,OAAO;gBACL,OAAO,EAAE,IAAI;gBACb,OAAO;aACR,CAAC;QACJ,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,YAAY,GAChB,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YACzD,MAAM,IAAI,KAAK,CAAC,2BAA2B,YAAY,EAAE,CAAC,CAAC;QAC7D,CAAC;IACH,CAAC;CACF,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/listAvailableBlocks.js b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/listAvailableBlocks.js
index a7cec9f..d4c01f8 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/listAvailableBlocks.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/listAvailableBlocks.js
@@ -3,7 +3,7 @@
  *
  * MIT License
  */
-import { validateWithZod } from '@datalayer/jupyter-react/lib/tools/core/zodUtils';
+import { validateWithZod } from '@datalayer/jupyter-react/tools';
 import { listAvailableBlocksParamsSchema, } from '../schemas/listAvailableBlocks';
 /**
  * Default Lexical block types supported by the editor
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/listAvailableBlocks.js.map b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/listAvailableBlocks.js.map
index d82c250..c6f8e2d 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/listAvailableBlocks.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/listAvailableBlocks.js.map
@@ -1 +1 @@
-{"version":3,"file":"listAvailableBlocks.js","sourceRoot":"","sources":["../../../src/tools/operations/listAvailableBlocks.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"listAvailableBlocks.js","sourceRoot":"","sources":["../../../src/tools/operations/listAvailableBlocks.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/readAllBlocks.js b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/readAllBlocks.js
index cb700ba..315f85d 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/readAllBlocks.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/readAllBlocks.js
@@ -3,7 +3,7 @@
  *
  * MIT License
  */
-import { validateWithZod } from '@datalayer/jupyter-react/lib/tools/core/zodUtils';
+import { validateWithZod } from '@datalayer/jupyter-react/tools';
 import { readAllBlocksParamsSchema, } from '../schemas/readAllBlocks';
 /**
  * Read all blocks operation - retrieves all blocks from a Lexical document
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/readAllBlocks.js.map b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/readAllBlocks.js.map
index c135aa3..fc1a517 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/readAllBlocks.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/readAllBlocks.js.map
@@ -1 +1 @@
-{"version":3,"file":"readAllBlocks.js","sourceRoot":"","sources":["../../../src/tools/operations/readAllBlocks.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAUH,OAAO,EAAE,eAAe,EAAE,MAAM,kDAAkD,CAAC;AACnF,OAAO,EACL,yBAAyB,GAE1B,MAAM,0BAA0B,CAAC;AAmBlC;;;;;;;GAOG;AACH,MAAM,CAAC,MAAM,sBAAsB,GAG/B;IACF,IAAI,EAAE,eAAe;IAErB,KAAK,CAAC,OAAO,CACX,MAAe,EACf,OAA6B;QAE7B,4BAA4B;QAC5B,MAAM,eAAe,GAAG,eAAe,CACrC,yBAAgC,EAChC,MAAM,IAAI,EAAE,EACZ,eAAe,CACO,CAAC;QAEzB,MAAM,EAAE,MAAM,GAAG,OAAO,EAAE,GAAG,eAAe,CAAC;QAC7C,MAAM,EAAE,UAAU,EAAE,GAAG,OAAO,CAAC;QAE/B,mBAAmB;QACnB,IAAI,CAAC,UAAU,EAAE,CAAC;YAChB,MAAM,IAAI,KAAK,CACb,uDAAuD;gBACrD,gEAAgE,CACnE,CAAC;QACJ,CAAC;QAED,+BAA+B;QAC/B,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;YACtB,MAAM,IAAI,KAAK,CACb,oDAAoD;gBAClD,iFAAiF,CACpF,CAAC;QACJ,CAAC;QAED,IAAI,CAAC;YACH,sCAAsC;YACtC,MAAM,MAAM,GAAG,CAAC,MAAM,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;gBACxD,MAAM;aACP,CAAC,CAAkC,CAAC;YAErC,OAAO;gBACL,OAAO,EAAE,IAAI;gBACb,MAAM;gBACN,UAAU,EAAE,MAAM,CAAC,MAAM;aAC1B,CAAC;QACJ,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,YAAY,GAChB,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YACzD,MAAM,IAAI,KAAK,CAAC,8BAA8B,YAAY,EAAE,CAAC,CAAC;QAChE,CAAC;IACH,CAAC;CACF,CAAC"}
\ No newline at end of file
+{"version":3,"file":"readAllBlocks.js","sourceRoot":"","sources":["../../../src/tools/operations/readAllBlocks.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAUH,OAAO,EAAE,eAAe,EAAE,MAAM,gCAAgC,CAAC;AACjE,OAAO,EACL,yBAAyB,GAE1B,MAAM,0BAA0B,CAAC;AAmBlC;;;;;;;GAOG;AACH,MAAM,CAAC,MAAM,sBAAsB,GAG/B;IACF,IAAI,EAAE,eAAe;IAErB,KAAK,CAAC,OAAO,CACX,MAAe,EACf,OAA6B;QAE7B,4BAA4B;QAC5B,MAAM,eAAe,GAAG,eAAe,CACrC,yBAAgC,EAChC,MAAM,IAAI,EAAE,EACZ,eAAe,CACO,CAAC;QAEzB,MAAM,EAAE,MAAM,GAAG,OAAO,EAAE,GAAG,eAAe,CAAC;QAC7C,MAAM,EAAE,UAAU,EAAE,GAAG,OAAO,CAAC;QAE/B,mBAAmB;QACnB,IAAI,CAAC,UAAU,EAAE,CAAC;YAChB,MAAM,IAAI,KAAK,CACb,uDAAuD;gBACrD,gEAAgE,CACnE,CAAC;QACJ,CAAC;QAED,+BAA+B;QAC/B,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;YACtB,MAAM,IAAI,KAAK,CACb,oDAAoD;gBAClD,iFAAiF,CACpF,CAAC;QACJ,CAAC;QAED,IAAI,CAAC;YACH,sCAAsC;YACtC,MAAM,MAAM,GAAG,CAAC,MAAM,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;gBACxD,MAAM;aACP,CAAC,CAAkC,CAAC;YAErC,OAAO;gBACL,OAAO,EAAE,IAAI;gBACb,MAAM;gBACN,UAAU,EAAE,MAAM,CAAC,MAAM;aAC1B,CAAC;QACJ,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,YAAY,GAChB,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YACzD,MAAM,IAAI,KAAK,CAAC,8BAA8B,YAAY,EAAE,CAAC,CAAC;QAChE,CAAC;IACH,CAAC;CACF,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/readBlock.js b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/readBlock.js
index 70a4ca3..9768cf7 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/readBlock.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/readBlock.js
@@ -4,7 +4,7 @@
  * MIT License
  */
 import { readAllBlocksOperation } from './readAllBlocks';
-import { validateWithZod } from '@datalayer/jupyter-react/lib/tools/core/zodUtils';
+import { validateWithZod } from '@datalayer/jupyter-react/tools';
 import { readBlockParamsSchema, } from '../schemas/readBlock';
 /**
  * Read block operation - retrieves a single block from a Lexical document
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/readBlock.js.map b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/readBlock.js.map
index 677cd85..c187fda 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/readBlock.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/readBlock.js.map
@@ -1 +1 @@
-{"version":3,"file":"readBlock.js","sourceRoot":"","sources":["../../../src/tools/operations/readBlock.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAUH,OAAO,EAAE,sBAAsB,EAAE,MAAM,iBAAiB,CAAC;AACzD,OAAO,EAAE,eAAe,EAAE,MAAM,kDAAkD,CAAC;AACnF,OAAO,EACL,qBAAqB,GAEtB,MAAM,sBAAsB,CAAC;AAgB9B;;;;;;GAMG;AACH,MAAM,CAAC,MAAM,kBAAkB,GAG3B;IACF,IAAI,EAAE,WAAW;IAEjB,KAAK,CAAC,OAAO,CACX,MAAe,EACf,OAA6B;QAE7B,4BAA4B;QAC5B,MAAM,eAAe,GAAG,eAAe,CACrC,qBAA4B,EAC5B,MAAM,EACN,WAAW,CACO,CAAC;QAErB,MAAM,EAAE,EAAE,EAAE,GAAG,eAAe,CAAC;QAC/B,MAAM,EAAE,UAAU,EAAE,GAAG,OAAO,CAAC;QAE/B,mBAAmB;QACnB,IAAI,CAAC,UAAU,EAAE,CAAC;YAChB,MAAM,IAAI,KAAK,CACb,mDAAmD;gBACjD,gEAAgE,CACnE,CAAC;QACJ,CAAC;QAED,+BAA+B;QAC/B,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;YACtB,MAAM,IAAI,KAAK,CACb,gDAAgD;gBAC9C,iFAAiF,CACpF,CAAC;QACJ,CAAC;QAED,IAAI,CAAC;YACH,+DAA+D;YAC/D,MAAM,YAAY,GAAG,MAAM,sBAAsB,CAAC,OAAO,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;YAEvE,IAAI,CAAC,YAAY,CAAC,OAAO,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;gBAClD,MAAM,IAAI,KAAK,CAAC,6CAA6C,CAAC,CAAC;YACjE,CAAC;YAED,MAAM,UAAU,GAAG,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC;YAC9C,MAAM,WAAW,GAAG,YAAY,CAAC,MAAM,CAAC,IAAI,CAC1C,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,QAAQ,KAAK,EAAE,CAC/B,CAAC;YAEF,+DAA+D;YAC/D,IAAI,CAAC,WAAW,EAAE,CAAC;gBACjB,OAAO;oBACL,OAAO,EAAE,KAAK;oBACd,KAAK,EAAE,aAAa,EAAE,6BAA6B,UAAU,SAAS,UAAU,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG;iBACrG,CAAC;YACJ,CAAC;YAED,mDAAmD;YACnD,MAAM,KAAK,GAAG,CAAC,MAAM,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;gBACvD,OAAO,EAAE,EAAE;aACZ,CAAC,CAAiB,CAAC;YAEpB,OAAO;gBACL,OAAO,EAAE,IAAI;gBACb,KAAK;aACN,CAAC;QACJ,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,YAAY,GAChB,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YACzD,MAAM,IAAI,KAAK,CAAC,yBAAyB,YAAY,EAAE,CAAC,CAAC;QAC3D,CAAC;IACH,CAAC;CACF,CAAC"}
\ No newline at end of file
+{"version":3,"file":"readBlock.js","sourceRoot":"","sources":["../../../src/tools/operations/readBlock.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAUH,OAAO,EAAE,sBAAsB,EAAE,MAAM,iBAAiB,CAAC;AACzD,OAAO,EAAE,eAAe,EAAE,MAAM,gCAAgC,CAAC;AACjE,OAAO,EACL,qBAAqB,GAEtB,MAAM,sBAAsB,CAAC;AAgB9B;;;;;;GAMG;AACH,MAAM,CAAC,MAAM,kBAAkB,GAG3B;IACF,IAAI,EAAE,WAAW;IAEjB,KAAK,CAAC,OAAO,CACX,MAAe,EACf,OAA6B;QAE7B,4BAA4B;QAC5B,MAAM,eAAe,GAAG,eAAe,CACrC,qBAA4B,EAC5B,MAAM,EACN,WAAW,CACO,CAAC;QAErB,MAAM,EAAE,EAAE,EAAE,GAAG,eAAe,CAAC;QAC/B,MAAM,EAAE,UAAU,EAAE,GAAG,OAAO,CAAC;QAE/B,mBAAmB;QACnB,IAAI,CAAC,UAAU,EAAE,CAAC;YAChB,MAAM,IAAI,KAAK,CACb,mDAAmD;gBACjD,gEAAgE,CACnE,CAAC;QACJ,CAAC;QAED,+BAA+B;QAC/B,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;YACtB,MAAM,IAAI,KAAK,CACb,gDAAgD;gBAC9C,iFAAiF,CACpF,CAAC;QACJ,CAAC;QAED,IAAI,CAAC;YACH,+DAA+D;YAC/D,MAAM,YAAY,GAAG,MAAM,sBAAsB,CAAC,OAAO,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;YAEvE,IAAI,CAAC,YAAY,CAAC,OAAO,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;gBAClD,MAAM,IAAI,KAAK,CAAC,6CAA6C,CAAC,CAAC;YACjE,CAAC;YAED,MAAM,UAAU,GAAG,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC;YAC9C,MAAM,WAAW,GAAG,YAAY,CAAC,MAAM,CAAC,IAAI,CAC1C,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,QAAQ,KAAK,EAAE,CAC/B,CAAC;YAEF,+DAA+D;YAC/D,IAAI,CAAC,WAAW,EAAE,CAAC;gBACjB,OAAO;oBACL,OAAO,EAAE,KAAK;oBACd,KAAK,EAAE,aAAa,EAAE,6BAA6B,UAAU,SAAS,UAAU,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG;iBACrG,CAAC;YACJ,CAAC;YAED,mDAAmD;YACnD,MAAM,KAAK,GAAG,CAAC,MAAM,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;gBACvD,OAAO,EAAE,EAAE;aACZ,CAAC,CAAiB,CAAC;YAEpB,OAAO;gBACL,OAAO,EAAE,IAAI;gBACb,KAAK;aACN,CAAC;QACJ,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,YAAY,GAChB,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YACzD,MAAM,IAAI,KAAK,CAAC,yBAAyB,YAAY,EAAE,CAAC,CAAC;QAC3D,CAAC;IACH,CAAC;CACF,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/runAllBlocks.js b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/runAllBlocks.js
index 7ef9b08..618cc4c 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/runAllBlocks.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/runAllBlocks.js
@@ -3,7 +3,7 @@
  *
  * MIT License
  */
-import { validateWithZod } from '@datalayer/jupyter-react/lib/tools/core/zodUtils';
+import { validateWithZod } from '@datalayer/jupyter-react/tools';
 import { runAllBlocksParamsSchema, } from '../schemas/runAllBlocks';
 /**
  * Run all blocks operation - executes all executable blocks in a Lexical document
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/runAllBlocks.js.map b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/runAllBlocks.js.map
index c31463e..6719109 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/runAllBlocks.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/runAllBlocks.js.map
@@ -1 +1 @@
-{"version":3,"file":"runAllBlocks.js","sourceRoot":"","sources":["../../../src/tools/operations/runAllBlocks.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AASH,OAAO,EAAE,eAAe,EAAE,MAAM,kDAAkD,CAAC;AACnF,OAAO,EACL,wBAAwB,GAEzB,MAAM,yBAAyB,CAAC;AAgBjC;;;;;;;GAOG;AACH,MAAM,CAAC,MAAM,qBAAqB,GAG9B;IACF,IAAI,EAAE,cAAc;IAEpB,KAAK,CAAC,OAAO,CACX,MAAe,EACf,OAA6B;QAE7B,4BAA4B;QAC5B,eAAe,CACb,wBAA+B,EAC/B,MAAM,IAAI,EAAE,EACZ,cAAc,CACf,CAAC;QAEF,MAAM,EAAE,UAAU,EAAE,GAAG,OAAO,CAAC;QAE/B,mBAAmB;QACnB,IAAI,CAAC,UAAU,EAAE,CAAC;YAChB,MAAM,IAAI,KAAK,CACb,sDAAsD;gBACpD,gEAAgE,CACnE,CAAC;QACJ,CAAC;QAED,+BAA+B;QAC/B,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;YACtB,MAAM,IAAI,KAAK,CACb,mDAAmD;gBACjD,iFAAiF,CACpF,CAAC;QACJ,CAAC;QAED,IAAI,CAAC;YACH,mDAAmD;YACnD,MAAM,aAAa,GAAG,CAAC,MAAM,OAAO,CAAC,QAAQ,CAAC,OAAO,CACnD,IAAI,CAAC,IAAI,EACT,EAAE,CACH,CAAW,CAAC;YAEb,OAAO;gBACL,OAAO,EAAE,IAAI;gBACb,aAAa;aACd,CAAC;QACJ,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,YAAY,GAChB,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YACzD,MAAM,IAAI,KAAK,CAAC,6BAA6B,YAAY,EAAE,CAAC,CAAC;QAC/D,CAAC;IACH,CAAC;CACF,CAAC"}
\ No newline at end of file
+{"version":3,"file":"runAllBlocks.js","sourceRoot":"","sources":["../../../src/tools/operations/runAllBlocks.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AASH,OAAO,EAAE,eAAe,EAAE,MAAM,gCAAgC,CAAC;AACjE,OAAO,EACL,wBAAwB,GAEzB,MAAM,yBAAyB,CAAC;AAgBjC;;;;;;;GAOG;AACH,MAAM,CAAC,MAAM,qBAAqB,GAG9B;IACF,IAAI,EAAE,cAAc;IAEpB,KAAK,CAAC,OAAO,CACX,MAAe,EACf,OAA6B;QAE7B,4BAA4B;QAC5B,eAAe,CACb,wBAA+B,EAC/B,MAAM,IAAI,EAAE,EACZ,cAAc,CACf,CAAC;QAEF,MAAM,EAAE,UAAU,EAAE,GAAG,OAAO,CAAC;QAE/B,mBAAmB;QACnB,IAAI,CAAC,UAAU,EAAE,CAAC;YAChB,MAAM,IAAI,KAAK,CACb,sDAAsD;gBACpD,gEAAgE,CACnE,CAAC;QACJ,CAAC;QAED,+BAA+B;QAC/B,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;YACtB,MAAM,IAAI,KAAK,CACb,mDAAmD;gBACjD,iFAAiF,CACpF,CAAC;QACJ,CAAC;QAED,IAAI,CAAC;YACH,mDAAmD;YACnD,MAAM,aAAa,GAAG,CAAC,MAAM,OAAO,CAAC,QAAQ,CAAC,OAAO,CACnD,IAAI,CAAC,IAAI,EACT,EAAE,CACH,CAAW,CAAC;YAEb,OAAO;gBACL,OAAO,EAAE,IAAI;gBACb,aAAa;aACd,CAAC;QACJ,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,YAAY,GAChB,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YACzD,MAAM,IAAI,KAAK,CAAC,6BAA6B,YAAY,EAAE,CAAC,CAAC;QAC/D,CAAC;IACH,CAAC;CACF,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/runBlock.js b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/runBlock.js
index e4eac88..7c16821 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/runBlock.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/runBlock.js
@@ -4,7 +4,7 @@
  * MIT License
  */
 import { readAllBlocksOperation } from './readAllBlocks';
-import { validateWithZod } from '@datalayer/jupyter-react/lib/tools/core/zodUtils';
+import { validateWithZod } from '@datalayer/jupyter-react/tools';
 import { runBlockParamsSchema } from '../schemas/runBlock';
 /**
  * Run block operation - executes a single block in a Lexical document
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/runBlock.js.map b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/runBlock.js.map
index f8b973d..5750b70 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/runBlock.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/runBlock.js.map
@@ -1 +1 @@
-{"version":3,"file":"runBlock.js","sourceRoot":"","sources":["../../../src/tools/operations/runBlock.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"runBlock.js","sourceRoot":"","sources":["../../../src/tools/operations/runBlock.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/updateBlock.js b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/updateBlock.js
index e379d2e..0dad866 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/updateBlock.js
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/updateBlock.js
@@ -3,7 +3,7 @@
  *
  * MIT License
  */
-import { validateWithZod } from '@datalayer/jupyter-react/lib/tools/core/zodUtils';
+import { validateWithZod } from '@datalayer/jupyter-react/tools';
 import { updateBlockParamsSchema, } from '../schemas/updateBlock';
 /**
  * Update block operation - modifies an existing block in a Lexical document
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/updateBlock.js.map b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/updateBlock.js.map
index 30cd50b..b1b7308 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/updateBlock.js.map
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/operations/updateBlock.js.map
@@ -1 +1 @@
-{"version":3,"file":"updateBlock.js","sourceRoot":"","sources":["../../../src/tools/operations/updateBlock.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AASH,OAAO,EAAE,eAAe,EAAE,MAAM,kDAAkD,CAAC;AACnF,OAAO,EACL,uBAAuB,GAExB,MAAM,wBAAwB,CAAC;AAmBhC;;;;;;;GAOG;AACH,MAAM,CAAC,MAAM,oBAAoB,GAG7B;IACF,IAAI,EAAE,aAAa;IAEnB,KAAK,CAAC,OAAO,CACX,MAAe,EACf,OAA6B;QAE7B,4BAA4B;QAC5B,MAAM,eAAe,GAAG,eAAe,CACrC,uBAA8B,EAC9B,MAAM,EACN,aAAa,CACO,CAAC;QAEvB,MAAM,EAAE,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,UAAU,EAAE,GAAG,eAAe,CAAC;QACzD,MAAM,EAAE,UAAU,EAAE,GAAG,OAAO,CAAC;QAE/B,sDAAsD;QACtD,IACE,IAAI,KAAK,SAAS;YAClB,MAAM,KAAK,SAAS;YACpB,UAAU,KAAK,SAAS,EACxB,CAAC;YACD,MAAM,IAAI,KAAK,CACb,yFAAyF,CAC1F,CAAC;QACJ,CAAC;QAED,mBAAmB;QACnB,IAAI,CAAC,UAAU,EAAE,CAAC;YAChB,MAAM,IAAI,KAAK,CACb,qDAAqD;gBACnD,gEAAgE,CACnE,CAAC;QACJ,CAAC;QAED,+BAA+B;QAC/B,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;YACtB,MAAM,IAAI,KAAK,CACb,kDAAkD;gBAChD,iFAAiF,CACpF,CAAC;QACJ,CAAC;QAED,IAAI,CAAC;YACH,sEAAsE;YACtE,+CAA+C;YAC/C,MAAM,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;gBACxC,OAAO,EAAE,EAAE;gBACX,IAAI;gBACJ,MAAM;gBACN,UAAU;aACX,CAAC,CAAC;YAEH,MAAM,aAAa,GAAG;gBACpB,IAAI,KAAK,SAAS,IAAI,MAAM;gBAC5B,MAAM,KAAK,SAAS,IAAI,QAAQ;gBAChC,UAAU,KAAK,SAAS,IAAI,YAAY;aACzC;iBACE,MAAM,CAAC,OAAO,CAAC;iBACf,IAAI,CAAC,IAAI,CAAC,CAAC;YACd,MAAM,OAAO,GAAG,UAAU,EAAE,2BAA2B,aAAa,GAAG,CAAC;YAExE,OAAO;gBACL,OAAO,EAAE,IAAI;gBACb,EAAE,EAAE,EAAE;gBACN,OAAO;aACR,CAAC;QACJ,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,YAAY,GAChB,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YACzD,MAAM,IAAI,KAAK,CAAC,2BAA2B,YAAY,EAAE,CAAC,CAAC;QAC7D,CAAC;IACH,CAAC;CACF,CAAC"}
\ No newline at end of file
+{"version":3,"file":"updateBlock.js","sourceRoot":"","sources":["../../../src/tools/operations/updateBlock.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AASH,OAAO,EAAE,eAAe,EAAE,MAAM,gCAAgC,CAAC;AACjE,OAAO,EACL,uBAAuB,GAExB,MAAM,wBAAwB,CAAC;AAmBhC;;;;;;;GAOG;AACH,MAAM,CAAC,MAAM,oBAAoB,GAG7B;IACF,IAAI,EAAE,aAAa;IAEnB,KAAK,CAAC,OAAO,CACX,MAAe,EACf,OAA6B;QAE7B,4BAA4B;QAC5B,MAAM,eAAe,GAAG,eAAe,CACrC,uBAA8B,EAC9B,MAAM,EACN,aAAa,CACO,CAAC;QAEvB,MAAM,EAAE,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,UAAU,EAAE,GAAG,eAAe,CAAC;QACzD,MAAM,EAAE,UAAU,EAAE,GAAG,OAAO,CAAC;QAE/B,sDAAsD;QACtD,IACE,IAAI,KAAK,SAAS;YAClB,MAAM,KAAK,SAAS;YACpB,UAAU,KAAK,SAAS,EACxB,CAAC;YACD,MAAM,IAAI,KAAK,CACb,yFAAyF,CAC1F,CAAC;QACJ,CAAC;QAED,mBAAmB;QACnB,IAAI,CAAC,UAAU,EAAE,CAAC;YAChB,MAAM,IAAI,KAAK,CACb,qDAAqD;gBACnD,gEAAgE,CACnE,CAAC;QACJ,CAAC;QAED,+BAA+B;QAC/B,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;YACtB,MAAM,IAAI,KAAK,CACb,kDAAkD;gBAChD,iFAAiF,CACpF,CAAC;QACJ,CAAC;QAED,IAAI,CAAC;YACH,sEAAsE;YACtE,+CAA+C;YAC/C,MAAM,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE;gBACxC,OAAO,EAAE,EAAE;gBACX,IAAI;gBACJ,MAAM;gBACN,UAAU;aACX,CAAC,CAAC;YAEH,MAAM,aAAa,GAAG;gBACpB,IAAI,KAAK,SAAS,IAAI,MAAM;gBAC5B,MAAM,KAAK,SAAS,IAAI,QAAQ;gBAChC,UAAU,KAAK,SAAS,IAAI,YAAY;aACzC;iBACE,MAAM,CAAC,OAAO,CAAC;iBACf,IAAI,CAAC,IAAI,CAAC,CAAC;YACd,MAAM,OAAO,GAAG,UAAU,EAAE,2BAA2B,aAAa,GAAG,CAAC;YAExE,OAAO;gBACL,OAAO,EAAE,IAAI;gBACb,EAAE,EAAE,EAAE;gBACN,OAAO;aACR,CAAC;QACJ,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,YAAY,GAChB,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YACzD,MAAM,IAAI,KAAK,CAAC,2BAA2B,YAAY,EAAE,CAAC,CAAC;QAC7D,CAAC;IACH,CAAC;CACF,CAAC"}
\ No newline at end of file
diff --git a/node_modules/@datalayer/jupyter-lexical/lib/tools/schemas/listAvailableBlocks.d.ts b/node_modules/@datalayer/jupyter-lexical/lib/tools/schemas/listAvailableBlocks.d.ts
index 1e7d21c..d33038f 100644
--- a/node_modules/@datalayer/jupyter-lexical/lib/tools/schemas/listAvailableBlocks.d.ts
+++ b/node_modules/@datalayer/jupyter-lexical/lib/tools/schemas/listAvailableBlocks.d.ts
@@ -5,22 +5,22 @@
  */
 import { z } from 'zod';
 export declare const blockCategorySchema: z.ZodEnum<{
+    code: "code";
+    table: "table";
     list: "list";
     media: "media";
     text: "text";
     heading: "heading";
-    table: "table";
-    code: "code";
     jupyter: "jupyter";
 }>;
 export declare const listAvailableBlocksParamsSchema: z.ZodObject<{
     category: z.ZodOptional<z.ZodEnum<{
+        code: "code";
+        table: "table";
         list: "list";
         media: "media";
         text: "text";
         heading: "heading";
-        table: "table";
-        code: "code";
         jupyter: "jupyter";
     }>>;
 }, z.core.$strip>;
