/*
 * Copyright (c) 2023-2025 Datalayer, Inc.
 * Distributed under the terms of the Modified BSD License.
 */

/* Layout container for editor and table of contents */
.lexical-editor-layout {
  display: flex;
  flex-direction: row;
  gap: 16px;
  height: 100%;
}

.lexical-editor-main {
  flex: 1;
  min-width: 0; /* Allow flex item to shrink below its content size */
}

.lexical-editor-sidebar {
  flex: 0 0 250px; /* Don't grow, don't shrink, fixed width */
  min-width: 200px;
  max-width: 300px;
}

/* Force table of contents to appear in sidebar */
.lexical-editor-sidebar {
  position: relative !important;
}

/* Hide table of contents from its default location */
body .table-of-contents,
body div[data-lexical-table-of-contents],
body .TableOfContentsPlugin__tableOfContents,
body [class*="table-of-contents"],
body [class*="TableOfContents"] {
  display: none !important;
}

/* Show table of contents only in our sidebar */
.lexical-editor-sidebar .table-of-contents,
.lexical-editor-sidebar div[data-lexical-table-of-contents],
.lexical-editor-sidebar .TableOfContentsPlugin__tableOfContents,
.lexical-editor-sidebar [class*="table-of-contents"],
.lexical-editor-sidebar [class*="TableOfContents"] {
  display: block !important;
  position: static !important;
  top: auto !important;
  left: auto !important;
  right: auto !important;
  bottom: auto !important;
  transform: none !important;

  /* Better integration with electron app layout */
  background-color: #f6f8fa;
  border: 1px solid #d1d9e0;
  border-radius: 6px;
  margin: 0;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);

  /* Full width of sidebar */
  width: 100% !important;
  height: auto;
  max-height: 600px;
  overflow-y: auto;

  /* Better visual appearance */
  padding: 12px;
  box-sizing: border-box;
}

/* Update headings container */
.headings {
  height: auto !important;
  max-height: 300px;
  background-color: transparent;
  margin-left: 0 !important;
  padding: 8px 0;
}

/* Remove the absolute positioned line */
.headings::before {
  display: none !important;
}

/* Better heading styles for electron app */
.first-heading {
  color: #1f2328 !important;
  font-weight: 600 !important;
  font-size: 14px;
  margin-bottom: 8px;
}

.normal-heading {
  color: #656d76 !important;
  font-size: 13px !important;
  line-height: 1.4 !important;
  padding: 2px 0;
  transition: color 0.2s ease;
}

.normal-heading:hover {
  color: #0969da !important;
}

.selected-heading {
  color: #0969da !important;
  font-weight: 500;
}

/* Better indentation for nested headings */
.table-of-contents .heading2 {
  margin-left: 12px !important;
}

.table-of-contents .heading3 {
  margin-left: 24px !important;
}

/* Update selected heading indicator */
.selected-heading-wrapper::before {
  left: -12px !important;
  top: 6px !important;
  background-color: #0969da !important;
  border: solid 2px #f6f8fa !important;
  width: 6px !important;
  height: 6px !important;
}

.normal-heading-wrapper {
  margin-left: 16px !important;
}
